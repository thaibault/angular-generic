'use strict';
module.exports=function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=5)}([function(e){e.exports=require('clientnode')},function(e){e.exports=require('@angular/core')},function(e){e.exports=require('@angular/common')},function(e){e.exports=require('@angular/router')},function(e){e.exports=require('@angular/animations')},function(e,t,a){e.exports=a(6)},function(e,t,a){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(i,r){try{var o=t[i](r),s=o.value}catch(e){return void a(e)}return o.done?void e(s):Promise.resolve(s).then(function(e){n('next',e)},function(e){n('throw',e)})}return n('next')})}}function r(e='/',t=[],a=''){let n={},i=new Set,o='';t.reverse();for(const s of t)if('string'==typeof s)i.add(P.default.join(e,a,s));else if(s.hasOwnProperty('path')){if(s.hasOwnProperty('redirectTo'))'**'===s.path&&(s.redirectTo.startsWith('/')?o=P.default.join(e,s.redirectTo):o=P.default.join(e,a,s.redirectTo)),n[P.default.join(e,a,s.path)]=o;else if(s.path.includes(':')){o&&i.add(o);continue}else'**'===s.path||s.hasOwnProperty('children')&&'**'===s.children[s.children.length-1].path||i.add(P.default.join(e,a,s.path));if(s.hasOwnProperty('children')){const t=r(e,s.children,P.default.join(a,s.path));m.default.extendObject(n,t.links),i=new Set([...i,...t.paths])}}else if(s.hasOwnProperty('children')){const t=r(e,s.children,a);m.default.extendObject(n,t.links),i=new Set([...i,...t.paths])}for(const i in n)n.hasOwnProperty(`${n[i]}/**`)&&(n[i]=n[`${n[i]}/**`]);return{links:n,paths:i}}function o(e,t){return t=m.default.extendObject(!0,{applicationDomNodeSelector:T.applicationDomNodeSelector,basePath:null,component:null,encoding:'utf-8',globalVariableNamesToInject:T.globalVariableNameToRetrieveDataFrom,htmlFilePath:P.default.resolve(P.default.dirname(process.argv[1]),'index.html'),minify:!1,reInjectInnerHTMLFromInitialDomNode:!1,routes:[],scope:{[T.globalVariableNameToRetrieveDataFrom]:{configuration:{database:{connector:{adapter:'memory'},plugins:[N.default]}}}},targetDirectoryPath:'preRendered'},t||{}),'object'==typeof t.minify&&null!==t.minify&&(t.minify=m.default.extendObject(!0,{caseSensitive:!0,collapseBooleanAttributes:!0,collapseInlineTagWhitespace:!0,collapseWhitespace:!0,conservativeCollapse:!0,decodeEntities:!1,html5:!0,includeAutoGeneratedTags:!0,keepClosingSlash:!0,maxLineLength:Infinity,minifyCSS:!0,minifyJS:!0,minifyURLs:!0,preserveLineBreaks:!1,preventAttributesEscaping:!0,processConditionalComments:!0,quoteCharacter:'"',removeAttributeQuotes:!0,removeComments:!0,removeEmptyAttributes:!0,removeEmptyElements:!1,removeOptionalTags:!0,removeRedundantAttributes:!0,removeScriptTypeAttributes:!0,removeStyleLinkTypeAttributes:!0,removeTagWhitespace:!1,sortAttributes:!0,sortClassName:!0,trimCustomFragments:!0,useShortDoctype:!0},t.minify)),t.targetDirectoryPath=P.default.resolve(P.default.dirname(process.argv[1]),t.targetDirectoryPath),t.globalVariableNamesToInject=[].concat(t.globalVariableNamesToInject),t.routes=[].concat(t.routes),new Promise((n,o)=>f.default.readFile(t.htmlFilePath,{encoding:t.encoding},(()=>{var u=i(function*(u,c){if(u)return o(u);O.virtualConsole=new g.VirtualConsole;for(const e of['assert','dir','error','info','log','time','timeEnd','trace','warn'])O.virtualConsole.on(e,console[e].bind(console));for(const e in O.window=new g.JSDOM(c,{runScripts:'dangerously',virtualConsole:O.virtualConsole}).window,O.applicationDomNode=O.window.document.querySelector(t.applicationDomNodeSelector),O.innerHTMLToReInject='',O.applicationDomNode&&(O.innerHTMLToReInject=O.applicationDomNode.innerHTML),O.basePath=t.basePath?t.basePath:O.window.document.getElementsByTagName('base')[0].href,O.window)O.window.hasOwnProperty(e)&&!s.globalContext.hasOwnProperty(e)&&(0===t.globalVariableNamesToInject.length||t.globalVariableNamesToInject.includes(e))&&(console.info(`Inject variable "${e}".`),s.globalContext[e]=O.window[e]);m.default.plainObjectPrototypes=m.default.plainObjectPrototypes.concat(O.window.Object.prototype),m.default.extendObject(!0,s.globalContext,t.scope);const y=[];let h;if(t.routes.length){const e=r(O.basePath,t.routes);for(const a in e.links)if(e.links.hasOwnProperty(a)){const r=P.default.join(t.targetDirectoryPath,a.substring(O.basePath.length).replace(/^\/+(.+)/,'$1'));y.push(r);const s=P.default.join(t.targetDirectoryPath,e.links[a].substring(O.basePath.length).replace(/^\/+(.+?)\/?$/,'$1'))+'.html';yield(0,b.default)(P.default.dirname(r),(()=>{var e=i(function*(e){if(e)return o(e);let t=null;try{t=yield new Promise(function(e,t){return f.default.lstat(r,function(a,n){return a?t(a):e(n)})})}catch(e){if('ENOENT'!==e.code)throw e}t&&(t.isSymbolicLink()||t.isFile())&&(yield new Promise(function(e,t){return(0,S.default)(r,function(a){return a?t(a):e()})})),f.default.symlink(s,r,function(e){return e?o(e):n()})});return function(){return e.apply(this,arguments)}})())}h=Array.from(e.paths).sort()}else h=[O.basePath];console.info(`Found ${h.length} pre-renderable url`+`${1<h.length?'s':''}.`),(0,d.enableProdMode)();const x=[],N=[];for(const n of h){const r=P.default.join(t.targetDirectoryPath,n===O.basePath?'/':n.substring(O.basePath.length).replace(/^\/+(.+?)\/?$/,'$1'))+'.html';N.push(r);try{x.push((yield new Promise(function(o,s){return(0,b.default)(P.default.dirname(r),(()=>{var u=i(function*(i){if(i)return s(i);console.info(`Pre-render url "${n}".`);let u='';if(t.component){var y,b;let a=(y=(0,d.NgModule)({bootstrap:[t.component],imports:[e,p.ServerModule],providers:[{provide:l.APP_BASE_HREF,useValue:O.basePath}]}),y(b=class{})||b);try{u=yield(0,p.renderModule)(a,{document:c,url:n})}catch(e){return console.warn('Error occurred during dynamic pre-rendering'+` path "${n}": `+m.default.representObject(e)),s(e)}}else try{u=yield(0,p.renderModuleFactory)(e,{document:c,url:n})}catch(e){return console.warn('Error occurred during ahead of time '+`compiled pre-rendering path "${n}": `+m.default.representObject(e)),s(e)}if(t.reInjectInnerHTMLFromInitialDomNode){const e=[];u=u.replace(/(<style[^>]*>)([\s\S]*?)(<\/style[^>]*>)/gi,function(t,a,n,i){return e.push(n),`${a}${i}`});const a=new g.JSDOM(u).window,n=a.document.querySelector(t.applicationDomNodeSelector),i=/<!--{?generic-inject-application-->(?:[\s\S]*?<!--generic-inject-application}-->)?/i;i.test(O.innerHTMLToReInject)?n.innerHTML=O.innerHTMLToReInject.replace(i,n.innerHTML):n.innerHTML+=O.innerHTMLToReInject,u=u.replace(/^(\s*<!doctype [^>]+?>\s*)[\s\S]*$/i,'$1')+a.document.documentElement.outerHTML.replace(/(<style[^>]*>)[\s\S]*?(<\/style[^>]*>)/gi,function(t,a,n){return`${a}${e.shift()}`+n})}if(t.minify)try{u=a(36).minify(u,t.minify)}catch(e){console.warn('Pre-rendered output could not be minfied: "'+`${e}".`)}let h=null;try{h=yield new Promise(function(e,t){return f.default.lstat(r,function(a,n){return a?t(a):e(n)})})}catch(e){if('ENOENT'!==e.code)throw e}h&&(h.isSymbolicLink()||h.isFile())&&(yield new Promise(function(e,t){return(0,S.default)(r,function(a){return a?t(a):e()})})),console.info(`Write file "${r}".`),f.default.writeFile(r,u,function(e){return e?s(e):o(u)})});return function(){return u.apply(this,arguments)}})())})))}catch(e){return void o(e)}}const v=yield m.default.walkDirectoryRecursively(t.targetDirectoryPath);v.reverse();let T=null;for(const e of v)N.includes(e.path)||y.includes(e.path)?T=e:T&&T.path.startsWith(e.path)||(yield new Promise(function(t,a){return(0,S.default)(e.path,function(e){return e?a(e):t()})}));n(x)});return function(){return u.apply(this,arguments)}})()))}t.__esModule=!0,t.renderScope=void 0,t.determinePaths=r,t.render=o;var s=a(0),m=n(s),d=a(1),l=a(2),p=a(7),u=a(3),c=a(8),f=n(c),g=a(9),y=a(10),b=n(y),h=a(11),P=n(h),x=a(12),N=n(x),v=a(13),S=n(v),T=a(14);t.default=o;const O=t.renderScope={basePath:'',innerHTMLToReInject:''}},function(e){e.exports=require('@angular/platform-server')},function(e){e.exports=require('fs')},function(e){e.exports=require('jsdom')},function(e){e.exports=require('mkdirp')},function(e){e.exports=require('path')},function(e){e.exports=require('pouchdb-adapter-memory')},function(e){e.exports=require('rimraf')},function(e,t,a){'use strict';function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a,n){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function r(e,t,a,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,('value'in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(i,r){try{var o=t[i](r),s=o.value}catch(e){return void a(e)}return o.done?void e(s):Promise.resolve(s).then(function(e){n('next',e)},function(e){n('throw',e)})}return n('next')})}}function s(e,t,a){return 2,()=>(hl.injectors.add(a),e.initialize())}var m=Math.min,d=Math.ceil,l=Math.max;t.__esModule=!0,t.Module=t.PaginationComponent=t.FileInputComponent=t.TextareaComponent=t.SimpleInputComponent=t.InputComponent=t.TextEditorComponent=t.CodeEditorComponent=t.AbstractEditorComponent=t.IntervalsInputComponent=t.IntervalInputComponent=t.DateTimeValueAccessor=t.SliderDirective=t.DateDirective=t.AbstractValueAccessor=void 0,t.AbstractItemsComponent=t.AbstractLiveDataComponent=t.AbstractNativeInputComponent=t.AbstractInputComponent=t.AbstractResolver=t.RegisterHTTPRequestInterceptor=t.DataScopeService=t.DataService=t.AlertService=t.ConfirmComponent=t.CanDeactivateRouteLeaveGuard=t.NumberPercentPipe=t.StringTemplatePipe=t.StringStartsWithPipe=t.StringSliceMatchPipe=t.StringShowIfPatternMatchesPipe=t.StringSafeURLPipe=t.StringSafeStylePipe=t.StringSafeScriptPipe=t.StringSafeResourceURLPipe=t.StringSafeHTMLPipe=t.StringReplacePipe=t.StringMaximumLengthPipe=t.StringMatchPipe=t.StringHasTimeSuffixPipe=t.StringEndsWithPipe=t.ArrayDependentConcatPipe=t.TypePipe=t.ReversePipe=t.ObjectKeysPipe=t.MapPipe=t.LimitToPipe=t.IsDefinedPipe=t.ExtractRawDataPipe=t.ExtractDataPipe=t.AttachmentWithPrefixExistsPipe=t.GetFilenameByPrefixPipe=t.AttachmentsAreEqualPipe=t.NumberRoundPipe=t.NumberIsNotANumberPipe=t.NumberGetUTCTimestampPipe=t.StringNormalizeDomNodeSelectorPipe=t.StringDecodeHTMLEntitiesPipe=t.StringRepresentPhoneNumberPipe=t.StringParseEncodedObjectPipe=t.StringNormalizePhoneNumberPipe=t.StringMD5Pipe=t.StringMarkPipe=t.StringFindNormalizedMatchRangePipe=t.StringLowerCasePipe=t.StringGetRegularExpressionValidatedPipe=t.StringFormatPipe=t.StringDelimitedToCamelCasePipe=t.StringCapitalizePipe=t.StringCamelCaseToDelimitedPipe=t.StringCompressStyleValuePipe=t.StringRepresentURLPipe=t.StringNormalizeURLPipe=t.StringIsInternalURLPipe=t.StringGetURLVariablePipe=t.StringGetProtocolNamePipe=t.StringGetPortNumberPipe=t.StringGetDomainNamePipe=t.StringHasPathPrefixPipe=t.StringAddSeparatorToPathPipe=t.StringEncodeURIComponentPipe=t.StringConvertToValidVariableNamePipe=t.StringEscapeRegularExpressionsPipe=t.ArraySortTopologicalPipe=t.ArrayRemovePipe=t.ArrayAppendAddPipe=t.ArraySumUpPropertyPipe=t.ArrayMakeRangePipe=t.ArrayIntersectPipe=t.ArrayExtractIfPropertyMatchesPipe=t.ArrayExtractIfPropertyExistsPipe=t.ArrayExtractIfMatchesPipe=t.ArrayExtractPipe=t.ArrayDeleteEmptyItemsPipe=t.ArrayAggregatePropertyIfEqualPipe=t.ArrayUniquePipe=t.ArrayMakePipe=t.ArrayMergePipe=t.SortPipe=t.RepresentObjectPipe=t.ExtendObjectPipe=t.EqualsPipe=t.ConvertCircularObjectToJSONPipe=t.AbstractInvertedToolsPipe=t.AbstractToolsPipe=t.determineInjector=t.InitialDataService=t.UtilityService=t.TINYMCE_DEFAULT_OPTIONS=t.CODE_MIRROR_DEFAULT_OPTIONS=t.SYMBOL=t.applicationDomNodeSelector=t.globalVariableNameToRetrieveDataFrom=t.currentInstanceToSearchInjectorFor=t.LAST_KNOWN_DATA=void 0;var p,u,c,f,g,y,b,h,P,x,N,v,S,T,O,I,E,C,_,D,w,z,R,M,j,A,k,L,U,q,F,G,V,W,B,H,$,K,Y,J,Z,Q,X,ee,te,ae,ne,ie,re,oe,se,me,de,le,pe,ue,ce,fe,ge,ye,be,he,Pe,xe,Ne,ve,Se,Te,Oe,Ie,Ee,Ce,_e,De,we,ze,Re,Me,je,Ae,ke,Le,Ue,qe,Fe,Ge,Ve,We,Be,He,$e,Ke,Ye,Je,Ze,Qe,Xe,et,tt,at,nt,it,rt,ot,st,mt,dt,lt,pt,ut,ct,ft,gt,yt,bt,ht,Pt,xt,Nt,vt,St,Tt,Ot,It,Et,Ct,_t,Dt,wt,zt,Rt,Mt,jt,At,kt,Lt,Ut,qt,Ft,Gt,Vt,Wt,Bt,Ht,$t,Kt,Yt,Jt,Zt,Qt,Xt,ea,ta,aa,na,ia,ra,oa,sa,ma,da,la,pa,ua,ca,fa,ga,ya,ba,ha,Pa,xa,Na,va,Sa,Ta,Oa,Ia,Ea,Ca,_a,Da,wa,za,Ra,Ma,ja,Aa,ka,La,Ua,qa,Fa,Ga,Va,Wa,Ba,Ha,$a,Ka,Ya,Ja,Za,Qa,Xa,en,tn,an,nn,rn,on,sn,mn,dn,ln,pn,un,cn,fn,gn,yn,bn,hn,Pn,xn,Nn,vn,Sn,Tn,On,In,En,Cn,_n,Dn,wn,zn,Rn,Mn,jn,An,kn,Ln,Un,qn,Fn,Gn,Vn,Wn,Bn,Hn,$n,Kn,Yn,Jn,Zn,Qn,Xn,ei,ti,ai,ni,ii,ri,oi,si,mi,di,li,pi,ui,ci,fi,gi,yi,bi,hi,Pi,xi,Ni,vi,Si,Ti,Oi,Ii,Ei,Ci,_i,Di,wi,zi,Ri,Mi,ji,Ai,ki,Li,Ui,qi,Fi,Gi,Vi,Wi,Bi,Hi,$i,Ki,Yi,Ji,Zi,Qi,Xi,er,tr,ar,nr,ir,rr,or,sr,mr,dr,lr,pr,ur,cr,fr,gr,yr,br,hr,Pr,xr,Nr,vr,Sr,Tr,Or,Ir,Er,Cr,_r,Dr,wr,zr,Rr,Mr,jr,Ar,kr,Lr,Ur,qr,Fr,Gr,Vr,Wr,Br,Hr,$r,Kr,Yr,Jr,Zr,Qr,Xr,eo,to,ao,no,io,ro,oo,so,mo,lo,po,uo,co,fo,go,yo,bo,ho,Po,xo,No,vo,So,To,Oo,Io,Eo,Co,_o,Do,wo,zo,Ro,Mo,jo,Ao,ko,Lo,Uo,qo,Fo,Go,Vo,Wo,Bo,Ho,$o,Ko,Yo,Jo,Zo,Qo,Xo,es,ts,as,ns,is,rs,os,ss,ms,ds,ls,ps,us,cs,fs,gs,ys,bs,hs,Ps,xs,Ns,vs,Ss,Ts,Os,Is,Es,Cs,_s,Ds,ws,zs,Rs,Ms,js,As,ks,Ls,Us,qs,Fs,Gs,Vs,Ws,Bs,Hs,$s,Ks,Ys,Js,Zs,Qs,Xs,em,tm,am,nm,im,rm,om,sm,mm,dm,lm,pm,um,cm,fm,gm,ym,bm,hm,Pm,xm,Nm,vm,Sm,Tm,Om,Im,Em,Cm,_m,Dm,wm,zm,Rm,Mm,jm,Am,km,Lm,Um,qm,Fm,Gm,Vm,Wm,Bm,Hm,$m,Km,Ym,Jm,Zm,Qm,Xm,ed,td,ad,nd,id,rd,od,sd,md,dd,ld,pd,ud,cd,fd,gd,yd,bd,hd,Pd,xd,Nd,vd,Sd,Td,Od,Id,Ed,Cd,_d,Dd,wd;t.dataServiceInitializerFactory=s;var zd=a(0),Rd=a(0),Md=n(Rd),jd=a(4),Ad=a(1),kd=a(2),Ld=a(15),Ud=a(16),qd=a(17),Fd=a(18),Gd=a(19),Vd=a(20),Wd=a(21),Bd=a(22),Hd=a(23),$d=a(24),Kd=a(3),Yd=a(25),Jd=n(Yd),Zd=a(26),Qd=n(Zd),Xd=a(27),el=n(Xd),tl=a(28),al=a(29),nl=a(30);a(31),a(32),a(33);var il=a(34);try{ol('source-map-support/register')}catch(e){}if('undefined'==typeof rl)var rl='default';if('undefined'==typeof ol)var ol=Md.default.noop;if('undefined'==typeof sl)var sl=1;let ml=t.LAST_KNOWN_DATA={data:{},sequence:'now'},dl=t.currentInstanceToSearchInjectorFor=null;const ll=t.globalVariableNameToRetrieveDataFrom='genericInitialData',pl=t.applicationDomNodeSelector='application, [application]',ul=t.SYMBOL=`${new Date().getTime()}/${Math.random()}`,cl=[il.defaultAnimation],fl=t.CODE_MIRROR_DEFAULT_OPTIONS={path:{cascadingStyleSheet:'lib/codemirror.css',base:'/codemirror/',mode:'mode/{mode}/{mode}.js',script:'lib/codemirror.js'},indentUnit:4,tabSize:4,indentWithTabs:!1,lineWrapping:!1,lineNumbers:!0,scrollbarStyle:'native'},gl='/tinymce/',yl=t.TINYMCE_DEFAULT_OPTIONS={baseURL:gl,scriptPath:`${gl}tinymce.min.js`,skin_url:`${gl}skins/lightgray`,theme_url:`${gl}themes/modern/theme.min.js`,allow_conditional_comments:!1,allow_script_urls:!1,cache_suffix:`?version=${sl}`,convert_fonts_to_spans:!0,document_base_url:'/',element_format:'xhtml',entity_encoding:'raw',fix_list_elements:!0,forced_root_block:null,hidden_input:!1,invalid_elements:'em',invalid_styles:'color font-size line-height',keep_styles:!1,menubar:!1,plugins:'fullscreen link code hr nonbreaking searchreplace visualblocks',relative_urls:!1,remove_script_host:!1,remove_trailing_brs:!0,schema:'html5',toolbar1:'cut copy paste | undo redo removeformat | styleselect formatselect fontselect fontsizeselect | searchreplace visualblocks fullscreen code',toolbar2:'alignleft aligncenter alignright alignjustify outdent indent | link hr nonbreaking bullist numlist bold italic underline strikethrough',trim:!0};let bl=t.UtilityService=(p=(0,Ad.Injectable)(),p(u=(f=c=class e{constructor(){this.fixed=e,this.tools=new Md.default}},c.$=Rd.$,c.globalContext=Rd.globalContext,c.tools=Md.default,f))||u),hl=t.InitialDataService=(g=(0,Ad.Injectable)(),g(y=(h=b=class e{constructor(t){this.configuration=this.configuration,this.globalContext=this.globalContext,this.tools=this.tools,t||(t=new bl),this.globalContext=t.fixed.globalContext,this.tools=t.fixed.tools,this.set(e.defaultScope,ll in t.fixed.globalContext?t.fixed.globalContext[ll]:{}),e.removeFoundData&&delete t.fixed.globalContext[ll]}retrieveFromDomNode(t=pl,a=e.removeFoundData,n='initialData'){let i=null;'string'==typeof t?'document'in this.globalContext&&'querySelector'in this.globalContext.document&&(i=this.globalContext.document.querySelector(t)):i=t;let r={};return i&&'getAttribute'in i&&i.getAttribute(n)&&(r=this.set(JSON.parse(i.getAttribute(n))),a&&i.removeAttribute(n)),r}set(...e){return this.tools.extendObject(!0,this,...e)}},b.defaultScope={configuration:{database:{connector:{auto_compaction:!0,revs_limit:10},model:{entities:{},property:{defaultSpecification:{minimum:0,minimumLength:0,minimumNumber:0},name:{reserved:[],special:{allowedRole:'_allowedRoles',attachment:'_attachments',conflict:'_conflicts',constraint:{execution:'_constraintExecutions',expression:'_constraintExpressions'},create:{execution:'_createExecution',expression:'_createExpression'},deleted:'_deleted',deletedConflict:'_deleted_conflicts',extend:'_extends',id:'_id',localSequence:'_local_seq',maximumAggregatedSize:'_maximumAggregatedSize',minimumAggregatedSize:'_minimumAggregatedSize',revision:'_rev',revisions:'_revisions',revisionsInformation:'_revs_info',strategy:'_updateStrategy',type:'-type',update:{execution:'_updateExecution',expression:'_updateExpression'}},validatedDocumentsCache:'_validatedDocuments'}}},plugins:[],url:'generic'}}},b.injectors=new Set,b.removeFoundData=!0,h))||y);Reflect.defineMetadata('design:paramtypes',[bl],hl);const Pl=t.determineInjector=(e,a,n)=>{if(e)return e.get.bind(e);if(void 0===dl)throw ul;t.currentInstanceToSearchInjectorFor=dl=void 0;for(const i of Array.from(hl.injectors))try{if(i.get(n,NaN)===a)return i.get.bind(i)}catch(e){if(t.currentInstanceToSearchInjectorFor=dl=null,e===ul)return i.get.bind(i);throw e}if(t.currentInstanceToSearchInjectorFor=dl=null,1===hl.injectors.size){console.warn('Could not determine injector, but using the only registered one. This will fail an multiple application instances.');const e=Array.from(hl.injectors)[0];return e.get.bind(e)}throw new Error('No unambiguously injector could be determined automatically.')};let xl=t.AbstractToolsPipe=class{constructor(){this.methodName=this.methodName}transform(...e){return bl.tools[this.methodName](...e)}},Nl=t.AbstractInvertedToolsPipe=class extends xl{transform(...e){const t=bl.tools;return t.invertArrayFilter(t[this.methodName])(...e)}},vl=t.ConvertCircularObjectToJSONPipe=(P=(0,Ad.Pipe)({name:`genericConvertCircularObjectToJSON`}),P(x=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='convertCircularObjectToJSON',t}})||x),Sl=t.EqualsPipe=(N=(0,Ad.Pipe)({name:`genericEquals`}),N(v=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='equals',t}})||v),Tl=t.ExtendObjectPipe=(S=(0,Ad.Pipe)({name:`genericExtendObject`}),S(T=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='extendObject',t}})||T),Ol=t.RepresentObjectPipe=(O=(0,Ad.Pipe)({name:`genericRepresentObject`}),O(I=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='representObject',t}})||I),Il=t.SortPipe=(E=(0,Ad.Pipe)({name:`genericSort`}),E(C=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='sort',t}})||C),El=t.ArrayMergePipe=(_=(0,Ad.Pipe)({name:`genericArrayMerge`}),_(D=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayMerge',t}})||D),Cl=t.ArrayMakePipe=(w=(0,Ad.Pipe)({name:`genericArrayMake`}),w(z=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayMake',t}})||z),_l=t.ArrayUniquePipe=(R=(0,Ad.Pipe)({name:`genericArrayUnique`}),R(M=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayUnique',t}})||M),Dl=t.ArrayAggregatePropertyIfEqualPipe=(j=(0,Ad.Pipe)({name:`genericArrayAggregatePropertyIfEqual`}),j(A=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayAggregatePropertyIfEqual',t}})||A),wl=t.ArrayDeleteEmptyItemsPipe=(k=(0,Ad.Pipe)({name:`genericArrayDeleteEmptyItems`}),k(L=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayDeleteEmptyItems',t}})||L),zl=t.ArrayExtractPipe=(U=(0,Ad.Pipe)({name:`genericArrayExtract`}),U(q=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayExtract',t}})||q),Rl=t.ArrayExtractIfMatchesPipe=(F=(0,Ad.Pipe)({name:`genericArrayExtractIfMatches`}),F(G=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayExtractIfMatches',t}})||G),Ml=t.ArrayExtractIfPropertyExistsPipe=(V=(0,Ad.Pipe)({name:`genericArrayExtractIfPropertyExists`}),V(W=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayExtractIfPropertyExists',t}})||W),jl=t.ArrayExtractIfPropertyMatchesPipe=(B=(0,Ad.Pipe)({name:`genericArrayExtractIfPropertyMatches`}),B(H=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayExtractIfPropertyMatches',t}})||H),Al=t.ArrayIntersectPipe=($=(0,Ad.Pipe)({name:`genericArrayIntersect`}),$(K=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayIntersect',t}})||K),kl=t.ArrayMakeRangePipe=(Y=(0,Ad.Pipe)({name:`genericArrayMakeRange`}),Y(J=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayMakeRange',t}})||J),Ll=t.ArraySumUpPropertyPipe=(Z=(0,Ad.Pipe)({name:`genericArraySumUpProperty`}),Z(Q=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arraySumUpProperty',t}})||Q),Ul=t.ArrayAppendAddPipe=(X=(0,Ad.Pipe)({name:`genericArrayAppendAdd`}),X(ee=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayAppendAdd',t}})||ee),ql=t.ArrayRemovePipe=(te=(0,Ad.Pipe)({name:`genericArrayRemove`}),te(ae=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arrayRemove',t}})||ae),Fl=t.ArraySortTopologicalPipe=(ne=(0,Ad.Pipe)({name:`genericArraySortTopological`}),ne(ie=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='arraySortTopological',t}})||ie),Gl=t.StringEscapeRegularExpressionsPipe=(re=(0,Ad.Pipe)({name:`genericStringEscapeRegularExpressions`}),re(oe=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringEscapeRegularExpressions',t}})||oe),Vl=t.StringConvertToValidVariableNamePipe=(se=(0,Ad.Pipe)({name:`genericStringConvertToValidVariableName`}),se(me=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringConvertToValidVariableName',t}})||me),Wl=t.StringEncodeURIComponentPipe=(de=(0,Ad.Pipe)({name:`genericStringEncodeURIComponent`}),de(le=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringEncodeURIComponent',t}})||le),Bl=t.StringAddSeparatorToPathPipe=(pe=(0,Ad.Pipe)({name:`genericStringAddSeparatorToPath`}),pe(ue=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringAddSeparatorToPath',t}})||ue),Hl=t.StringHasPathPrefixPipe=(ce=(0,Ad.Pipe)({name:`genericStringHasPathPrefix`}),ce(fe=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringHasPathPrefix',t}})||fe),$l=t.StringGetDomainNamePipe=(ge=(0,Ad.Pipe)({name:`genericStringGetDomainName`}),ge(ye=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringGetDomainName',t}})||ye),Kl=t.StringGetPortNumberPipe=(be=(0,Ad.Pipe)({name:`genericStringGetPortNumber`}),be(he=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringGetPortNumber',t}})||he),Yl=t.StringGetProtocolNamePipe=(Pe=(0,Ad.Pipe)({name:`genericStringGetProtocolName`}),Pe(xe=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringGetProtocolName',t}})||xe),Jl=t.StringGetURLVariablePipe=(Ne=(0,Ad.Pipe)({name:`genericStringGetURLVariable`}),Ne(ve=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringGetURLVariable',t}})||ve),Zl=t.StringIsInternalURLPipe=(Se=(0,Ad.Pipe)({name:`genericStringIsInternalURL`}),Se(Te=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringIsInternalURL',t}})||Te),Ql=t.StringNormalizeURLPipe=(Oe=(0,Ad.Pipe)({name:`genericStringNormalizeURL`}),Oe(Ie=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringNormalizeURL',t}})||Ie),Xl=t.StringRepresentURLPipe=(Ee=(0,Ad.Pipe)({name:`genericStringRepresentURL`}),Ee(Ce=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringRepresentURL',t}})||Ce),ep=t.StringCompressStyleValuePipe=(_e=(0,Ad.Pipe)({name:`genericStringCompressStyleValue`}),_e(De=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringCompressStyleValue',t}})||De),tp=t.StringCamelCaseToDelimitedPipe=(we=(0,Ad.Pipe)({name:`genericStringCamelCaseToDelimited`}),we(ze=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringCamelCaseToDelimited',t}})||ze),ap=t.StringCapitalizePipe=(Re=(0,Ad.Pipe)({name:`genericStringCapitalize`}),Re(Me=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringCapitalize',t}})||Me),np=t.StringDelimitedToCamelCasePipe=(je=(0,Ad.Pipe)({name:`genericStringDelimitedToCamelCase`}),je(Ae=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringDelimitedToCamelCase',t}})||Ae),ip=t.StringFormatPipe=(ke=(0,Ad.Pipe)({name:`genericStringFormat`}),ke(Le=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringFormat',t}})||Le),rp=t.StringGetRegularExpressionValidatedPipe=(Ue=(0,Ad.Pipe)({name:`genericStringGetRegularExpressionValidated`}),Ue(qe=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringGetRegularExpressionValidated',t}})||qe),op=t.StringLowerCasePipe=(Fe=(0,Ad.Pipe)({name:`genericStringLowerCase`}),Fe(Ge=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringLowerCase',t}})||Ge),sp=t.StringFindNormalizedMatchRangePipe=(Ve=(0,Ad.Pipe)({name:`genericStringFindNormalizedMatchRange`}),Ve(We=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringFindNormalizedMatchRange',t}})||We),mp=t.StringMarkPipe=(Be=(0,Ad.Pipe)({name:`genericStringMark`}),Be(He=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringMark',t}})||He),dp=t.StringMD5Pipe=($e=(0,Ad.Pipe)({name:`genericStringMD5`}),$e(Ke=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringMD5',t}})||Ke),lp=t.StringNormalizePhoneNumberPipe=(Ye=(0,Ad.Pipe)({name:`genericStringNormalizePhoneNumber`}),Ye(Je=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringNormalizePhoneNumber',t}})||Je),pp=t.StringParseEncodedObjectPipe=(Ze=(0,Ad.Pipe)({name:`genericStringParseEncodedObject`}),Ze(Qe=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringParseEncodedObject',t}})||Qe),up=t.StringRepresentPhoneNumberPipe=(Xe=(0,Ad.Pipe)({name:`genericStringRepresentPhoneNumber`}),Xe(et=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringRepresentPhoneNumber',t}})||et),cp=t.StringDecodeHTMLEntitiesPipe=(tt=(0,Ad.Pipe)({name:`genericStringDecodeHTMLEntities`}),tt(at=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringDecodeHTMLEntities',t}})||at),fp=t.StringNormalizeDomNodeSelectorPipe=(nt=(0,Ad.Pipe)({name:`genericStringNormalizeDomNodeSelector`}),nt(it=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='stringNormalizeDomNodeSelector',t}})||it),gp=t.NumberGetUTCTimestampPipe=(rt=(0,Ad.Pipe)({name:`genericNumberGetUTCTimestamp`}),rt(ot=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='numberGetUTCTimestamp',t}})||ot),yp=t.NumberIsNotANumberPipe=(st=(0,Ad.Pipe)({name:`genericNumberIsNotANumber`}),st(mt=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='numberIsNotANumber',t}})||mt),bp=t.NumberRoundPipe=(dt=(0,Ad.Pipe)({name:`genericNumberRound`}),dt(lt=class extends xl{constructor(...e){var t;return t=super(...e),this.methodName='numberRound',t}})||lt),hp=t.AttachmentsAreEqualPipe=(pt=(0,Ad.Pipe)({name:'genericAttachmentsAreEqual'}),pt(ut=class{constructor(e,t,a,n,i){this.data=this.data,this.representObject=this.representObject,this.specialNames=this.specialNames,this.stringMD5=this.stringMD5,this.zone=this.zone,this.data=t.get(Kp),this.representObject=n.transform.bind(n),this.specialNames=e.configuration.database.model.property.name.special,this.stringMD5=i.transform.bind(i),this.zone=a}transform(e,t){var a=this;return o(function*(){if(e===t)return!0;const n={first:{given:e},second:{given:t}};for(const e of['first','second']){if('object'!=typeof n[e].given||null===n[e].given)return!1;n[e].content_type=n[e].given.type||n[e].given.content_type,n[e].data=('data'in n[e].given?n[e].given.data:n[e].given)||NaN,n[e].hash=n[e].given.digest||n[e].given.hash||NaN,n[e].size=n[e].given.size||n[e].given.length}for(const e of['content_type','size'])if(![n.first[e],n.second[e]].includes(void 0)&&n.first[e]!==n.second[e])return!1;if(n.first.data===n.second.data)return!0;for(const e of['first','second'])if(!n[e].hash){if(null===n[e].data||!['object','string'].includes(typeof n[e].data))return!1;const t='genericTemp',i=new a.data.database(t);try{yield a.zone.run(o(function*(){try{yield i.put({[a.specialNames.id]:t,[a.specialNames.attachment]:{[t]:{data:n[e].data,content_type:'application/octet-stream'}}}),n[e].hash=(yield i.get(t))[a.specialNames.attachment][t].digest}catch(e){let t='unknown';try{t=a.representObject(e)}catch(e){}throw console.warn('Given attachments for equality check are '+`not valid: ${t}`),e}finally{yield i.destroy()}}))}catch(e){return!1}}return n.first.hash===n.second.hash})()}})||ut);Reflect.defineMetadata('design:paramtypes',[hl,Ad.Injector,Ad.NgZone,Ol,dp],hp);let Pp=t.GetFilenameByPrefixPipe=(ct=(0,Ad.Pipe)({name:'genericGetFilenameByPrefix'}),ct(ft=class{transform(e,t){if(t){for(const a in e)if(e.hasOwnProperty(a)&&a.startsWith(t))return a;}else{const t=Object.keys(e);if(t.length)return t[0]}return null}})||ft),xp=t.AttachmentWithPrefixExistsPipe=(gt=(0,Ad.Pipe)({name:'genericAttachmentWithPrefixExists'}),gt(yt=class{constructor(e,t){this.attachmentName=this.attachmentName,this.getFilenameByPrefix=this.getFilenameByPrefix,this.attachmentName=t.configuration.database.model.property.name.special.attachment,this.getFilenameByPrefix=e.transform.bind(e)}transform(e,t){if(e.hasOwnProperty(this.attachmentName)){const a=this.getFilenameByPrefix(e[this.attachmentName],t);if(a)return e[this.attachmentName][a].hasOwnProperty('data')&&![void 0,null].includes(e[this.attachmentName][a].data)}return!1}})||yt);Reflect.defineMetadata('design:paramtypes',[Pp,hl],xp);let Np=t.ExtractDataPipe=(bt=(0,Ad.Pipe)({name:'genericExtractData'}),bt(ht=class{constructor(e){this.modelConfiguration=this.modelConfiguration,this.modelConfiguration=e.configuration.database.model}transform(e){if(Array.isArray(e)){const t=[];for(const a of e)t.push(this.transform(a));return t}if('object'==typeof e&&null!==e){const t=this.modelConfiguration.property.name.special;return e.hasOwnProperty('value')?'object'==typeof e.value&&null!==e.value&&t.type in e.value&&this.modelConfiguration.entities.hasOwnProperty(e.value[t.type])?this._extractFromObject(e.value):this.transform(e.value):t.type in e&&this.modelConfiguration.entities.hasOwnProperty(e[t.type])?this._extractFromObject(e):e}return e}_extractFromObject(e){const t=this.modelConfiguration.property.name.special,a={};for(const n in e)e.hasOwnProperty(n)&&(!e.hasOwnProperty(t.type)||this.modelConfiguration.entities[e[t.type]].hasOwnProperty(n)||this.modelConfiguration.entities[e[t.type]].hasOwnProperty(t.additional))&&!['_metaData',t.additional,t.allowedRole,t.attachment,t.conflict,t.constraint.execution,t.constraint.expression,t.deletedConflict,t.extend,t.localSequence,t.maximumAggregatedSize,t.minimumAggregatedSize,t.revisions,t.revisionsInformation].includes(n)&&(a[n]=this.transform(e[n]));if(e.hasOwnProperty(t.attachment)&&e[t.attachment])for(const n in e[t.attachment])e[t.attachment].hasOwnProperty(n)&&'object'==typeof e[t.attachment][n]&&null!==e[t.attachment][n]&&'hasOwnProperty'in e[t.attachment]&&e[t.attachment][n].hasOwnProperty('value')&&e[t.attachment][n].value&&(a[t.attachment]||(a[t.attachment]={}),a[t.attachment][e[t.attachment][n].value.name]=e[t.attachment][n].value);return a}})||ht);Reflect.defineMetadata('design:paramtypes',[hl],Np);let vp=t.ExtractRawDataPipe=(Pt=(0,Ad.Pipe)({name:'genericExtractRawData'}),Pt(xt=class{constructor(e,t,a,n,i,r){this.attachmentsAreEqual=this.attachmentsAreEqual,this.dataScope=this.dataScope,this.equals=this.equals,this.modelConfiguration=this.modelConfiguration,this.numberGetUTCTimestamp=this.numberGetUTCTimestamp,this.specialNames=this.specialNames,this.tools=this.tools,this.attachmentsAreEqual=e.transform.bind(e),this.dataScope=n.get(Yp),this.equals=t.transform.bind(t),this.modelConfiguration=a.configuration.database.model,this.numberGetUTCTimestamp=i.transform.bind(i),this.specialNames=this.modelConfiguration.property.name.special,this.tools=r.fixed.tools}convertDateToTimestampRecursively(e){if('object'==typeof e&&null!==e){if(e instanceof Date)return this.numberGetUTCTimestamp(e);if(Array.isArray(e)){const t=[];for(const a of e)t.push(this.convertDateToTimestampRecursively(a));return t}if(Object.getPrototypeOf(e)===Object.prototype){const t={};for(const a in e)e.hasOwnProperty(a)&&(t[a]=this.convertDateToTimestampRecursively(e[a]));return t}}return e}getNotAlreadyExistingAttachmentData(e,t,a){var n=this;return o(function*(){const i={};if(a&&a.hasOwnProperty(n.specialNames.attachment))for(const r in a[n.specialNames.attachment])if(a[n.specialNames.attachment].hasOwnProperty(r)){const o={};if(t.hasOwnProperty(n.specialNames.attachment)&&t[n.specialNames.attachment])for(const e in t[n.specialNames.attachment])t[n.specialNames.attachment].hasOwnProperty(e)&&new RegExp(r).test(e)&&(o[e]=t[n.specialNames.attachment][e]);if(e.hasOwnProperty(n.specialNames.attachment))for(const t in e[n.specialNames.attachment])if(e[n.specialNames.attachment].hasOwnProperty(t)&&new RegExp(r).test(t))if(e[n.specialNames.attachment][t].hasOwnProperty('data')||e[n.specialNames.attachment][t].hasOwnProperty('stub')){if(i[t]=e[n.specialNames.attachment][t],o.hasOwnProperty(t))(yield n.attachmentsAreEqual(e[n.specialNames.attachment][t],o[t]))&&delete i[t],delete o[t];else if(Object.keys(o).length&&1===a[n.specialNames.attachment][r].maximumNumber){const a=Object.keys(o)[0];(yield n.attachmentsAreEqual(e[n.specialNames.attachment][t],o[a]))&&(i[t]=n.tools.copy(o[a]),i[t].name=t)}}else if(o.hasOwnProperty(t))delete o[t];else if(Object.keys(o).length&&1===a[n.specialNames.attachment][r].maximumNumber){const e=Object.keys(o)[0];i[t]=n.tools.copy(o[e]),i[t].name=t,delete o[e]}for(const e in o)o.hasOwnProperty(e)&&(i[e]={data:null})}return{payloadExists:0!==Object.keys(i).length,result:i}})()}removeAlreadyExistingData(e,t,a){let n=!1;if(Array.isArray(e))this.equals(e,t)||(n=!0);else if(a&&'object'==typeof e&&null!==e&&'object'==typeof t&&null!==t){const i=Object.keys(e);for(const r in t)if(t.hasOwnProperty(r)){const o=i.indexOf(r);if(-1!==o&&i.splice(o,1),!this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(r))if(e.hasOwnProperty(r)){const i=this.removeAlreadyExistingData(e[r],t[r],this.dataScope.determineNestedSpecifcation(r,a));i.payloadExists?(n=!0,e[r]=i.newData):a.hasOwnProperty(r)&&delete e[r]}else n=!0,e[r]=null}i.length&&(n=!0)}else this.equals(e,this.convertDateToTimestampRecursively(t))||(n=!0);return{newData:e,payloadExists:n}}removeMetaData(e,t){if(e instanceof Date)return this.numberGetUTCTimestamp(e);if(Array.isArray(e)){let a=0;for(const n of e)e[a]=this.removeMetaData(n,t),a+=1;return e}if('object'==typeof e&&null!==e){const a={};for(const n in e)if(e.hasOwnProperty(n)){const i=!!(t&&(t.hasOwnProperty(n)&&t[n]||t.hasOwnProperty(this.specialNames.additional)&&t[this.specialNames.additional])||{}).emptyEqualsToNull;if(![void 0,null].includes(e[n])&&!(i&&(''===e[n]||Array.isArray(e[n])&&0===e[n].length||'object'==typeof e[n]&&!(e[n]instanceof Date)&&0===Object.keys(e[n]).length)))if(this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(n))a[n]=e[n];else if(n!==this.specialNames.attachment)![this.specialNames.additional,this.specialNames.allowedRole,this.specialNames.conflict,this.specialNames.constraint.execution,this.specialNames.constraint.expression,this.specialNames.deletedConflict,this.specialNames.extend,this.specialNames.localSequence,this.specialNames.maximumAggregatedSize,this.specialNames.minimumAggregatedSize,this.specialNames.revisions,this.specialNames.revisionsInformation].includes(n)&&(!t||t.hasOwnProperty(n)||t.hasOwnProperty(this.specialNames.additional))&&(a[n]=this.removeMetaData(e[n],this.dataScope.determineNestedSpecifcation(n,t)));else if('object'==typeof e[n]&&null!==e[n])for(const t in a[n]={},e[n])if(e[n].hasOwnProperty(t))if(a[n][t]={content_type:e[n][t].content_type||'application/octet-stream'},e[n][t].hasOwnProperty('data'))a[n][t].data=e[n][t].data;else for(const i of['digest','stub'])e[n][t].hasOwnProperty(i)&&(a[n][t][i]=e[n][t][i])}return a}return e}transform(e,t){var a=this;return o(function*(){let n=null;a.specialNames.type in e&&a.modelConfiguration.entities.hasOwnProperty(e[a.specialNames.type])&&(n=a.modelConfiguration.entities[e[a.specialNames.type]]);let i=a.removeMetaData(e,n),r=!1;if(t){const e=yield a.getNotAlreadyExistingAttachmentData(i,t,n);e.payloadExists&&(i[a.specialNames.attachment]=e.result,r=e.payloadExists),a.removeAlreadyExistingData(i,a.removeMetaData(t,n),n).payloadExists&&(r=!0)}if(!r)for(const e in i)if(i.hasOwnProperty(e)&&!a.modelConfiguration.property.name.reserved.concat(a.specialNames.deleted,a.specialNames.id,a.specialNames.revision,a.specialNames.type).includes(e)){r=!0;break}return r?i:null})()}})||xt);Reflect.defineMetadata('design:paramtypes',[hp,Sl,hl,Ad.Injector,gp,bl],vp);let Sp=t.IsDefinedPipe=(Nt=(0,Ad.Pipe)({name:'genericIsDefined'}),Nt(vt=class{transform(e,t=!1){return!(e===void 0||t&&null===e)}})||vt),Tp=t.LimitToPipe=(St=(0,Ad.Pipe)({name:'genericLimitTo'}),St(Tt=class{transform(e,t,a){return(t=Math.abs(+t)===Infinity?+t:parseInt(t),isNaN(t))?e:('number'==typeof e?e=e.toString():'object'==typeof e&&null!==e&&!Array.isArray(e)&&(e=Object.keys(e).sort()),!(Array.isArray(e)||'string'==typeof e))?e:(a=!a||isNaN(a)?0:parseInt(a),0>a&&(a=l(0,e.length+a)),0<=t)?e.slice(a,a+t):0===a?e.slice(t,e.length):e.slice(l(0,a+t),a)}})||Tt),Op=t.MapPipe=(Ot=(0,Ad.Pipe)({name:'genericMap'}),Ot(It=class{constructor(e){this.injector=this.injector,this.injector=e}transform(e,t,...a){const n=this.injector.get(t);if(Array.isArray(e)){const t=[];for(const i of e)t.push(n.transform(i,...a));return t}const i={};for(const r in e)e.hasOwnProperty(r)&&(i[r]=n.transform(e[r],r,...a));return i}})||It);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],Op);let Ip=t.ObjectKeysPipe=(Et=(0,Ad.Pipe)({name:'genericObjectKeys'}),Et(Ct=class{transform(e,t=!1,a=!1,n=!1){if('object'==typeof e&&null!==e){const i=Object.keys(e);return t?(Array.isArray(t)||(t=n?[(e,t)=>(e=parseInt(e),t=parseInt(t),isNaN(e))?isNaN(t)?0:1:isNaN(t)?-1:e-t]:[]),i.sort(...t),a&&i.reverse(),i):i}return[]}})||Ct),Ep=t.ReversePipe=(_t=(0,Ad.Pipe)({name:'genericReverse'}),_t(Dt=class{transform(e,t=!1){return e?t&&(e=e.slice()):e=[],'reverse'in e&&e.reverse(),e}})||Dt),Cp=t.TypePipe=(wt=(0,Ad.Pipe)({name:'genericType'}),wt(zt=class{transform(e){return typeof e}})||zt),_p=t.ArrayDependentConcatPipe=(Rt=(0,Ad.Pipe)({name:'genericArrayDependentConcat'}),Rt(Mt=class{transform(e,t,a){return t?e.concat(a):e}})||Mt),Dp=t.StringEndsWithPipe=(jt=(0,Ad.Pipe)({name:'genericStringEndsWith'}),jt(At=class{transform(e,t){return'string'==typeof e&&'string'==typeof t&&e.endsWith(t)}})||At),wp=t.StringHasTimeSuffixPipe=(kt=(0,Ad.Pipe)({name:'genericStringHasTimeSuffix'}),kt(Lt=class{transform(e){return!('string'!=typeof e)&&(e.endsWith('Date')||e.endsWith('Time')||'timestamp'===e)}})||Lt),zp=t.StringMatchPipe=(Ut=(0,Ad.Pipe)({name:'genericStringMatch'}),Ut(qt=class{transform(e,t,a=''){return new RegExp(e,a).test(t)}})||qt),Rp=t.StringMaximumLengthPipe=(Ft=(0,Ad.Pipe)({name:'genericStringMaximumLength'}),Ft(Gt=class{transform(e,t=100,a='...'){return e?(e.length>t&&e.length-1>a.length&&(e=e.substring(0,l(1,t-a.length))+a),e):''}})||Gt),Mp=t.StringReplacePipe=(Vt=(0,Ad.Pipe)({name:'genericStringReplace'}),Vt(Wt=class{transform(e,t,a='',n='g'){return e.replace('string'==typeof t?new RegExp(t,n):t,a)}})||Wt),jp=t.StringSafeHTMLPipe=(Bt=(0,Ad.Pipe)({name:'genericStringSafeHTML'}),Bt(Ht=class{constructor(e){this.transform=this.transform,this.transform=e.bypassSecurityTrustHtml.bind(e)}})||Ht);Reflect.defineMetadata('design:paramtypes',[$d.DomSanitizer],jp);let Ap=t.StringSafeResourceURLPipe=($t=(0,Ad.Pipe)({name:'genericStringSafeResourceURL'}),$t(Kt=class{constructor(e){this.transform=this.transform,this.transform=e.bypassSecurityTrustResourceUrl.bind(e)}})||Kt);Reflect.defineMetadata('design:paramtypes',[$d.DomSanitizer],Ap);let kp=t.StringSafeScriptPipe=(Yt=(0,Ad.Pipe)({name:'genericStringSafeScript'}),Yt(Jt=class{constructor(e){this.transform=this.transform,this.transform=e.bypassSecurityTrustScript.bind(e)}})||Jt);Reflect.defineMetadata('design:paramtypes',[$d.DomSanitizer],kp);let Lp=t.StringSafeStylePipe=(Zt=(0,Ad.Pipe)({name:'genericStringSafeStyle'}),Zt(Qt=class{constructor(e){this.transform=this.transform,this.transform=e.bypassSecurityTrustStyle.bind(e)}})||Qt);Reflect.defineMetadata('design:paramtypes',[$d.DomSanitizer],Lp);let Up=t.StringSafeURLPipe=(Xt=(0,Ad.Pipe)({name:'genericStringSafeURL'}),Xt(ea=class{constructor(e){this.transform=this.transform,this.transform=e.bypassSecurityTrustUrl.bind(e)}})||ea);Reflect.defineMetadata('design:paramtypes',[$d.DomSanitizer],Up);let qp=t.StringShowIfPatternMatchesPipe=(ta=(0,Ad.Pipe)({name:'genericStringShowIfPatternMatches'}),ta(aa=class{transform(e,t,a=!1,n=''){let i=('string'==typeof t?new RegExp(t,n):t).test(e);return a&&(i=!i),i?e:''}})||aa),Fp=t.StringSliceMatchPipe=(na=(0,Ad.Pipe)({name:'genericStringSliceMatch'}),na(ia=class{transform(e,t,a=0,n=''){if('string'==typeof e){const i=e.match(new RegExp(t,n));if(i&&'string'==typeof i[a])return i[a]}return''}})||ia),Gp=t.StringStartsWithPipe=(ra=(0,Ad.Pipe)({name:'genericStringStartsWith'}),ra(oa=class{transform(e,t){return'string'==typeof e&&'string'==typeof t&&e.startsWith(t)}})||oa),Vp=t.StringTemplatePipe=(sa=(0,Ad.Pipe)({name:'genericStringTemplate'}),sa(ma=class{constructor(e){this.extendObject=this.extendObject,this.extendObject=e.transform.bind(e)}transform(e='',...t){const a=this.extendObject(!0,{},...t),n=Object.keys(a).filter((e)=>{try{new Function(`var ${e}`)()}catch(e){return!1}return!0});return new Function('scope',...n,`return \`${e}\``)(a,...n.map((e)=>a[e]))}})||ma);Reflect.defineMetadata('design:paramtypes',[Tl],Vp);let Wp=t.NumberPercentPipe=(da=(0,Ad.Pipe)({name:'genericNumberPercent'}),da(la=class{transform(e,t){return 100*(e/t)}})||la),Bp=t.CanDeactivateRouteLeaveGuard=(pa=(0,Ad.Injectable)(),pa(ua=class{canDeactivate(e,...t){return!('canDeactivate'in e)||e.canDeactivate(...t)}})||ua),Hp=t.ConfirmComponent=(ca=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy.OnPush,selector:'generic-confirm',template:`
        <h2 @defaultAnimation mat-dialog-title *ngIf="title">{{title}}</h2>
        <mat-dialog-content @defaultAnimation *ngIf="message">
            {{message}}
        </mat-dialog-content>
        <mat-dialog-actions>
            <button (click)="dialogReference.close(true)" mat-raised-button>
                {{okText}}
            </button>
            <button (click)="dialogReference.close(false)" mat-raised-button>
                {{cancelText}}
            </button>
        </mat-dialog-actions>
    `}),fa=(0,Ad.Input)(),ga=(0,Ad.Input)(),ca(ya=(ba=class{constructor(e,t){if(i(this,'cancelText',ha,this),this.dialogReference=null,i(this,'okText',Pa,this),this.title='',this.message='',this.dialogReference=t,'object'==typeof e&&null!==e)for(const t in e)e.hasOwnProperty(t)&&(this[t]=e[t])}},ha=r(ba.prototype,'cancelText',[fa],{enumerable:!0,initializer:function(){return'Cancel'}}),Pa=r(ba.prototype,'okText',[ga],{enumerable:!0,initializer:function(){return'OK'}}),ba))||ya);(0,Ad.Optional)()(Hp,null,0),(0,Ad.Inject)(Gd.MAT_DIALOG_DATA)(Hp,null,0),(0,Ad.Optional)()(Hp,null,1),Reflect.defineMetadata('design:paramtypes',[,Gd.MatDialogRef],Hp);let $p=t.AlertService=(xa=(0,Ad.Injectable)(),xa(Na=class{constructor(e,t){this.dialog=this.dialog,this.dialogReference=this.dialogReference,this.zone=this.zone,this.dialog=e,this.zone=t}confirm(e){let t;return t='string'==typeof e?{data:{message:e}}:'object'==typeof e&&null!==e&&e.hasOwnProperty('data')?e:{data:e},this.dialogReference=this.dialog.open(Hp,t),this.dialogReference.afterClosed().toPromise()}})||Na);Reflect.defineMetadata('design:paramtypes',[Gd.MatDialog,Ad.NgZone],$p);let Kp=t.DataService=(va=(0,Ad.Injectable)(),va(Sa=(Oa=Ta=class e{constructor(e,t,a,n,i,r,s){this.connection=this.connection,this.configuration=this.configuration,this.database=this.database,this.errorCallbacks=[],this.equals=this.equals,this.extendObject=this.extendObject,this.initialized=new Ad.EventEmitter,this.middlewares={post:{},pre:{}},this.platformID=this.platformID,this.remoteConnection=null,this.runningRequests=[],this.runningRequestsStream=new tl.Subject,this.stringFormat=this.stringFormat,this.synchronisation=null,this.tools=this.tools,this.zone=this.zone,this.configuration=a.configuration,this.database=Jd.default,this.equals=e.transform.bind(e),this.extendObject=t.transform.bind(t),this.platformID=i,this.stringFormat=r.transform.bind(r),this.tools=s.fixed.tools,this.zone=n;const m=this.database.prototype.bulkDocs,d=this;this.database.plugin({bulkDocs:(()=>{var e=o(function*(e,...t){const a=d.configuration.database.model.property.name.special.id,n=d.configuration.database.model.property.name.special.revision;!Array.isArray(e)&&'object'==typeof e&&null!==e&&e.hasOwnProperty(a)&&(e=[e]),d.configuration.database.connector.ajax&&d.configuration.database.connector.ajax.timeout&&(0===t.length||'object'!=typeof t[0])&&t.unshift({timeout:d.configuration.database.connector.ajax.timeout});let i=[];try{i=yield m.call(this,e,...t)}catch(r){if('bad_request'===r.name){for(const t of e)if(['latest','upsert'].includes(t[n]))try{t[n]=(yield this.get(t[a]))[n]}catch(e){if('not_found'===e.name)delete t[n];else throw e}i=yield m.call(this,e,...t)}else throw r}const r=[],o=[];let s=0;for(const m of i){if('object'==typeof e[s]&&null!==e)if(n in e[s]&&'conflict'===m.name&&['latest','upsert'].includes(e[s][n]))o.push(m),r.push(s);else if(a in e[s]&&d.configuration.database.ignoreNoChangeError&&'name'in m&&'forbidden'===m.name&&'message'in m&&m.message.startsWith('NoChange:')){i[s]={id:e[s][a],ok:!0};try{i[s].rev=n in e[s]&&!['latest','upsert'].includes(e[s][n])?e[s][n]:(yield this.get(i[s].id))[n]}catch(e){throw e}}s+=1}if(o.length){e=o;const a=yield this.bulkDocs(e,...t);for(const e of a)i[r.shift()]=e}return i});return function(){return e.apply(this,arguments)}})()}),this.database.plugin(Qd.default).plugin(el.default)}addErrorCallback(e){const t=this.removeErrorCallback(e);return this.errorCallbacks.push(e),t}static determineGenericIndexablePropertyNames(e,t){const a=e.property.name.special;return Object.keys(t).filter((n)=>t[n].index||!(e.property.name.reserved.concat(a.additional,a.allowedRole,a.attachment,a.conflict,a.constraint.execution,a.constraint.expression,a.deleted,a.deleted_conflict,a.extend,a.id,a.maximumAggregatedSize,a.minimumAggregatedSize,a.revision,a.revisions,a.revisionsInformation,a.type).includes(n)||t[n].type&&('string'==typeof t[n].type&&t[n].type.endsWith('[]')||Array.isArray(t[n].type)&&t[n].type.length&&Array.isArray(t[n].type[0])||e.entities.hasOwnProperty(t[n].type)))).concat(a.id,a.revision)}initialize(){var t=this;return o(function*(){yield t.tools.timeout(),t.configuration.database.hasOwnProperty('publicURL')&&(t.configuration.database.url=t.configuration.database.publicURL);for(const e of t.configuration.database.plugins)t.database.plugin(e);const a=t.extendObject(!0,{skip_setup:!0},t.configuration.database.connector||{}),n=t.configuration.name||'generic';e.skipRemoteConnectionOnServer&&(0,kd.isPlatformServer)(t.platformID)||(t.remoteConnection=new t.database(t.stringFormat(t.configuration.database.url,'')+`/${n}`,a)),t.connection=t.configuration.database.local||e.skipRemoteConnectionOnServer&&(0,kd.isPlatformServer)(t.platformID)?new t.database(n,a):t.remoteConnection,t.connection.installValidationMethods();const i=t.connection.changes;t.connection.changes=function(...e){let a=!1;e.length&&'object'==typeof e[0]&&null!==e[0]&&(!e[0].live||'number'==typeof e[0].since&&2>e[0].since)&&(a=!0);const n=i.apply(t.connection,e),r=a?function(){if(a){a=!1;const e=t.runningRequests.indexOf(n);-1!==e&&(t.runningRequests.splice(e,1),t.runningRequestsStream.next(t.runningRequests))}}:t.tools.noop;return a&&(t.runningRequests.push(n),t.runningRequestsStream.next(t.runningRequests),n.on('change',r),n.on('complete',r)),n.on('error',function(...e){return r(),t.triggerErrorCallbacks.apply(t,e.concat(n))}),n};const r=t.configuration,s=t.configuration.database.model.property.name.special.id,m=t.configuration.database.model.property.name.special.revision;for(const e of['post','put']){const a=t.connection[e].bind(t.connection);t.connection[e]=(()=>{var e=o(function*(e,t,...n){try{return yield a(e,t,...n)}catch(a){const n='object'==typeof e&&s in e?e[s]:e;if(n&&r.database.ignoreNoChangeError&&'name'in a&&'forbidden'===a.name&&'message'in a&&a.message.startsWith('NoChange:')){const a={id:n,ok:!0},i='object'==typeof t&&m in t?t[m]:t;try{a.rev=m in e&&!['latest','upsert'].includes(i)?i:(yield this.get(a.id))[m]}catch(e){throw e}return a}throw a}});return function(){return e.apply(this,arguments)}})()}if(!(e.skipGenericIndexManagementOnServer&&(0,kd.isPlatformServer)(t.platformID))&&t.configuration.database.createGenericFlatIndex&&t.connection!==t.remoteConnection){for(const a in t.configuration.database.model.entities)if(t.configuration.database.model.entities.hasOwnProperty(a)&&new RegExp(t.configuration.database.model.property.name.typeRegularExpressionPattern.public).test(a))for(const n of e.determineGenericIndexablePropertyNames(t.configuration.database.model,t.configuration.database.model.entities[a]))yield t.connection.createIndex({index:{ddoc:`${a}-${n}-GenericIndex`,fields:[t.configuration.database.model.property.name.special.type,n],name:`${a}-${n}-GenericIndex`}});let a=(yield t.connection.getIndexes()).indexes;for(const n of a)if(n.name.endsWith('-GenericIndex')){let a=!1;for(const i in t.configuration.database.model.entities)if(n.name.startsWith(`${i}-`)){for(const r of e.determineGenericIndexablePropertyNames(t.configuration.database.model,t.configuration.database.model.entities[i]))`${i}-${r}-GenericIndex`===n.name&&(a=!0);break}a||(yield t.connection.deleteIndex(n))}}for(const a of e.wrappableMethodNames)for(const e of[t.connection].concat(t.remoteConnection&&t.connection!==t.remoteConnection?t.remoteConnection:[]))if('function'==typeof e[a]){const n=e[a];e[a]=function(...i){return t.zone.run(o(function*(){const r={name:a,parameter:i,wrappedParameter:i};t.runningRequests.push(r),t.runningRequestsStream.next(t.runningRequests);const o=function(){const e=t.runningRequests.indexOf(r);-1!==e&&(t.runningRequests.splice(e,1),t.runningRequestsStream.next(t.runningRequests))};for(const n of[a,'_all'])if(t.middlewares.pre.hasOwnProperty(n))for(const i of t.middlewares.pre[n]){let t=i.apply(e,r.wrappedParameter.concat('_all'===n?a:[]));if(t){if('then'in t)try{t=yield t}catch(e){throw o(),e}Array.isArray(t)&&(r.wrappedParameter=t)}}const s=function(t=e,a=r.wrappedParameter){return n.apply(t,a)};let m;try{m=s()}catch(e){yield t.triggerErrorCallbacks(e,m,s)}for(const n of[a,'_all'])if(t.middlewares.post.hasOwnProperty(n))for(const i of t.middlewares.post[n])if(m=i.call(e,m,s,...r.wrappedParameter.concat('_all'===n?a:[])),'then'in m)try{m=yield m}catch(e){o(),yield t.triggerErrorCallbacks(e,m,s)}if('then'in m)try{m=yield m}catch(e){o(),yield t.triggerErrorCallbacks(e,m,s)}return o(),m}))}}t.initialized.emit(t.connection)})()}createIndex(...e){return this.connection.createIndex(...e)}bulkDocs(...e){return this.connection.bulkDocs(...e)}destroy(...e){this.synchronisation&&this.synchronisation.cancel();const t=this.connection.destroy(...e);return this.middlewares={post:{},pre:{}},t}find(e,t={}){var a=this;return o(function*(){return(yield a.connection.find(a.extendObject(!0,{selector:e},t))).docs})()}get(...t){var a=this;return o(function*(){const n=a.configuration.database.model.property.name.special.id,i=a.configuration.database.model.property.name.special.revision,r=yield a.connection.get(...t);return ml.data.hasOwnProperty(r[n])&&1<t.length&&(a.equals(t[1],{rev:'latest'})||a.equals(t[1],{latest:!0})||a.equals(t[1],{latest:!0,rev:'latest'}))&&parseInt(r[i].match(e.revisionNumberRegularExpression)[1])<parseInt(ml.data[r[n]][i].match(e.revisionNumberRegularExpression)[1])?ml.data[r[n]]:r})()}getAttachment(...e){return this.connection.getAttachment(...e)}put(...e){return this.connection.put(...e)}putAttachment(...e){return this.connection.putAttachment(...e)}register(e,t,a='post'){Array.isArray(e)||(e=[e]);for(const n of e)this.middlewares[a].hasOwnProperty(n)||(this.middlewares[a][n]=[]),this.middlewares[a][n].push(t);return()=>{for(const n of e){const e=this.middlewares[a][n].indexOf(t);-1!==e&&this.middlewares[a][n].splice(e,1),0===this.middlewares[a][n].length&&delete this.middlewares[a][n]}}}remove(...e){return this.connection.remove(...e)}removeAttachment(...e){return this.connection.removeAttachment(...e)}removeErrorCallback(e){const t=this.errorCallbacks.indexOf(e);return-1!==t&&(this.errorCallbacks.splice(t,1),!0)}startSynchronisation(){var e=this;return o(function*(){if(e.configuration.database.local&&e.remoteConnection&&null===e.synchronisation){let t=!1;return yield new Promise(function(a,n){e.synchronisation=e.connection.sync(e.remoteConnection,{live:!0,retry:!0}).on('change',function(e){return console.info('change',e)}).on('paused',function(){t||(t=!0,a(e.synchronisation)),console.info('paused')}).on('active',function(){return console.info('active')}).on('denied',function(e){t||(t=!0,n({name:'denied',error:e})),console.warn('denied',e)}).on('complete',function(e){return console.info('complete',e)}).on('error',function(e){t||(t=!0,n({name:'error',error:e})),console.error('error',e)})})}return null})()}stopSynchronisation(){var e=this;return o(function*(){if(e.synchronisation){const t=new Promise(function(t,a){e.synchronisation.on('complete',t),e.synchronisation.on('error',a)});return e.synchronisation.cancel(),yield t,e.synchronisation=null,!0}return!1})()}triggerErrorCallbacks(e,...t){var a=this;return o(function*(){let n=null;for(const i of a.errorCallbacks){let a=i(e,...t);'object'==typeof a&&null!==a&&'then'in a&&(a=yield a),'boolean'==typeof a&&(n=a)}if(!0===n||null===n&&!(e.hasOwnProperty('name')&&'unauthorized'===e.name||e.hasOwnProperty('error')&&'unauthorized'===e.error||'ETIMEDOUT'===e.code||0===e.status))throw e})()}},Ta.revisionNumberRegularExpression=/^([0-9]+)-/,Ta.skipGenericIndexManagementOnServer=!0,Ta.skipRemoteConnectionOnServer=!0,Ta.wrappableMethodNames=['allDocs','bulkDocs','bulkGet','close','compact','compactDocument','createIndex','deleteIndexs','destroy','find','get','getAttachment','getIndexes','info','post','put','putAttachment','query','remove','removeAttachment'],Oa))||Sa);(0,Ad.Inject)(Ad.PLATFORM_ID)(Kp,null,4),Reflect.defineMetadata('design:paramtypes',[Sl,Tl,hl,Ad.NgZone,String,ip,bl],Kp);let Yp=t.DataScopeService=(Ia=(0,Ad.Injectable)(),Ia(Ea=class{constructor(e,t,a,n,i,r,o,s,m){this.attachmentWithPrefixExists=this.attachmentWithPrefixExists,this.configuration=this.configuration,this.data=this.data,this.extendObject=this.extendObject,this.extractData=this.extractData,this.getFilenameByPrefix=this.getFilenameByPrefix,this.numberGetUTCTimestamp=this.numberGetUTCTimestamp,this.representObject=this.representObject,this.tools=this.tools,this.attachmentWithPrefixExists=e.transform.bind(e),this.configuration=r.configuration,this.data=t,this.extendObject=a.transform.bind(a),this.extractData=n.transform.bind(n),this.getFilenameByPrefix=i.transform.bind(i),this.numberGetUTCTimestamp=o.transform.bind(o),this.representObject=s.transform.bind(s),this.tools=m.fixed.tools}determine(e,t=null,a=null,n='latest',i=!1){var r=this;return o(function*(){let o={};if(t){const s={};'latest'===n?(s.latest=!0,i&&(s.revs_info=!0)):s.rev=n;try{o=yield r.data.get(t,s)}catch(e){throw new Error(`Document with given id "${t}" and revision "`+`${n}" isn't available: `+('message'in e?e.message:r.representObject(e)))}if(i){const i=r.configuration.database.model.property.name.special.revisionsInformation;let m,d=null;if('latest'!==n){delete s.rev,s.revs_info=!0;try{d=yield r.data.get(t,s)}catch(e){throw new Error(`Document with given id "${t}" and revision "`+`${n}" isn't available: `+('message'in e?e.message:r.representObject(e)))}m=d[i],delete d[i]}else m=o[i];o[i]={};let l=!0;for(const e of m)'available'===e.status&&(o[i][l?'latest':e.rev]={revision:e.rev},l=!1);d&&(o[i].latest.scope=r.generate(e,a,d))}}return r.generate(e,a,o)})()}determineNestedSpecifcation(e,t){const a=this.configuration.database.model.entities,n=this.configuration.database.model.property.name.special.additional;if(t)if(t.hasOwnProperty(e)){if(a.hasOwnProperty(t[e].type))return a[t[e].type];}else if(t.hasOwnProperty(n)&&a.hasOwnProperty(t[n].type))return a[t[n].type];return null}determineSpecificationObject(e,t,a=[]){t||(t=Object.keys(e));const n={};for(const i of t)if(e.hasOwnProperty(i)&&!a.includes(i))if(i===this.configuration.database.model.property.name.special.attachment)for(const t in n[i]={},e[i])e[i].hasOwnProperty(t)&&(n[i][t]=this.extendObject(!0,this.tools.copy(this.configuration.database.model.property.defaultSpecification),e[i][t]));else n[i]=this.extendObject(!0,this.tools.copy(this.configuration.database.model.property.defaultSpecification),e[i]),this.configuration.database.model.entities.hasOwnProperty(n[i].type)&&(n[i].value=this.determineSpecificationObject(this.configuration.database.model.entities[n[i].type]));return n}generate(e,t,a={},n){const i=this.configuration.database.model.entities,r=i[e],o=this.configuration.database.model.property.name.special;n||(n=e.startsWith('_')?[o.id,o.attachment]:[]);const s=this.configuration.database.model.property.name.reserved.concat(o.conflict,o.deleted,o.deletedConflict,o.localSequence,o.revision,o.revisions,o.revisionsInformation,o.type),m=this.determineSpecificationObject(r,t,n.concat(s));t||(t=Object.keys(m).filter((e)=>'object'==typeof m[e]&&null!==typeof m[e]&&!Array.isArray(m[e])),t=t.concat(Object.keys(a).filter((e)=>!t.concat(s).includes(e))));const d={};for(const s of t){if(n.includes(s))continue;d[s]=m.hasOwnProperty(s)?this.tools.copy(m[s]):this.tools.copy('additional'in o&&o.additional?m[o.additional]:{});const t=new Date,l=this.numberGetUTCTimestamp(t);if(s===o.attachment){for(const n in m[s])if(m[s].hasOwnProperty(n)){if(d[s][n].name=n,d[s][n].value=null,0===Object.keys(a).length){const o={newDocument:a,oldDocument:null,userConteyt:{},securitySettings:{},name:n,models:i,modelConfiguration:this.configuration.database.model,serialize:(e)=>JSON.stringify(e,null,4),modelName:e,model:r,propertySpecification:d[s][n],now:t,nowUTCTimestamp:l,getFilenameByPrefix:this.getFilenameByPrefix,attachmentWithPrefixExists:this.attachmentWithPrefixExists.bind(a,a)};for(const e of['onCreateExecution','onCreateExpression'])d[s][n].hasOwnProperty(e)&&d[s][n][e]&&(d[s][n].value=new Function(...Object.keys(o),(e.endsWith('Expression')?'return ':'')+d[s][n][e])(...Object.values(o)),d[s][n].hasOwnProperty('value')&&void 0===d[s][n].value&&delete d[s][n].value)}let o=!1;if(a.hasOwnProperty(s)&&![void 0,null].includes(a[s]))for(const e in a[s])if(d[s].hasOwnProperty(n)&&new RegExp(n).test(e)){o=!0,d[s][n].value=a[s][e],d[s][n].value.name=e;break}o||!d[s][n].hasOwnProperty('default')||[void 0,null].includes(d[s][n].default)||(d[s][n].value=this.tools.copy({},d[s][n].default))}}else{if(d[s].name=s,d[s].value=null,0===Object.keys(a).length){const n={newDocument:a,oldDocument:null,userContext:{},securitySettings:{},name:s,models:i,modelConfiguration:this.configuration.database.model,serialize:(e)=>JSON.stringify(e,null,4),modelName:e,model:r,propertySpecification:d[s],now:t,nowUTCTimestamp:l,getFilenameByPrefix:this.getFilenameByPrefix,attachmentWithPrefixExists:this.attachmentWithPrefixExists.bind(a,a)};for(const e of['onCreateExpression','onCreateExecution'])d[s].hasOwnProperty(e)&&d[s][e]&&(d[s].value=new Function(...Object.keys(n),(e.endsWith('Expression')?'return ':'')+d[s][e])(...Object.values(n)),void 0===d[s].value&&(d[s].value=null))}if(a.hasOwnProperty(s)&&![void 0,null].includes(a[s])?d[s].value=a[s]:d[s].hasOwnProperty('default')&&![void 0,null].includes(d[s].default)?d[s].value=this.tools.copy(d[s].default):d[s].hasOwnProperty('selection')&&Array.isArray(d[s].selection)&&d[s].selection.length&&(d[s].value=d[s].selection[0]),'number'==typeof d[s].value&&d[s].hasOwnProperty('type')&&(d[s].type.endsWith('Date')||d[s].type.endsWith('Time')))d[s].value=new Date(1e3*d[s].value);else if(d[s].hasOwnProperty('type'))if(i.hasOwnProperty(d[s].type))d[s].value=this.generate(d[s].type,null,d[s].value||{},[o.attachment,o.id]);else if(d[s].type.endsWith('[]')){const e=d[s].type.substring(0,d[s].type.length-2);if(Array.isArray(d[s].value)&&i.hasOwnProperty(e)){let t=0;for(const a of d[s].value)d[s].value[t]=this.generate(e,null,a||{},[o.attachment,o.id]),t+=1}}}}for(const i of s)a.hasOwnProperty(i)?d[i]=a[i]:i===o.type&&(d[i]=e);return d._metaData={submitted:!1},d}})||Ea);Reflect.defineMetadata('design:paramtypes',[xp,Kp,Tl,Np,Pp,hl,gp,Ol,bl],Yp);let Jp=t.RegisterHTTPRequestInterceptor=(Ca=(0,Ad.Injectable)(),Ca(_a=class{constructor(e){this.data=this.data,this.data=e}intercept(e,t){this.data.runningRequests.push(e),this.data.runningRequestsStream.next(this.data.runningRequests);const a=()=>{const t=this.data.runningRequests.indexOf(e);-1!==t&&this.data.runningRequests.splice(t,1),this.data.runningRequestsStream.next(this.data.runningRequests)};return t.handle(e).do(a,a)}})||_a);Reflect.defineMetadata('design:paramtypes',[Kp],Jp);let Zp=t.AbstractResolver=(Da=(0,Ad.Injectable)(),Da(wa=(Ra=za=class e{constructor(e){this.convertCircularObjectToJSON=this.convertCircularObjectToJSON,this.data=this.data,this.databaseBaseURL=this.databaseBaseURL,this.databaseURL=this.databaseURL,this.databaseURLCache={},this.domSanitizer=this.domSanitizer,this.escapeRegularExpressions=this.escapeRegularExpressions,this.extendObject=this.extendObject,this.message=this.message,this.messageConfiguration=new Bd.MatSnackBarConfig,this.modelConfiguration=this.modelConfiguration,this.platformID=this.platformID,this.relevantKeys=null,this.relevantSearchKeys=null,this.representObject=this.representObject,this.specialNames=this.specialNames,this.tools=this.tools,this.type='Item',this.useLimit=!1,this.useSkip=!1;const t=Pl(e,this,this.constructor);this.convertCircularObjectToJSON=t(vl).transform.bind(t(vl)),this.data=t(Kp),this.domSanitizer=t($d.DomSanitizer);const a=t(ip).transform(t(hl).configuration.database.url,'')+'/';this.databaseBaseURL=`${a}_utils/#/database/`+`${t(hl).configuration.name}/`,this.databaseURL=a+t(hl).configuration.name,this.escapeRegularExpressions=t(Gl).transform.bind(t(Gl)),this.extendObject=t(Tl).transform.bind(t(Tl)),this.messageConfiguration.duration=5000,this.message=(e)=>t(Bd.MatSnackBar).open(e,!1,this.messageConfiguration),this.modelConfiguration=t(hl).configuration.database.model,this.platformID=t(Ad.PLATFORM_ID),this.representObject=t(Ol).transform.bind(t(Ol)),this.specialNames=t(hl).configuration.database.model.property.name.special,this.tools=t(bl).fixed.tools}getDatabaseURL(e){const t=this.databaseBaseURL+('object'==typeof e[this.specialNames.id]?e[this.specialNames.id].value:e[this.specialNames.id]);return this.databaseURLCache.hasOwnProperty(t)||(this.databaseURLCache[t]=this.domSanitizer.bypassSecurityTrustResourceUrl(t)),this.databaseURLCache[t]}list(e=[{[hl.defaultScope.configuration.database.model.property.name.special.id]:'asc'}],t=1,a=10,n='',i={}){this.relevantSearchKeys||(this.relevantSearchKeys=Kp.determineGenericIndexablePropertyNames(this.modelConfiguration,this.modelConfiguration.entities[this.type]),this.relevantSearchKeys.splice(this.relevantSearchKeys.indexOf(this.specialNames.revision),1));const r={[this.specialNames.type]:this.type};if(n||Object.keys(i).length){e.length&&(r[Object.keys(e[0])[0]]={$gt:null}),r.$or=[];for(const e of this.relevantSearchKeys)r.$or.push({[e]:{$regex:n}});if(i.hasOwnProperty('$or')&&i.$or.length){for(const e of r.$or)e.$or=i.$or;delete i.$or}}const o={};return this.useLimit&&(o.limit=a),this.useSkip&&(o.skip=l(t-1,0)*a),this.relevantKeys&&(o.fields=this.relevantKeys),0===o.skip&&delete o.skip,e.length&&(o.sort=[this.specialNames.type].concat(e).map((e)=>'asc'===Object.values(e)[0]?Object.keys(e)[0]:e)),this.data.find(this.extendObject(!0,r,i),o)}remove(e,t=''){return this.update(e,{[this.specialNames.deleted]:!0},t)}resolve(t){if(e.skipResolvingOnServer&&(0,kd.isPlatformServer)(this.platformID))return[];let a='';if('searchTerm'in t.params){const e=decodeURIComponent(t.params.searchTerm);if(e.startsWith('exact-'))a=this.escapeRegularExpressions(e.substring(6));else if(e.startsWith('regex-')){a=e.substring(6);try{new RegExp(a)}catch(e){a=''}}}let n=[];return'sort'in t.params&&(n=t.params.sort.split(',').map((e)=>{const t=e.lastIndexOf('-');let a='asc';return-1!==t&&(a=e.substring(t+1)||a,e=e.substring(0,t)),{[e]:a}})),this.list(n,parseInt(t.params.page||1),parseInt(t.params.limit||10),a)}update(e,t,a=''){var n=this;return o(function*(){const i=t?n.extendObject({[n.specialNames.id]:'object'==typeof e[n.specialNames.id]?e[n.specialNames.id].value:e[n.specialNames.id],[n.specialNames.revision]:'latest',[n.specialNames.type]:e[n.specialNames.type]},t):e;try{e[n.specialNames.revision]=(yield n.data.put(i)).rev}catch(e){return n.message('message'in e?e.message:n.representObject(e)),!1}return a&&n.message(a),!0})()}},za.skipResolvingOnServer=!0,Ra))||wa);(0,Ad.Optional)()(Zp,null,0),Reflect.defineMetadata('design:paramtypes',[Ad.Injector],Zp);let Qp=t.AbstractInputComponent=(Ma=(0,Ad.Input)(),ja=(0,Ad.Input)(),Aa=(0,Ad.Input)(),ka=(0,Ad.Input)(),La=(0,Ad.Input)(),Ua=(0,Ad.Input)(),qa=(0,Ad.Input)(),Fa=(0,Ad.Input)(),Ga=(0,Ad.Input)(),Va=(0,Ad.Input)(),Wa=(0,Ad.Input)(),Ba=(0,Ad.Input)(),Ha=(0,Ad.Output)(),$a=(0,Ad.Input)(),Ka=(0,Ad.Input)(),Ya=(0,Ad.Input)(),Ja=(0,Ad.Input)(),Za=(0,Ad.Input)(),Qa=(0,Ad.Input)(),Xa=(0,Ad.Input)(),en=class{constructor(){i(this,'declaration',tn,this),i(this,'description',an,this),i(this,'disabled',nn,this),i(this,'maximum',rn,this),i(this,'maximumLength',on,this),i(this,'maximumLengthText',sn,this),i(this,'maximumText',mn,this),i(this,'minimum',dn,this),i(this,'minimumLength',ln,this),i(this,'minimumLengthText',pn,this),i(this,'minimumText',un,this),i(this,'model',cn,this),i(this,'modelChange',fn,this),i(this,'pattern',gn,this),i(this,'patternText',yn,this),i(this,'required',bn,this),i(this,'requiredText',hn,this),i(this,'showDeclarationText',Pn,this),i(this,'showValidationErrorMessages',xn,this),i(this,'type',Nn,this)}},tn=r(en.prototype,'declaration',[Ma],{enumerable:!0,initializer:function(){return null}}),an=r(en.prototype,'description',[ja],{enumerable:!0,initializer:function(){return null}}),nn=r(en.prototype,'disabled',[Aa],{enumerable:!0,initializer:function(){return null}}),rn=r(en.prototype,'maximum',[ka],{enumerable:!0,initializer:function(){return null}}),on=r(en.prototype,'maximumLength',[La],{enumerable:!0,initializer:function(){return null}}),sn=r(en.prototype,'maximumLengthText',[Ua],{enumerable:!0,initializer:function(){return'Please type less or equal than ${model.maximumLength} symbols.'}}),mn=r(en.prototype,'maximumText',[qa],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),dn=r(en.prototype,'minimum',[Fa],{enumerable:!0,initializer:function(){return null}}),ln=r(en.prototype,'minimumLength',[Ga],{enumerable:!0,initializer:function(){return null}}),pn=r(en.prototype,'minimumLengthText',[Va],{enumerable:!0,initializer:function(){return'Please type at least or equal ${model.minimumLength} symbols.'}}),un=r(en.prototype,'minimumText',[Wa],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),cn=r(en.prototype,'model',[Ba],{enumerable:!0,initializer:function(){return{}}}),fn=r(en.prototype,'modelChange',[Ha],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),gn=r(en.prototype,'pattern',[$a],{enumerable:!0,initializer:function(){return this.pattern}}),yn=r(en.prototype,'patternText',[Ka],{enumerable:!0,initializer:function(){return'Your string have to match the regular expression: "${model.regularExpressionPattern}".'}}),bn=r(en.prototype,'required',[Ya],{enumerable:!0,initializer:function(){return null}}),hn=r(en.prototype,'requiredText',[Ja],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Pn=r(en.prototype,'showDeclarationText',[Za],{enumerable:!0,initializer:function(){return'\u2139'}}),xn=r(en.prototype,'showValidationErrorMessages',[Qa],{enumerable:!0,initializer:function(){return!1}}),Nn=r(en.prototype,'type',[Xa],{enumerable:!0,initializer:function(){return this.type}}),en),Xp=t.AbstractNativeInputComponent=class extends Qp{constructor(e){super(),this._attachmentWithPrefixExists=this._attachmentWithPrefixExists,this._extendObject=this._extendObject,this._getFilenameByPrefix=this._getFilenameByPrefix,this._modelConfiguration=this._modelConfiguration,this._numberGetUTCTimestamp=this._numberGetUTCTimestamp;const t=Pl(e,this,this.constructor);this._attachmentWithPrefixExists=t(xp).transform.bind(t(xp)),this._extendObject=t(Tl).transform.bind(t(Tl)),this._getFilenameByPrefix=t(Pp).transform.bind(t(Pp)),this._modelConfiguration=t(hl).configuration.database.model,this._numberGetUTCTimestamp=t(gp).transform.bind(t(gp))}ngOnInit(){this._extendObject(this.model,this._extendObject({disabled:!1,emptyEqualsToNull:!0,maximum:Infinity,minimum:0,maximumLength:Infinity,minimumLength:0,nullable:!0,regularExpressionPattern:'.*',state:{},trim:!0,type:'string'},this.model)),'string'==typeof this.model.value&&this.model.trim&&this.model.value===this.model.value.trim();for(const e of['onUpdateExpression','onUpdateExecution'])this.model.hasOwnProperty(e)&&this.model[e]&&'function'!=typeof this.model[e]&&(this.model[e]=new Function('newDocument','oldDocument','userContext','securitySettings','name','models','modelConfiguration','serialize','modelName','model','propertySpecification','now','nowUTCTimestamp','getFilenameByPrefix','attachmentWithPrefixExists',(e.endsWith('Expression')?'return ':'')+this.model[e]))}onChange(e,t){'integer'===this.model.type?e=parseInt(e):'number'===this.model.type?e=parseFloat(e):e&&'string'===this.model.type&&this.model.trim&&(e=e.trim());const a=new Date,n=this._numberGetUTCTimestamp(a),i={[this.model.name]:e};for(const r of['onUpdateExpression','onUpdateExecution'])this.model.hasOwnProperty(r)&&this.model[r]&&'function'==typeof this.model[r]&&(e=this.model[r](i,null,{},{},this.model.name,this._modelConfiguration.entities,this._modelConfiguration,(e)=>JSON.stringify(e,null,4),'generic',{generic:{[this.model.name]:this.model}},this.model,a,n,this._getFilenameByPrefix,this._attachmentWithPrefixExists.bind(i,i),e),!(e instanceof Date)&&(this.model.type.endsWith('Date')||this.model.type.endsWith('Time'))&&(e*=1e3));return this.model.state=t,e}};(0,Ad.Optional)()(Xp,null,0),Reflect.defineMetadata('design:paramtypes',[Ad.Injector],Xp);let eu=t.AbstractLiveDataComponent=(Sn=vn=class e{constructor(e){this.actions=[],this.autoRestartOnError=!0,this._canceled=!1,this._changesStream=this._changesStream,this._data=this._data,this._extendObject=this._extendObject,this._liveUpdateOptions={},this._platformID=this._platformID,this._stringCapitalize=this._stringCapitalize,this._tools=this._tools;const t=Pl(e,this,this.constructor);this._data=t(Kp),this._extendObject=t(Tl).transform.bind(t(Tl)),this._platformID=t(Ad.PLATFORM_ID),this._stringCapitalize=t(ap).transform.bind(t(ap)),this._tools=t(bl).fixed.tools}ngOnInit(){var t=this;if((0,kd.isPlatformServer)(this._platformID))return;const a=this._tools.debounce(()=>{this._changesStream&&this._changesStream.cancel(),this._changesStream=this._data.connection.changes(this._extendObject(!0,{},{since:ml.sequence},e.defaultLiveUpdateOptions,this._liveUpdateOptions));for(const e of['change','complete','error'])this._changesStream.on(e,(()=>{var n=o(function*(n){if(t._canceled)return;'change'===e&&('seq'in n&&'number'==typeof n.seq&&(ml.sequence=n.seq),ml.data[n.id]=n.doc),n.name=e,t.actions.unshift(n);let i=t[`onData${t._stringCapitalize(e)}`](n);null!==i&&'object'==typeof i&&'then'in i&&(i=yield i),'error'===e&&(n.hasOwnProperty('name')&&'unauthorized'===n.name||n.hasOwnProperty('error')&&'unauthorized'===n.error?t._changesStream&&t._changesStream.cancel():t.autoRestartOnError&&a())});return function(){return n.apply(this,arguments)}})())},3e3);a()}ngOnDestroy(){this._canceled=!0,this._changesStream&&this._changesStream.cancel()}onDataChange(e=null){return!0}onDataComplete(e=null){return!1}onDataError(e=null){return!1}},vn.defaultLiveUpdateOptions={heartbeat:1e4,include_docs:!0,live:!0,since:'now',timeout:!1},Sn);(0,Ad.Optional)()(eu,null,0),Reflect.defineMetadata('design:paramtypes',[Ad.Injector],eu);let tu=t.AbstractItemsComponent=class extends eu{constructor(e){super(e),this.allItems=this.allItems,this.allItemsChecked=!1,this.debouncedUpdate=this.debouncedUpdate,this.idName=this.idName,this.items=this.items,this.keyCode=this.keyCode,this.limit=this.limit,this.navigateAway=!1,this.page=this.page,this.preventedDataUpdate=null,this.regularExpression=!1,this.revisionName=this.revisionName,this.searchTerm='',this.searchTermStream=new tl.Subject,this.selectedItems=new Set,this.sort={[hl.defaultScope.configuration.database.model.property.name.special.id]:'asc'},this._currentParameter=this._currentParameter,this._itemPath='item',this._itemsPath='items',this._route=this._route,this._router=this._router,this._subscriptions=[],this._toolsInstance=this._toolsInstance;const t=Pl(e);this.idName=t(hl).configuration.database.model.property.name.special.id,this.revisionName=t(hl).configuration.database.model.property.name.special.revision,this.keyCode=this._tools.keyCode,this._route=t(Kd.ActivatedRoute),this._router=t(Kd.Router),this._toolsInstance=t(bl).tools,this._subscriptions.push(this._route.params.subscribe((e)=>{this._currentParameter=e,this.limit=parseInt(this._currentParameter.limit),this.page=parseInt(this._currentParameter.page);const t=/(regex|exact)-(.*)/.exec(this._currentParameter.searchTerm);t&&(this.regularExpression='regex'===t[1],this.searchTerm=decodeURIComponent(t[2]))})),this._subscriptions.push(this._route.data.subscribe((e)=>{this.limit=l(1,this.limit||1),this.allItems=e.items.slice(),e.items.splice(0,(this.page-1)*this.limit),e.items.length>this.limit&&e.items.splice(this.limit,e.items.length-this.limit),this.items=e.items,this.applyPageConstraints()&&this.update()})),this._subscriptions.push(this.searchTermStream.debounceTime(200).distinctUntilChanged().subscribe(()=>(this.page=1,this.update()))),this.debouncedUpdate=this._tools.debounce(this.update.bind(this))}applyPageConstraints(){const e=this.page,t=this.limit;return this.limit=l(1,this.limit||1),this.page=l(1,m(this.page,d(this.allItems.length/this.limit))),this.page!==e||this.limit!==t}changeItemWrapperFactory(e){var t=this;return(()=>{var a=o(function*(...a){let n=!0;const i=t._router.events.subscribe(function(e){e instanceof Kd.NavigationEnd&&(n=!1,i.unsubscribe())});t._subscriptions.push(i);const r=e(...a);return'object'==typeof r&&null!==r&&'then'in r&&(yield r),n&&(yield t.update(!0)),r});return function(){return a.apply(this,arguments)}})()}clearSelectedItems(){for(const e of this.items)this.selectedItems.delete(e),e.selected=!1}goToItem(e,t='latest'){return this.navigateAway=!0,this._router.navigate([this._itemPath,e,t])}ngAfterContentChecked(){this.preventedDataUpdate&&this.onDataChange(...this.preventedDataUpdate)}onDataChange(...e){return this.selectedItems.size||![0,1].includes(parseInt(this._currentParameter.page))?this.preventedDataUpdate=e:(this.preventedDataUpdate=null,this.debouncedUpdate(!0)),!1}ngOnDestroy(){const e=super.ngOnDestroy();for(const e of this._subscriptions)e.unsubscribe();return e}selectAllItems(){for(const e of this.items)this.selectedItems.add(e),e.selected=!0}trackByIDAndRevision(e,t){let a=t[this.idName];return'object'==typeof a&&null!==a&&a.hasOwnProperty('value')&&(a=a.value),`${a}/${t[this.revisionName]}`}update(e=!1){var t=this;return o(function*(){let a=!1;if(yield t._toolsInstance.acquireLock(`${t.constructor.name}Update`),!t.navigateAway){t.applyPageConstraints(),e&&0!==parseInt(t._currentParameter.page)&&(t.page=0);let n='';for(const e in t.sort)t.sort.hasOwnProperty(e)&&(n+=`${n?',':''}${e}`,'asc'!==t.sort[e]&&(n+=`-${t.sort[e]}`));a=yield t._router.navigate([t._itemsPath,n,t.page,t.limit,`${t.regularExpression?'regex':'exact'}-`+encodeURIComponent(t.searchTerm)],{preserveFragment:!0,replaceUrl:0===parseInt(t._currentParameter.page),skipLocationChange:0===t.page}),a&&(t.allItemsChecked=!1)}return t._toolsInstance.releaseLock(`${t.constructor.name}Update`),a})()}updateSearch(){this.searchTermStream.next(this.searchTerm)}};(0,Ad.Optional)()(tu,null,0),Reflect.defineMetadata('design:paramtypes',[Ad.Injector],tu);let au=t.AbstractValueAccessor=(Tn=(0,Ad.Input)(),On=class extends Ud.DefaultValueAccessor{constructor(e){super(e.get(Ad.Renderer2),e.get(Ad.ElementRef),null),this.onChangeCallback=bl.tools.noop,this.onTouchedCallback=bl.tools.noop,i(this,'type',In,this)}export(e){return e}import(e){return e}registerOnChange(e){return this.onChangeCallback=(t)=>e(this.import(t)),super.registerOnChange(this.onChangeCallback)}registerOnTouched(e){return this.onTouchedCallback=e,super.registerOnTouched(this.onTouchedCallback)}writeValue(e){return super.writeValue(this.export(e))}},In=r(On.prototype,'type',[Tn],{enumerable:!0,initializer:function(){return null}}),On);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],au);let nu=t.DateDirective=(En=(0,Ad.Directive)({selector:'[genericDate]'}),Cn=(0,Ad.Input)('genericDate'),En(_n=(Dn=class{constructor(e,t,a,n,i){this.dateFormatter=this.dateFormatter,this.extendObject=this.extendObject,this.options={dateTime:'now',format:'HH:mm:ss',freeze:!1,updateIntervalInMilliseconds:1e3},this.platformID=this.platformID,this.templateReference=this.templateReference,this.timerID=this.timerID,this.viewContainerReference=this.viewContainerReference,this.dateFormatter=e.transform.bind(e),this.extendObject=t.transform.bind(t),this.platformID=a,this.templateReference=n,this.viewContainerReference=i}set insertOptions(e){(['string','number'].includes(typeof e)||[null,void 0].includes(e)||'object'==typeof e&&e instanceof Date)&&(e={dateTime:e}),this.extendObject(!0,this.options,e)}insert(){let e=this.options.dateTime;'string'==typeof e&&['now',''].includes(e)||'number'==typeof e&&isNaN(e)||[null,void 0].includes(e)?e=Date.now():'string'==typeof e&&`${parseFloat(e)}`===e&&(e=1e3*parseFloat(e)),this.viewContainerReference.createEmbeddedView(this.templateReference,{dateTime:this.dateFormatter(e,this.options.format)})}ngOnDestroy(){this.timerID&&clearInterval(this.timerID)}ngOnInit(){(0,kd.isPlatformBrowser)(this.platformID)&&(this.timerID=setInterval(()=>{this.options.freeze||(this.viewContainerReference.remove(),this.insert())},this.options.updateIntervalInMilliseconds)),this.insert()}},r(Dn.prototype,'insertOptions',[Cn],Object.getOwnPropertyDescriptor(Dn.prototype,'insertOptions'),Dn.prototype),Dn))||_n);(0,Ad.Inject)(Ad.PLATFORM_ID)(nu,null,2),Reflect.defineMetadata('design:paramtypes',[kd.DatePipe,Tl,String,Ad.TemplateRef,Ad.ViewContainerRef],nu);let iu=t.SliderDirective=(wn=(0,Ad.Directive)({selector:'[genericSlider]'}),zn=(0,Ad.Input)('genericSlider'),wn(Rn=(Mn=class{constructor(e,t,a,n){this.extendObject=this.extendObject,this.index=0,this.options={freeze:!1,startIndex:0,step:1,slides:[],updateIntervalInMilliseconds:6e3},this.platformID=this.platformID,this.templateReference=this.templateReference,this.timerID=this.timerID,this.viewContainerReference=this.viewContainerReference,this.extendObject=e.transform.bind(e),this.platformID=t,this.templateReference=a,this.viewContainerReference=n}getNextIndex(e=-1){return-1===e&&(e=this.index),(e+this.options.step)%this.options.slides.length}set insertOptions(e){Array.isArray(e)&&(e={slides:e}),this.extendObject(!0,this.options,e)}update(){this.options.slides.length&&this.viewContainerReference.createEmbeddedView(this.templateReference,{getNextIndex:this.getNextIndex.bind(this),index:this.index,options:this.options,slide:this.options.slides[this.index],slides:this.options.slides})}ngOnDestroy(){this.timerID&&clearInterval(this.timerID)}ngOnInit(){(0,kd.isPlatformBrowser)(this.platformID)&&(this.timerID=setInterval(()=>{const e=(this.index+this.options.step)%this.options.slides.length;!0===this.options.freeze||e===this.index||'number'==typeof this.options.freeze&&this.options.freeze>=this.options.slides.length||(this.viewContainerReference.remove(),this.index=this.getNextIndex(),this.update())},this.options.updateIntervalInMilliseconds)),this.index=this.options.startIndex,this.update()}},r(Mn.prototype,'insertOptions',[zn],Object.getOwnPropertyDescriptor(Mn.prototype,'insertOptions'),Mn.prototype),Mn))||Rn);(0,Ad.Inject)(Ad.PLATFORM_ID)(iu,null,1),Reflect.defineMetadata('design:paramtypes',[Tl,String,Ad.TemplateRef,Ad.ViewContainerRef],iu);const ru=[{provide:Ud.NG_VALUE_ACCESSOR,useExisting:(0,Ad.forwardRef)(()=>ou),multi:!0}];let ou=t.DateTimeValueAccessor=(jn=(0,Ad.Directive)({selector:`
        input:not([type=checkbox])[formControlName],
        textarea[formControlName],
        input:not([type=checkbox])[formControl],
        textarea[formControl],
        input:not([type=checkbox])[ngModel],
        textarea[ngModel],[ngDefaultControl]'
    `,host:{"(input)":'_handleInput($event.target.value)',"(blur)":'onTouched()',"(compositionstart)":'_compositionStart()',"(compositionend)":'_compositionEnd($event.target.value)'},providers:ru}),jn(An=class extends au{constructor(e){super(e)}export(e){if(![void 0,null].includes(e)&&['date','time'].includes(this.type)){const t=new Date(e);if(isNaN(t.getDate()))return;if('time'===this.type){let e=`${t.getHours()}`;1===e.length&&(e=`0${e}`);let a=`${t.getMinutes()}`;return 1===a.length&&(a=`0${a}`),`${e}:${a}`}if('date'===this.type){let e=`${t.getMonth()+1}`;1===e.length&&(e=`0${e}`);let a=`${t.getDate()}`;return 1===a.length&&(a=`0${a}`),`${t.getFullYear()}-${e}-${a}`}}return e}import(e){if('string'==typeof e)if('time'===this.type){const t=/^([0-9]{2}):([0-9]{2})$/.exec(e);if(t)return new Date(1970,0,1,parseInt(t[1]),parseInt(t[2]))}else if('date'===this.type){const t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(e);if(t)return new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]))}return e}})||An);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],ou);let su=t.IntervalInputComponent=(kn=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],selector:'generic-interval-input',template:`
        <generic-input
            [declaration]="startDeclaration"
            [description]="startDescription"
            [disabled]="startDisabled"
            [showDeclarationText]="startShowDeclarationText"
            [maximum]="startMaximum"
            [maximumText]="startMaximumText"
            [minimum]="startMinimum"
            [required]="startRequired"
            [requiredText]="startRequiredText"
            [minimumText]="startMinimumText"
            [model]="model.start"
            (model)="change($event, 'start')"
            [showValidationErrorMessages]="startShowValidationErrorMessages"
            type="time"
        ></generic-input>
        <ng-content></ng-content>
        <generic-input
            [declaration]="endDeclaration"
            [description]="endDescription"
            [disabled]="endDisabled"
            [showDeclarationText]="endShowDeclarationText"
            [maximum]="endMaximum"
            [maximumText]="endMaximumText"
            [minimum]="endMinimum"
            [required]="endRequired"
            [requiredText]="endRequiredText"
            [minimumText]="endMinimumText"
            [model]="model.end"
            (model)="change($event, 'end')"
            [showValidationErrorMessages]="endShowValidationErrorMessages"
            type="time"
        ></generic-input>
    `}),Ln=(0,Ad.Input)(),Un=(0,Ad.Input)(),qn=(0,Ad.Input)(),Fn=(0,Ad.Input)(),Gn=(0,Ad.Input)(),Vn=(0,Ad.Input)(),Wn=(0,Ad.Input)(),Bn=(0,Ad.Input)(),Hn=(0,Ad.Input)(),$n=(0,Ad.Input)(),Kn=(0,Ad.Input)(),Yn=(0,Ad.Input)(),Jn=(0,Ad.Input)(),Zn=(0,Ad.Input)(),Qn=(0,Ad.Input)(),Xn=(0,Ad.Input)(),ei=(0,Ad.Input)(),ti=(0,Ad.Input)(),ai=(0,Ad.Input)(),ni=(0,Ad.Input)(),ii=(0,Ad.Input)(),ri=(0,Ad.Input)(),oi=(0,Ad.Input)(),si=(0,Ad.Output)(),kn(mi=(di=class{constructor(){i(this,'endDeclaration',li,this),i(this,'startDeclaration',pi,this),i(this,'endDescription',ui,this),i(this,'startDescription',ci,this),i(this,'endDisabled',fi,this),i(this,'startDisabled',gi,this),i(this,'endMaximum',yi,this),i(this,'startMaximum',bi,this),i(this,'endMaximumText',hi,this),i(this,'startMaximumText',Pi,this),i(this,'endMinimum',xi,this),i(this,'startMinimum',Ni,this),i(this,'endMinimumText',vi,this),i(this,'startMinimumText',Si,this),i(this,'endRequired',Ti,this),i(this,'startRequired',Oi,this),i(this,'endRequiredText',Ii,this),i(this,'startRequiredText',Ei,this),i(this,'endShowDeclarationText',Ci,this),i(this,'startShowDeclarationText',_i,this),i(this,'endShowValidationErrorMessages',Di,this),i(this,'startShowValidationErrorMessages',wi,this),i(this,'model',zi,this),i(this,'modelChange',Ri,this)}change(e,t){this.modelChange.emit({value:e,type:t})}},li=r(di.prototype,'endDeclaration',[Ln],{enumerable:!0,initializer:function(){return null}}),pi=r(di.prototype,'startDeclaration',[Un],{enumerable:!0,initializer:function(){return null}}),ui=r(di.prototype,'endDescription',[qn],{enumerable:!0,initializer:function(){return null}}),ci=r(di.prototype,'startDescription',[Fn],{enumerable:!0,initializer:function(){return null}}),fi=r(di.prototype,'endDisabled',[Gn],{enumerable:!0,initializer:function(){return null}}),gi=r(di.prototype,'startDisabled',[Vn],{enumerable:!0,initializer:function(){return null}}),yi=r(di.prototype,'endMaximum',[Wn],{enumerable:!0,initializer:function(){return null}}),bi=r(di.prototype,'startMaximum',[Bn],{enumerable:!0,initializer:function(){return null}}),hi=r(di.prototype,'endMaximumText',[Hn],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Pi=r(di.prototype,'startMaximumText',[$n],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),xi=r(di.prototype,'endMinimum',[Kn],{enumerable:!0,initializer:function(){return null}}),Ni=r(di.prototype,'startMinimum',[Yn],{enumerable:!0,initializer:function(){return null}}),vi=r(di.prototype,'endMinimumText',[Jn],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Si=r(di.prototype,'startMinimumText',[Zn],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Ti=r(di.prototype,'endRequired',[Qn],{enumerable:!0,initializer:function(){return null}}),Oi=r(di.prototype,'startRequired',[Xn],{enumerable:!0,initializer:function(){return null}}),Ii=r(di.prototype,'endRequiredText',[ei],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Ei=r(di.prototype,'startRequiredText',[ti],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Ci=r(di.prototype,'endShowDeclarationText',[ai],{enumerable:!0,initializer:function(){return'\u2139'}}),_i=r(di.prototype,'startShowDeclarationText',[ni],{enumerable:!0,initializer:function(){return'\u2139'}}),Di=r(di.prototype,'endShowValidationErrorMessages',[ii],{enumerable:!0,initializer:function(){return!1}}),wi=r(di.prototype,'startShowValidationErrorMessages',[ri],{enumerable:!0,initializer:function(){return!1}}),zi=r(di.prototype,'model',[oi],{enumerable:!0,initializer:function(){return{end:{value:new Date(1970,0,1)},start:{value:new Date(1970,0,1)}}}}),Ri=r(di.prototype,'modelChange',[si],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),di))||mi),mu=t.IntervalsInputComponent=(Mi=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],selector:'generic-intervals-input',template:`
        <div
            *ngIf="description !== '' && (description || model.description || model.name)"
        >{{description || model.description || model.name}}</div>
        <div
            @defaultAnimation
            *ngFor="let interval of (model.value || []); let first = first; let index = index"
        >
            <generic-interval-input
                [endDisabled]="endDisabled"
                [startDisabled]="startDisabled"

                [endShowDeclarationText]="endShowDeclarationText"
                [startShowDeclarationText]="startShowDeclarationText"

                [endMaximum]="endMaximum"
                [startMaximum]="startMaximum"

                [endMaximumText]="endMaximumText"
                [startMaximumText]="startMaximumText"

                [endMinimum]="endMinimum"
                [startMinimum]="startMinimum"

                [endRequired]="endRequired"
                [startRequired]="startRequired"

                [endRequiredText]="endRequiredText"
                [startRequiredText]="startRequiredText"

                [endMinimumText]="endMinimumText"
                [startMinimumText]="startMinimumText"

                [endDescription]="first ? endDescription : ''"
                [startDescription]="first ? startDescription : ''"

                [model]="interval"
                (model)="change($event, index)"

                [endDeclaration]="endDeclaration"
                [startDeclaration]="startDeclaration"

                [endShowValidationErrorMessages]="endShowValidationErrorMessages"
                [startShowValidationErrorMessages]="startShowValidationErrorMessages"
            >
                <ng-container *ngIf="contentTemplate; else fallback">
                    <ng-container
                        *ngTemplateOutlet="contentTemplate; context: {\$implicit:interval}"
                    ></ng-container>
                </ng-container>
            </generic-interval-input>
            <a
                class="remove"
                (click)="$event.preventDefault(); $event.stopPropagation(); remove(interval)"
                href=""
                *ngIf="model.minimumNumber === null || model.value.length > model.minimumNumber"
            >-</a>
        </div>
        <a
            class="add"
            (click)="$event.preventDefault(); $event.stopPropagation(); add()"
            href=""
            *ngIf="model.maximumNumber === null || (model.value?.length || 0) < model.maximumNumber"
        >+</a>
        <ng-template #fallback>--</ng-template>
    `}),ji=(0,Ad.Input)(),Ai=(0,Ad.ContentChild)(Ad.TemplateRef),ki=(0,Ad.Input)(),Li=(0,Ad.Input)(),Ui=(0,Ad.Input)(),qi=(0,Ad.Input)(),Fi=(0,Ad.Input)(),Gi=(0,Ad.Input)(),Vi=(0,Ad.Input)(),Wi=(0,Ad.Input)(),Bi=(0,Ad.Input)(),Hi=(0,Ad.Input)(),$i=(0,Ad.Input)(),Ki=(0,Ad.Input)(),Yi=(0,Ad.Input)(),Ji=(0,Ad.Input)(),Zi=(0,Ad.Input)(),Qi=(0,Ad.Input)(),Xi=(0,Ad.Input)(),er=(0,Ad.Input)(),tr=(0,Ad.Input)(),ar=(0,Ad.Input)(),nr=(0,Ad.Input)(),ir=(0,Ad.Input)(),rr=(0,Ad.Input)(),or=(0,Ad.Input)(),sr=(0,Ad.Output)(),Mi(mr=(dr=class{constructor(e,t){i(this,'additionalObjectData',lr,this),i(this,'contentTemplate',pr,this),i(this,'description',ur,this),i(this,'endDeclaration',cr,this),i(this,'startDeclaration',fr,this),i(this,'endDescription',gr,this),i(this,'startDescription',yr,this),i(this,'endDisabled',br,this),i(this,'startDisabled',hr,this),i(this,'endMaximum',Pr,this),i(this,'startMaximum',xr,this),i(this,'endMaximumText',Nr,this),i(this,'startMaximumText',vr,this),i(this,'endMinimum',Sr,this),i(this,'startMinimum',Tr,this),i(this,'endMinimumText',Or,this),i(this,'startMinimumText',Ir,this),i(this,'endRequired',Er,this),i(this,'startRequired',Cr,this),i(this,'endRequiredText',_r,this),i(this,'startRequiredText',Dr,this),i(this,'endShowDeclarationText',wr,this),i(this,'startShowDeclarationText',zr,this),i(this,'endShowValidationErrorMessages',Rr,this),i(this,'startShowValidationErrorMessages',Mr,this),i(this,'model',jr,this),i(this,'modelChange',Ar,this),this._dataScope=this._dataScope,this._extendObject=this._extendObject,this._dataScope=e,this._extendObject=t.transform.bind(t)}change(e,t){this.modelChange.emit({value:e,index:t})}ngOnInit(){this.additionalObjectData||(this.additionalObjectData=this._dataScope.generate('_interval')),this.model.value?this.model.value.sort((e,t)=>e.start.value-t.start.value):this.model.value=[]}add(e={}){this.model.value||(this.model.value=[]);const t=this.model.value.length?new Date(this.model.value[this.model.value.length-1].end.value).getTime():0;this.model.value.push(this._extendObject(!0,{},this.additionalObjectData,{end:{value:new Date(t+3600000)},start:{value:new Date(t)}},e)),this.modelChange.emit(this.model)}remove(e){const t=this.model.value.indexOf(e);-1!==t&&(this.model.value.splice(t,1),this.modelChange.emit(this.model))}},lr=r(dr.prototype,'additionalObjectData',[ji],{enumerable:!0,initializer:function(){return this.additionalObjectData}}),pr=r(dr.prototype,'contentTemplate',[Ai],{enumerable:!0,initializer:function(){return this.contentTemplate}}),ur=r(dr.prototype,'description',[ki],{enumerable:!0,initializer:function(){return null}}),cr=r(dr.prototype,'endDeclaration',[Li],{enumerable:!0,initializer:function(){return null}}),fr=r(dr.prototype,'startDeclaration',[Ui],{enumerable:!0,initializer:function(){return null}}),gr=r(dr.prototype,'endDescription',[qi],{enumerable:!0,initializer:function(){return null}}),yr=r(dr.prototype,'startDescription',[Fi],{enumerable:!0,initializer:function(){return null}}),br=r(dr.prototype,'endDisabled',[Gi],{enumerable:!0,initializer:function(){return null}}),hr=r(dr.prototype,'startDisabled',[Vi],{enumerable:!0,initializer:function(){return null}}),Pr=r(dr.prototype,'endMaximum',[Wi],{enumerable:!0,initializer:function(){return null}}),xr=r(dr.prototype,'startMaximum',[Bi],{enumerable:!0,initializer:function(){return null}}),Nr=r(dr.prototype,'endMaximumText',[Hi],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),vr=r(dr.prototype,'startMaximumText',[$i],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Sr=r(dr.prototype,'endMinimum',[Ki],{enumerable:!0,initializer:function(){return null}}),Tr=r(dr.prototype,'startMinimum',[Yi],{enumerable:!0,initializer:function(){return null}}),Or=r(dr.prototype,'endMinimumText',[Ji],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Ir=r(dr.prototype,'startMinimumText',[Zi],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Er=r(dr.prototype,'endRequired',[Qi],{enumerable:!0,initializer:function(){return null}}),Cr=r(dr.prototype,'startRequired',[Xi],{enumerable:!0,initializer:function(){return null}}),_r=r(dr.prototype,'endRequiredText',[er],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Dr=r(dr.prototype,'startRequiredText',[tr],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),wr=r(dr.prototype,'endShowDeclarationText',[ar],{enumerable:!0,initializer:function(){return'\u2139'}}),zr=r(dr.prototype,'startShowDeclarationText',[nr],{enumerable:!0,initializer:function(){return'\u2139'}}),Rr=r(dr.prototype,'endShowValidationErrorMessages',[ir],{enumerable:!0,initializer:function(){return!1}}),Mr=r(dr.prototype,'startShowValidationErrorMessages',[rr],{enumerable:!0,initializer:function(){return!1}}),jr=r(dr.prototype,'model',[or],{enumerable:!0,initializer:function(){return{value:[]}}}),Ar=r(dr.prototype,'modelChange',[sr],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),dr))||mr);Reflect.defineMetadata('design:paramtypes',[Yp,Tl],mu);let du=t.AbstractEditorComponent=(kr=(0,Ad.Input)(),Lr=(0,Ad.Input)(),Ur=(0,Ad.ViewChild)('hostDomNode'),qr=(0,Ad.Output)(),Fr=(0,Ad.Input)(),Gr=(0,Ad.Output)(),Vr=(Zr=Jr=class e extends au{constructor(e){super(e),i(this,'configuration',Wr,this),this.contentSetterMethodName='setContent',i(this,'disabled',Br,this),this.extendObject=this.extendObject,this.factory=this.factory,this.factoryName='',this.fixedUtility=this.fixedUtility,i(this,'hostDomNode',Hr,this),this.instance=null,i(this,'initialized',$r,this),i(this,'model',Kr,this),i(this,'modelChange',Yr,this);const t=Pl(e,this,this.constructor);this.extendObject=t(Tl).transform.bind(t(Tl)),this.fixedUtility=t(bl).fixed}ngAfterViewInit(){var t=this;return o(function*(){t.factory||(t.fixedUtility.globalContext[t.factoryName]?t.factory=t.fixedUtility.globalContext[t.factoryName]:e.factories[t.factoryName]&&(t.factory=e.factories[t.factoryName])),t.factory?(e.factories[t.factoryName]=t.factory,yield t.fixedUtility.tools.timeout()):(yield e.applicationInterfaceLoad[t.factoryName],e.factories[t.factoryName]=t.factory)})()}export(e){return this.model=[null,void 0].includes(e)?'':e.toString(),this.instance&&this.instance[this.contentSetterMethodName](this.model),super.export(e)}setDisabledState(e){this.disabled=e}},Jr.applicationInterfaceLoad={},Jr.factories={},Zr),Wr=r(Vr.prototype,'configuration',[kr],{enumerable:!0,initializer:function(){return{}}}),Br=r(Vr.prototype,'disabled',[Lr],{enumerable:!0,initializer:function(){return null}}),Hr=r(Vr.prototype,'hostDomNode',[Ur],{enumerable:!0,initializer:function(){return this.hostDomNode}}),$r=r(Vr.prototype,'initialized',[qr],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Kr=r(Vr.prototype,'model',[Fr],{enumerable:!0,initializer:function(){return''}}),Yr=r(Vr.prototype,'modelChange',[Gr],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Vr);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],du);let lu=t.CodeEditorComponent=(Qr=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],providers:[{multi:!0,provide:Ud.NG_VALUE_ACCESSOR,useExisting:(0,Ad.forwardRef)(()=>lu)}],selector:'code-editor',template:'<textarea #hostDomNode></textarea>'}),Xr=(0,Ad.Output)(),eo=(0,Ad.Input)(),to=(0,Ad.Output)(),Qr(ao=(no=(mo=so=class e extends du{constructor(t){super(t),i(this,'blur',io,this),i(this,'configuration',ro,this),this.contentSetterMethodName='setValue',this.factoryName='CodeMirror',i(this,'focus',oo,this),'object'!=typeof e.applicationInterfaceLoad[this.factoryName]&&(e.applicationInterfaceLoad[this.factoryName]=Promise.all([new Promise((e)=>this.fixedUtility.$(`
                        <link
                            href="${fl.path.base}`+fl.path.cascadingStyleSheet+`" rel="stylesheet"
                            type="text/css"
                        />
                    `).appendTo('head').on('load',e)),new Promise((e,t)=>this.fixedUtility.$.ajax({cache:!0,dataType:'script',error:t,success:()=>{this.factory=this.fixedUtility.globalContext[this.factoryName],e(this.factory)},url:fl.path.base+fl.path.script}))]))}ngAfterViewInit(){var t=this;return super.ngAfterViewInit().then(o(function*(){t.configuration.mode&&(e.modesLoad.hasOwnProperty(t.configuration.mode)?!0!==e.modesLoad[t.configuration.mode]&&(yield e.modesLoad[t.configuration.mode]):(e.modesLoad[t.configuration.mode]=new Promise(function(e,a){return t.fixedUtility.$.ajax({cache:!0,dataType:'script',error:a,success:e,url:t.configuration.path.base+t.configuration.path.mode.replace(/{mode}/g,t.configuration.mode)})}),yield e.modesLoad[t.configuration.mode]));const a=t.extendObject({},t.configuration,{readOnly:t.disabled});delete a.path,t.instance=t.factory.fromTextArea(t.hostDomNode.nativeElement,a),t.instance[t.contentSetterMethodName](t.model),t.instance.on('blur',function(e,a){return t.blur.emit(a)}),t.instance.on('change',function(){t.onChangeCallback(t.instance.getValue()),t.modelChange.emit(t.model)}),t.instance.on('focus',function(e,a){return t.focus.emit(a)}),t.initialized.emit(t.instance)}))}setDisabledState(e){super.setDisabledState(e),this.instance&&this.instance.setOption('readOnly',this.disabled)}},so.modesLoad={},mo),io=r(no.prototype,'blur',[Xr],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ro=r(no.prototype,'configuration',[eo],{enumerable:!0,initializer:function(){return fl}}),oo=r(no.prototype,'focus',[to],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),no))||ao);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],lu);let pu=t.TextEditorComponent=(lo=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],providers:[{multi:!0,provide:Ud.NG_VALUE_ACCESSOR,useExisting:(0,Ad.forwardRef)(()=>pu)}],selector:'text-editor',template:'<textarea #hostDomNode></textarea>'}),po=(0,Ad.Input)(),uo=(0,Ad.Output)(),co=(0,Ad.Output)(),fo=(0,Ad.Output)(),go=(0,Ad.Output)(),yo=(0,Ad.Output)(),bo=(0,Ad.Output)(),ho=(0,Ad.Output)(),Po=(0,Ad.Output)(),xo=(0,Ad.Output)(),No=(0,Ad.Output)(),vo=(0,Ad.Output)(),So=(0,Ad.Output)(),To=(0,Ad.Output)(),Oo=(0,Ad.Output)(),Io=(0,Ad.Output)(),Eo=(0,Ad.Output)(),Co=(0,Ad.Output)(),_o=(0,Ad.Output)(),Do=(0,Ad.Output)(),wo=(0,Ad.Output)(),zo=(0,Ad.Output)(),Ro=(0,Ad.Output)(),Mo=(0,Ad.Output)(),jo=(0,Ad.Output)(),Ao=(0,Ad.Output)(),ko=(0,Ad.Output)(),Lo=(0,Ad.Output)(),Uo=(0,Ad.Output)(),qo=(0,Ad.Output)(),Fo=(0,Ad.Output)(),lo(Go=(Vo=class e extends du{constructor(t){super(t),i(this,'configuration',Wo,this),this.factoryName='tinymce',i(this,'click',Bo,this),i(this,'dblclick',Ho,this),i(this,'MouseDown',$o,this),i(this,'MouseUp',Ko,this),i(this,'MouseMove',Yo,this),i(this,'MouseOver',Jo,this),i(this,'MouseOut',Zo,this),i(this,'MouseEnter',Qo,this),i(this,'MouseLeave',Xo,this),i(this,'KeyDown',es,this),i(this,'KeyPress',ts,this),i(this,'KeyUp',as,this),i(this,'ContextMenu',ns,this),i(this,'Paste',is,this),i(this,'Focus',rs,this),i(this,'Blur',os,this),i(this,'BeforeSetContent',ss,this),i(this,'SetContent',ms,this),i(this,'GetContent',ds,this),i(this,'PreProcess',ls,this),i(this,'PostProcess',ps,this),i(this,'NodeChange',us,this),i(this,'Undo',cs,this),i(this,'Redo',fs,this),i(this,'Change',gs,this),i(this,'Dirty',ys,this),i(this,'Remove',bs,this),i(this,'ExecCommand',hs,this),i(this,'PastePreProcess',Ps,this),i(this,'PastePostProcess',xs,this),'object'!=typeof e.applicationInterfaceLoad[this.factoryName]&&(e.applicationInterfaceLoad[this.factoryName]=new Promise((e,t)=>this.fixedUtility.$.ajax({cache:!0,dataType:'script',error:t,success:()=>{this.factory=this.fixedUtility.globalContext.tinymce,e(this.factory)},url:yl.scriptPath})))}ngAfterViewInit(){return super.ngAfterViewInit().then(()=>{const e=this.extendObject({},this.configuration);this.factory.baseURL=e.baseURL,delete e.baseURL,delete e.scriptPath,e.target=this.hostDomNode.nativeElement;const t=e.init_instance_callback;e.init_instance_callback=(e)=>{this.instance=e,this.instance[this.contentSetterMethodName](this.model),this.instance.on('Change',()=>{this.onChangeCallback(this.instance.getContent()),this.modelChange.emit(this.model)}),t&&t(this.instance);for(const t of['click','dblclick','MouseDown','MouseUp','MouseMove','MouseOver','MouseOut','MouseEnter','MouseLeave','KeyDown','KeyPress','ContextMenu','Paste','Focus','Blur','BeforeSetContent','SetContent','GetContent','PreProcess','PostProcess','NodeChange','Undo','Redo','Change','Dirty','Remove','PastePreProcess','PastePostProcess'])this.instance.on(t,this[t].emit.bind(this[t]));this.instance.on('KeyUp',(e)=>{this.KeyUp.emit(e),this.onChangeCallback(this.instance.getContent()),this.onTouchedCallback(),this.modelChange.emit(this.model)}),this.instance.on('ExecCommand',(e)=>{this.ExecCommand.emit(e);const t=this.instance.getContent();'string'==typeof t&&0<t.length&&(this.onChangeCallback(this.instance.getContent()),this.onTouchedCallback(),this.modelChange.emit(this.model))})},e.setup=(e)=>e.on('Init',()=>this.initialized.emit(e)),this.factory.init(e)})}ngOnDestroy(){this.instance&&this.factory.remove(this.instance)}setDisabledState(e){super.setDisabledState(e),this.instance&&this.instance.setMode(this.disabled?'readonly':'design')}},Wo=r(Vo.prototype,'configuration',[po],{enumerable:!0,initializer:function(){return yl}}),Bo=r(Vo.prototype,'click',[uo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Ho=r(Vo.prototype,'dblclick',[co],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),$o=r(Vo.prototype,'MouseDown',[fo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Ko=r(Vo.prototype,'MouseUp',[go],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Yo=r(Vo.prototype,'MouseMove',[yo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Jo=r(Vo.prototype,'MouseOver',[bo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Zo=r(Vo.prototype,'MouseOut',[ho],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Qo=r(Vo.prototype,'MouseEnter',[Po],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Xo=r(Vo.prototype,'MouseLeave',[xo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),es=r(Vo.prototype,'KeyDown',[No],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ts=r(Vo.prototype,'KeyPress',[vo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),as=r(Vo.prototype,'KeyUp',[So],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ns=r(Vo.prototype,'ContextMenu',[To],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),is=r(Vo.prototype,'Paste',[Oo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),rs=r(Vo.prototype,'Focus',[Io],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),os=r(Vo.prototype,'Blur',[Eo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ss=r(Vo.prototype,'BeforeSetContent',[Co],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ms=r(Vo.prototype,'SetContent',[_o],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ds=r(Vo.prototype,'GetContent',[Do],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ls=r(Vo.prototype,'PreProcess',[wo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ps=r(Vo.prototype,'PostProcess',[zo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),us=r(Vo.prototype,'NodeChange',[Ro],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),cs=r(Vo.prototype,'Undo',[Mo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),fs=r(Vo.prototype,'Redo',[jo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),gs=r(Vo.prototype,'Change',[Ao],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),ys=r(Vo.prototype,'Dirty',[ko],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),bs=r(Vo.prototype,'Remove',[Lo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),hs=r(Vo.prototype,'ExecCommand',[Uo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Ps=r(Vo.prototype,'PastePreProcess',[qo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),xs=r(Vo.prototype,'PastePostProcess',[Fo],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Vo))||Go);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],pu);const uu={editor:`
        (blur)="focused = false"
        @defaultAnimation
        (focus)="focused = true"
        [ngModel]="model.value"
        (ngModelChange)="model.value = onChange($event, state); modelChange.emit(model)"
        [style.visibilty]="initialized ? 'visible' : 'hidden'"
        #state="ngModel"
    `,nativ:`
        [name]="model.name"
        [ngModel]="model.value"
        (ngModelChange)="model.value = onChange($event, state); modelChange.emit(model)"
        [placeholder]="description === '' ? null : description ? description : (model.description || model.name)"
        [required]="required === null ? !model.nullable : required"
        #state="ngModel"
    `,nativText:`
        [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"
        [maxlength]="maximumLength === null ? (model.type === 'string' ? model.maximumLength : null) : maximumLength"
        [minlength]="minimumLength === null ? (model.type === 'string' ? model.minimumLength : null) : minimumLength"
        [pattern]="pattern === null ? (model.type === 'string' ? model.regularExpressionPattern : null) : pattern"
    `,wrapper:`
        [declaration]="declaration"
        [description]="description"
        [disabled]="disabled"
        [showDeclarationText]="showDeclarationText"
        [maximum]="maximum"
        [maximumLength]="maximumLength"
        [maximumLengthText]="maximumLengthText"
        [maximumText]="maximumText"
        [minimum]="minimum"
        [minimumLength]="minimumLength"
        [minimumLengthText]="minimumLengthText"
        [minimumText]="minimumText"
        [model]="model"
        [pattern]="pattern"
        [required]="required"
        [requiredText]="requiredText"
        [patternText]="patternText"
        [showValidationErrorMessages]="showValidationErrorMessages"
        [type]="type"
    `},cu=`
    <mat-hint align="start" @defaultAnimation matTooltip="info">
        <span
            [class.active]="showDeclaration"
            (click)="showDeclaration = !showDeclaration"
            *ngIf="declaration || model.declaration"
        >
            <a
                (click)="$event.preventDefault()"
                @defaultAnimation
                href=""
                *ngIf="showDeclarationText"
            >{{showDeclarationText}}</a>
            <span @defaultAnimation *ngIf="showDeclaration">
                {{declaration || model.declaration}}
            </span>
        </span>
        <span *ngIf="editor && selectableEditor && !model.disabled">
            <span *ngIf="declaration || model.declaration">|</span>
            <a
                [class.active]="activeEditor"
                (click)="$event.preventDefault(); $event.stopPropagation(); activeEditor = true"
                href=""
            >editor</a>
            <span>|</span>
            <a
                [class.active]="!activeEditor"
                (click)="$event.preventDefault(); $event.stopPropagation(); activeEditor = false"
                href=""
            >plain</a>
        </span>
    </mat-hint>
    <span generic-error *ngIf="showValidationErrorMessages">
        <p @defaultAnimation *ngIf="model.state?.errors?.maxlength">
            {{maximumLengthText | genericStringTemplate:model}}
        </p>
        <p @defaultAnimation *ngIf="model.state?.errors?.max">
            {{maximumText | genericStringTemplate:model}}
        </p>
        <p @defaultAnimation *ngIf="model.state?.errors?.minlength">
            {{minimumLengthText | genericStringTemplate:model}}
        </p>
        <p @defaultAnimation *ngIf="model.state?.errors?.min">
            {{minimumText | genericStringTemplate:model}}
        </p>
        <p @defaultAnimation *ngIf="model.state?.errors?.pattern">
            {{patternText | genericStringTemplate:model}}
        </p>
        <p @defaultAnimation *ngIf="model.state?.errors?.required">
            {{requiredText | genericStringTemplate:model}}
        </p>
    </span>
    <mat-hint
        align="end"
        @defaultAnimation
        *ngIf="!model.selection && model.type === 'string' && model.maximumLength !== null && model.maximumLength < 100"
    >{{model.value?.length}} / {{model.maximumLength}}</mat-hint>
`;let fu=t.InputComponent=(Ns=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],selector:'generic-input',template:`
        <generic-textarea
            ${uu.wrapper}
            [activeEditor]="activeEditor"
            [editor]="editor"
            [maximumNumberOfRows]="maximumNumberOfRows"
            [minimumNumberOfRows]="minimumNumberOfRows"
            *ngIf="editor || model.editor; else simpleInput"
            [rows]="rows"
            [selectableEditor]="selectableEditor"
        ><ng-content></ng-content></generic-textarea>
        <ng-template #simpleInput><generic-simple-input
            ${uu.wrapper}
            [labels]="labels"
        ><ng-content></ng-content></generic-simple-input></ng-template>
    `}),vs=(0,Ad.Input)(),Ss=(0,Ad.Input)(),Ts=(0,Ad.Input)(),Os=(0,Ad.Input)(),Is=(0,Ad.Input)(),Es=(0,Ad.Input)(),Cs=(0,Ad.Input)(),_s=(0,Ad.Input)(),Ns(Ds=(ws=class extends Qp{constructor(...e){var t;return t=super(...e),i(this,'activeEditor',zs,this),i(this,'editor',Rs,this),i(this,'labels',Ms,this),i(this,'maximumNumberOfRows',js,this),i(this,'minimumNumberOfRows',As,this),i(this,'rows',ks,this),i(this,'selectableEditor',Ls,this),i(this,'type',Us,this),t}},zs=r(ws.prototype,'activeEditor',[vs],{enumerable:!0,initializer:function(){return null}}),Rs=r(ws.prototype,'editor',[Ss],{enumerable:!0,initializer:function(){return null}}),Ms=r(ws.prototype,'labels',[Ts],{enumerable:!0,initializer:function(){return{}}}),js=r(ws.prototype,'maximumNumberOfRows',[Os],{enumerable:!0,initializer:function(){return this.maximumNumberOfRows}}),As=r(ws.prototype,'minimumNumberOfRows',[Is],{enumerable:!0,initializer:function(){return this.minimumNumberOfRows}}),ks=r(ws.prototype,'rows',[Es],{enumerable:!0,initializer:function(){return this.rows}}),Ls=r(ws.prototype,'selectableEditor',[Cs],{enumerable:!0,initializer:function(){return null}}),Us=r(ws.prototype,'type',[_s],{enumerable:!0,initializer:function(){return this.type}}),ws))||Ds),gu=t.SimpleInputComponent=(qs=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],selector:'generic-simple-input',template:`
        <ng-container
            @defaultAnimation *ngIf="model.selection; else textInput"
        >
            <mat-form-field>
                <mat-select [(ngModel)]="model.value" ${uu.nativ}>
                    <mat-option
                        *ngFor="let value of model.selection" [value]="value"
                    >
                        {{labels.hasOwnProperty(value) ? labels[value] : value}}
                    </mat-option>
                </mat-select>
                ${cu}
                <ng-content></ng-content>
            </mat-form-field>
        </ng-container>
        <ng-template #textInput><mat-form-field>
            <input
                ${uu.nativ}
                ${uu.nativText}
                [max]="maximum === null ? (model.type === 'number' ? model.maximum : null) : maximum"
                matInput
                [min]="minimum === null ? (model.type === 'number' ? model.minimum : null) : minimum"
                [type]="type ? type : model.name.startsWith('password') ? 'password' : model.type === 'string' ? 'text' : 'number'"
            />
            ${cu}
            <ng-content></ng-content>
        </mat-form-field></ng-template>
    `}),Fs=(0,Ad.Input)(),Gs=(0,Ad.Input)(),qs(Vs=(Ws=class extends Xp{constructor(e){super(e),i(this,'labels',Bs,this),i(this,'type',Hs,this)}},Bs=r(Ws.prototype,'labels',[Fs],{enumerable:!0,initializer:function(){return{}}}),Hs=r(Ws.prototype,'type',[Gs],{enumerable:!0,initializer:function(){return this.type}}),Ws))||Vs);Reflect.defineMetadata('design:paramtypes',[Ad.Injector],gu);let yu=t.TextareaComponent=($s=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],selector:'generic-textarea',template:`
        <ng-container *ngIf="activeEditor; else plain">
            <span [class.focused]="focused" class="editor-label">
                {{
                    description === '' ? null : description ? description : (
                        model.description || model.name
                    )
                }}
            </span>
            <code-editor
                ${uu.editor}
                [configuration]="editor"
                [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"
                (initialized)="initialized = true"
                *ngIf="editorType === 'code' || editor.indentUnit; else tinymce"
            ></code-editor>
            <ng-template #tinymce><text-editor
                ${uu.editor}
                [configuration]="editor"
                [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"
                (initialized)="initialized = true"
            ></text-editor></ng-template>
            ${cu}
            <ng-content></ng-content>
        </ng-container>
        <ng-template #plain><mat-form-field @defaultAnimation>
            <textarea
                ${uu.nativ}
                ${uu.nativText}
                [matAutosizeMaxRows]="maximumNumberOfRows"
                [matAutosizeMinRows]="minimumNumberOfRows"
                matInput
                matTextareaAutosize
                [rows]="rows"
            ></textarea>
            ${cu}
            <ng-content></ng-content>
        </mat-form-field></ng-template>
    `}),Ks=(0,Ad.Input)(),Ys=(0,Ad.Input)(),Js=(0,Ad.Input)(),Zs=(0,Ad.Input)(),Qs=(0,Ad.Input)(),Xs=(0,Ad.Input)(),$s(em=(tm=(dm=mm=class e extends Xp{constructor(t,a){super(a),i(this,'activeEditor',am,this),i(this,'editor',nm,this),this.editorType='custom',i(this,'maximumNumberOfRows',im,this),i(this,'minimumNumberOfRows',rm,this),i(this,'rows',om,this),i(this,'selectableEditor',sm,this),t.configuration.hasOwnProperty('defaultEditorOptions')&&'object'==typeof t.configuration.defaultEditorOptions&&null!==t.configuration.defaultEditorOptions&&(e.defaultEditorOptions=t.configuration.defaultEditorOptions)}ngOnInit(){super.ngOnInit(),null===this.editor&&this.model.editor&&(this.editor=this.model.editor),'string'==typeof this.editor?(this.editor.startsWith('!')&&(this.editor=this.editor.substring(1),null===this.selectableEditor&&(this.selectableEditor=!1)),this.editor.startsWith('(')&&this.editor.endsWith(')')?this.editor=this.editor.substring(1,this.editor.length-1):null===this.activeEditor&&(this.activeEditor=!0),this.editorType=this.editor,this.editor=this.editor.startsWith('code')?this.editor.startsWith('code:')?{mode:this.editor.substring(5)}:{}:'raw'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | code | fullscreen',toolbar2:!1}:'simple'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | bold italic underline strikethrough subscript superscript | fullscreen',toolbar2:!1}:'normal'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | styleselect formatselect | searchreplace visualblocks fullscreen code'}:{}):null===this.editor&&this.activeEditor&&(this.editor={}),null===this.activeEditor&&(this.activeEditor=!1),null===this.selectableEditor&&('boolean'==typeof this.model.selectableEditor?this.selectableEditor=this.model.selectableEditor:this.selectableEditor=!0),'object'==typeof this.editor&&null!==this.editor?this.editorType.startsWith('code')||this.editor.indentUnit?this.editor=this._extendObject(!0,{},fl,e.defaultEditorOptions.code,this.editor):this.editor=this._extendObject(!0,{},yl,e.defaultEditorOptions.markup,this.editor):this.selectableEditor=!1}},mm.defaultEditorOptions={code:{},markup:{}},dm),am=r(tm.prototype,'activeEditor',[Ks],{enumerable:!0,initializer:function(){return null}}),nm=r(tm.prototype,'editor',[Ys],{enumerable:!0,initializer:function(){return null}}),im=r(tm.prototype,'maximumNumberOfRows',[Js],{enumerable:!0,initializer:function(){return this.maximumNumberOfRows}}),rm=r(tm.prototype,'minimumNumberOfRows',[Zs],{enumerable:!0,initializer:function(){return this.minimumNumberOfRows}}),om=r(tm.prototype,'rows',[Qs],{enumerable:!0,initializer:function(){return this.rows}}),sm=r(tm.prototype,'selectableEditor',[Xs],{enumerable:!0,initializer:function(){return null}}),tm))||em);Reflect.defineMetadata('design:paramtypes',[hl,Ad.Injector],yu);let bu=t.FileInputComponent=(lm=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy[rl],selector:'generic-file-input',template:`
        <mat-card>
            <mat-card-header
                @defaultAnimation
                *ngIf="headerText !== '' && (headerText || file?.name || model[attachmentTypeName][internalName]?.declaration || headerText || file?.name || name || model[attachmentTypeName][internalName]?.description || name)"
            >
                <mat-card-title>
                    <span
                        @defaultAnimation
                        *ngIf="!editableName || revision || headerText || !file?.name; else editable"
                    >
                        {{
                            headerText ||
                            file?.name ||
                            model[attachmentTypeName][
                                internalName
                            ]?.description ||
                            name
                        }}
                    </span>
                    <ng-template #editable>
                        <ng-container *ngIf="synchronizeImmediately; else parent">
                            <mat-form-field
                                [class.dirty]="editedName && editedName !== file.name"
                                matTooltip="Focus to edit."
                            >
                                <input
                                    matInput
                                    [ngModel]="editedName || file.name"
                                    (ngModelChange)="editedName = $event"
                                />
                                <mat-hint
                                    [class.active]="showDeclaration"
                                    (click)="showDeclaration = !showDeclaration"
                                    @defaultAnimation
                                    matTooltip="info"
                                    *ngIf="model[attachmentTypeName][internalName]?.declaration"
                                >
                                    <a
                                        (click)="$event.preventDefault()"
                                        @defaultAnimation
                                        href=""
                                        *ngIf="showDeclarationText"
                                    >{{showDeclarationText}}</a>
                                    <span
                                        @defaultAnimation
                                        *ngIf="showDeclaration"
                                    >
                                        {{
                                            model[attachmentTypeName][
                                                internalName
                                            ].declaration
                                        }}
                                    </span>
                                </mat-hint>
                            </mat-form-field>
                            <ng-container
                                *ngIf="editedName && editedName !== file.name"
                            >
                                <a
                                    (click)="$event.preventDefault();rename(editedName)"
                                    @defaultAnimation
                                    href=""
                                >{{saveNameText}}</a>
                                <a
                                    (click)="$event.preventDefault();editedName = file.name"
                                    @defaultAnimation
                                    href=""
                                >{{resetNameText}}</a>
                            </ng-container>
                        </ng-container>
                        <ng-template #parent><mat-form-field
                            [class.dirty]="file.initialName !== file.name"
                            @defaultAnimation
                            matTooltip="Focus to edit."
                            *ngIf="!synchronizeImmediately"
                        >
                            <input
                                matInput [ngModel]="file.name"
                                (ngModelChange)="file.name = $event;modelChange.emit(this.model); fileChange.emit(file)"
                            />
                            <mat-hint
                                [class.active]="showDeclaration"
                                (click)="showDeclaration = !showDeclaration"
                                @defaultAnimation
                                matTooltip="info"
                                *ngIf="model[attachmentTypeName][internalName]?.declaration"
                            >
                                <a
                                    (click)="$event.preventDefault()"
                                    @defaultAnimation
                                    href=""
                                    *ngIf="showDeclarationText"
                                >{{showDeclarationText}}</a>
                                <span
                                    @defaultAnimation
                                    *ngIf="showDeclaration"
                                >
                                    {{
                                        model[attachmentTypeName][
                                            internalName
                                        ].declaration
                                    }}
                                </span>
                            </mat-hint>
                        </mat-form-field></ng-template>
                    </ng-template>
                </mat-card-title>
            </mat-card-header>
            <img mat-card-image
                [attr.alt]="name"
                [attr.src]="file.source"
                @defaultAnimation
                *ngIf="file?.type === 'image' && file?.source"
            >
            <video
                autoplay
                @defaultAnimation
                mat-card-image
                muted
                *ngIf="file?.type === 'video' && file?.source"
                loop
            >
                <source [attr.src]="file.source" [type]="file.content_type">
                No preview possible.
            </video>
            <iframe
                @defaultAnimation
                *ngIf="file?.type === 'text' && file?.source"
                [src]="file.source"
                style="border: none; width: 100%; max-height: 150px"
            ></iframe>
            <div
                @defaultAnimation
                mat-card-image
                *ngIf="(!file?.type && (file?.source || (file?.source | genericType) === 'string') ? noPreviewText : noFileText) as text"
            ><p>{{text}}</p></div>
            <mat-card-content>
                <ng-content></ng-content>
                <div
                    @defaultAnimation
                    generic-error
                    *ngIf="showValidationErrorMessages && model[attachmentTypeName][internalName]?.state?.errors"
                >
                    <p
                        @defaultAnimation
                        *ngIf="model[attachmentTypeName][internalName].state.errors.contentType"
                    >
                        {{
                            typePatternText | genericStringTemplate:{
                                attachmentTypeName: attachmentTypeName,
                                file: file,
                                internalName: internalName,
                                model: model[attachmentTypeName][internalName]
                            }
                        }}
                    </p>
                    <p
                        @defaultAnimation
                        *ngIf="model[attachmentTypeName][internalName].state.errors.database"
                    >
                        {{
                            model[attachmentTypeName][
                                internalName
                            ].state.errors.database
                        }}
                    </p>
                    <p
                        @defaultAnimation
                        *ngIf="model[attachmentTypeName][internalName].state.errors.maximumSize"
                    >
                        {{
                            maximumSizeText | genericStringTemplate:{
                                attachmentTypeName: attachmentTypeName,
                                file: file,
                                internalName: internalName,
                                model: model[attachmentTypeName][internalName]
                            }
                        }}
                    </p>
                    <p
                        @defaultAnimation
                        *ngIf="model[attachmentTypeName][internalName].state.errors.minimumSize"
                    >
                        {{
                            minimumSizeText | genericStringTemplate:{
                                attachmentTypeName: attachmentTypeName,
                                file: file,
                                internalName: internalName,
                                model: model[attachmentTypeName][internalName]
                            }
                        }}
                    </p>
                    <p
                        @defaultAnimation
                        *ngIf="model[attachmentTypeName][internalName].state.errors.name"
                    >
                        {{
                            namePatternText | genericStringTemplate:{
                                attachmentTypeName: attachmentTypeName,
                                file: file,
                                internalName: internalName,
                                model: model[attachmentTypeName][internalName]
                            }
                        }}
                    </p>
                    <p
                        @defaultAnimation
                        *ngIf="model[attachmentTypeName][internalName].state.errors.required"
                    >
                        {{
                            requiredText | genericStringTemplate:{
                                attachmentTypeName: attachmentTypeName,
                                file: file,
                                internalName: internalName,
                                model: model[attachmentTypeName][internalName]
                            }
                        }}
                    </p>
                </div>
            </mat-card-content>
            <mat-card-actions>
                <input #input style="display: none" type="file" />
                <button
                    @defaultAnimation
                    (click)="input.click()"
                    mat-raised-button
                    *ngIf="newButtonText"
                >{{newButtonText}}</button>
                <button
                    (click)="remove()"
                    @defaultAnimation
                    mat-raised-button
                    *ngIf="deleteButtonText && file"
                >{{deleteButtonText}}</button>
                <button mat-raised-button
                    @defaultAnimation
                    *ngIf="downloadButtonText && file"
                ><a [download]="file.name" [href]="file.source">
                    {{downloadButtonText}}
                </a></button>
            </mat-card-actions>
        </mat-card>
    `}),pm=(0,Ad.Input)(),um=(0,Ad.Output)(),cm=(0,Ad.Input)(),fm=(0,Ad.Input)(),gm=(0,Ad.Input)(),ym=(0,Ad.Output)(),bm=(0,Ad.Input)(),hm=(0,Ad.Input)(),Pm=(0,Ad.ViewChild)('input'),xm=(0,Ad.Input)(),Nm=(0,Ad.Input)(),vm=(0,Ad.Input)(),Sm=(0,Ad.Input)(),Tm=(0,Ad.Input)(),Om=(0,Ad.Input)(),Im=(0,Ad.Input)(),Em=(0,Ad.Output)(),Cm=(0,Ad.Input)(),_m=(0,Ad.Input)(),Dm=(0,Ad.Input)(),wm=(0,Ad.Input)(),zm=(0,Ad.Input)(),Rm=(0,Ad.Input)(),Mm=(0,Ad.Input)(),jm=(0,Ad.Input)(),Am=(0,Ad.Input)(),km=(0,Ad.Input)(),Lm=(0,Ad.Input)(),lm(Um=(qm=(yd=gd=class e{constructor(e,t,a,n,r,o,s,m,d,l){this.abstractResolver=this.abstractResolver,this.attachmentTypeName=this.attachmentTypeName,i(this,'autoMessages',Fm,this),this.configuration=this.configuration,i(this,'delete',Gm,this),i(this,'deleteButtonText',Vm,this),this.deletedName=this.deletedName,i(this,'downloadButtonText',Wm,this),i(this,'editableName',Bm,this),this.file=null,i(this,'fileChange',Hm,this),i(this,'filter',$m,this),i(this,'headerText',Km,this),this.idName=this.idName,i(this,'input',Ym,this),i(this,'resetNameText',Jm,this),i(this,'saveNameText',Zm,this),i(this,'showDeclarationText',Qm,this),this.typeName=this.typeName,this.internalName=this.internalName,this.keyCode=this.keyCode,i(this,'mapNameToField',Xm,this),i(this,'maximumSizeText',ed,this),i(this,'minimumSizeText',td,this),i(this,'model',ad,this),i(this,'modelChange',nd,this),i(this,'name',id,this),i(this,'namePatternText',rd,this),i(this,'newButtonText',od,this),i(this,'noFileText',sd,this),i(this,'noPreviewText',md,this),i(this,'oneDocumentPerFileMode',dd,this),i(this,'requiredText',ld,this),i(this,'revision',pd,this),this.revisionName=this.revisionName,i(this,'showValidationErrorMessages',ud,this),i(this,'synchronizeImmediately',cd,this),this.template=this.template,i(this,'typePatternText',fd,this),this._data=this._data,this._domSanitizer=this._domSanitizer,this._extendObject=this._extendObject,this._getFilenameByPrefix=this._getFilenameByPrefix,this._idIsObject=!1,this._representObject=this._representObject,this._stringFormat=this._stringFormat,this._prefixMatch=!1,this.abstractResolver=e,this.configuration=o.configuration,this.attachmentTypeName=this.configuration.database.model.property.name.special.attachment,this.keyCode=l.fixed.tools.keyCode,this.deletedName=this.configuration.database.model.property.name.special.deleted,this.idName=this.configuration.database.model.property.name.special.id,this.model={[this.attachmentTypeName]:{},id:null},this.revisionName=this.configuration.database.model.property.name.special.revision,this.template=d.transform.bind(d),this.typeName=this.configuration.database.model.property.name.special.type,this._data=t,this._domSanitizer=a,this._extendObject=n.transform.bind(n),this._getFilenameByPrefix=r.transform.bind(r),this._representObject=s.transform.bind(s),this._stringFormat=m.transform.bind(m)}determinePresentationType(){this.file&&this.file.content_type&&(e.textMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='text':e.imageMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='image':e.videoMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='video':this.file.type='binary')}updateErrorState(e=null){let t=this.model[this.attachmentTypeName][this.internalName].state.errors;if(e){for(const a in t||(t=this.model[this.attachmentTypeName][this.internalName].state.errors={}),e)e[a]?t[a]=e[a]:t.hasOwnProperty(a)&&delete t[a];0===Object.keys(t).length&&delete this.model[this.attachmentTypeName][this.internalName].state.errors}else t&&delete this.model[this.attachmentTypeName][this.internalName].state.errors}ngOnChanges(e){var t=this;return o(function*(){if('object'==typeof t.model[t.idName]&&(t._idIsObject=!0),e.hasOwnProperty('mapNameToField')&&t.mapNameToField&&!Array.isArray(t.mapNameToField)&&(t.mapNameToField=[t.mapNameToField]),(e.hasOwnProperty('model')||e.hasOwnProperty('name'))&&(t.internalName=t._getFilenameByPrefix(t.model[t.attachmentTypeName],t.name),t.name&&t.internalName&&t.internalName!==t.name&&(t._prefixMatch=!0),t.model[t.attachmentTypeName][t.internalName].state={},t.file=t.model[t.attachmentTypeName][t.internalName].value,t.file?(t.file.initialName=t.file.name,t.updateErrorState({required:null})):t.model[t.attachmentTypeName][t.internalName].nullable?t.updateErrorState({required:null}):t.updateErrorState({required:!0})),e.hasOwnProperty('model')||e.hasOwnProperty('name')||e.hasOwnProperty('revision')){if(t.file&&(t.file.query=`?version=${t.file.digest}`,!t.file.source)){const a=t._idIsObject?t.model[t.idName].value:t.model[t.idName];if(t.revision&&e.revision.currentValue!==e.revision.previousValue)try{yield t.retrieveAttachment(a,{rev:t.revision})}catch(e){return t.updateErrorState({database:'message'in e?e.message:t._representObject(e)}),void t.modelChange.emit(t.model)}else t.file.source=t._domSanitizer.bypassSecurityTrustResourceUrl(t._stringFormat(t.configuration.database.url,'')+'/'+(t.configuration.name||'generic')+`/${a}/${t.file.name}`+t.file.query);t.updateErrorState({database:null})}t.determinePresentationType(),t.modelChange.emit(t.model),t.fileChange.emit(t.file)}})()}ngAfterViewInit(){this.input.nativeElement.addEventListener('change',()=>{if(0<this.input.nativeElement.files.length){this.file={content_type:this.input.nativeElement.files[0].type||'text/plain',data:this.input.nativeElement.files[0],initialName:this.input.nativeElement.files[0].name,length:this.input.nativeElement.files[0].size,name:this.input.nativeElement.files[0].name};const e=['content_type','name'];for(const t of this.filter){let a=!0;for(const n of e)if(t.hasOwnProperty('source')&&t.source.hasOwnProperty(n)&&!new RegExp(t.source[n],'g').test(this.file[n])){a=!1;break}if(a)for(const a of e)t.target.hasOwnProperty(a)&&(this.file[a]=t.hasOwnProperty(a)&&t.source.hasOwnProperty(a)?this.file[a].replace(new RegExp(t.source[a],'g'),t.target[a]):t.target[a])}this.update(this.file?this.file.name:null)}})}remove(){var e=this;return o(function*(){if(e.synchronizeImmediately&&e.file){let t;const a={[e.typeName]:e.model[e.typeName],[e.idName]:e._idIsObject?e.model[e.idName].value:e.model[e.idName],[e.revisionName]:e.model[e.revisionName]};e.oneDocumentPerFileMode?a[e.deletedName]=!0:a[e.attachmentTypeName]={[e.file.name]:{content_type:'text/plain',data:null}};try{t=yield e._data.put(a)}catch(t){return e.updateErrorState({database:'message'in t?t.message:e._representObject(t)}),void e.modelChange.emit(e.model)}e.updateErrorState({database:null}),e.mapNameToField&&e.mapNameToField.includes(e.idName)?e.delete.emit(t):e.model[e.revisionName]=t.rev}e.model[e.attachmentTypeName][e.internalName].state.errors=e.model[e.attachmentTypeName][e.internalName].value=e.file=null,e.model[e.attachmentTypeName][e.internalName].nullable?e.updateErrorState({required:null}):e.updateErrorState({required:!0}),e.modelChange.emit(e.model),e.fileChange.emit(e.file)})()}rename(e){var t=this;return o(function*(){const a=t._idIsObject?t.model[t.idName].value:t.model[t.idName],n=t.file.name;if(t.file.stub&&t.mapNameToField&&a&&t.mapNameToField.includes(t.idName)){try{yield t.retrieveAttachment(a)}catch(e){return t.updateErrorState({database:'message'in e?e.message:t._representObject(e)}),void t.modelChange.emit(t.model)}t.updateErrorState({database:null})}return t.file.name=e,t.update(n)})()}retrieveAttachment(e,t={}){var a=this;return o(function*(){const n=yield a._data.getAttachment(e,a.file.name,t);a.file={content_type:n.type||'text/plain',data:'undefined'==typeof Blob?n.toString('base64'):yield(0,zd.blobToBase64String)(n),length:n.size,name:a.file.name},a.file.source=a._domSanitizer.bypassSecurityTrustResourceUrl(`data:${a.file.content_type};base64,${a.file.data}`)})()}update(e){var t=this;return o(function*(){if(t.model[t.attachmentTypeName][t.internalName].state={},t._prefixMatch){const e=t.file.name.lastIndexOf('.');t.file.name=[0,-1].includes(e)?t.name:t.name+t.file.name.substring(e)}if(t.model[t.attachmentTypeName][t.internalName].value=t.file,t.updateErrorState({name:!new RegExp(t.internalName).test(t.file.name),contentType:!([void 0,null].includes(t.model[t.attachmentTypeName][t.internalName].contentTypeRegularExpressionPattern)||new RegExp(t.model[t.attachmentTypeName][t.internalName].contentTypeRegularExpressionPattern).test(t.file.content_type)),minimumSize:!([void 0,null].includes(t.model[t.attachmentTypeName][t.internalName].minimumSize)||t.model[t.attachmentTypeName][t.internalName].minimumSize<=t.file.length),maximumSize:!([void 0,null].includes(t.model[t.attachmentTypeName][t.internalName].maximumSize)||t.model[t.attachmentTypeName][t.internalName].maximumSize>=t.file.length)}),t.model[t.attachmentTypeName][t.internalName].state.errors){let e='There was encountered an error during uploading file "'+`${t.file.name}": `;for(const a in t.model[t.attachmentTypeName][t.internalName].state.errors)t.model[t.attachmentTypeName][t.internalName].state.errors.hasOwnProperty(a)&&(e+=`\n${a} - `+t.template(t[{contentType:'typePatternText',maximumSize:'maximumSizeText',minimumSize:'minimumSizeText',name:'namePatternText',required:'requiredText'}[a]],{attachmentTypeName:t.attachmentTypeName,file:t.file,internalName:t.internalName,model:t.model[t.attachmentTypeName][t.internalName]}));t.abstractResolver.message(e)}else if(t.synchronizeImmediately){let a={[t.typeName]:t.model[t.typeName],[t.idName]:t._idIsObject?t.model[t.idName].value:t.model[t.idName]};if(null!==t.synchronizeImmediately&&'object'==typeof t.synchronizeImmediately){const e={};for(const a in t.synchronizeImmediately)t.synchronizeImmediately.hasOwnProperty(a)&&(e[a]=t.template(t.synchronizeImmediately[a],t.file));t._extendObject(!0,a,e)}let n=t._idIsObject?t.model[t.idName].value:t.model[t.idName];e&&e!==t.file.name&&!(t.mapNameToField&&n&&t.mapNameToField.includes(t.idName))&&(a[t.attachmentTypeName]={[e]:{data:null}}),[void 0,null].includes(t.model[t.revisionName])||(a[t.revisionName]=t.model[t.revisionName]);const i=[];if(t.mapNameToField){n&&n!==t.file.name&&t.mapNameToField.includes(t.idName)&&(a[t.deletedName]=!0,i.unshift(a),a=t._extendObject(!0,{},a,{[t.deletedName]:!1}));for(const e of t.mapNameToField)a[e]=t.file.name,e===t.idName&&t._idIsObject?t.model[e].value=t.file.name:t.model[e]=t.file.name}a[t.revisionName]='upsert',a[t.attachmentTypeName]={[t.file.name]:{content_type:t.file.content_type,data:t.file.data}},i.unshift(a);let r;try{r=yield t._data.bulkDocs(i)}catch(e){return t.updateErrorState({database:'message'in e?e.message:t._representObject(e)}),t.autoMessages&&t.abstractResolver.message('Database has encountered an error during uploading '+`file "${t.file.name}": `+t.model[t.attachmentTypeName][t.internalName].state.errors.database),void t.modelChange.emit(t.model)}n=a[t.idName];let o;for(const e of r){if(e.error)return t.updateErrorState({database:e.message}),t.autoMessages&&t.abstractResolver.message('Database has encountered an error during '+`uploading file "${t.file.name}": `+e.message),void t.modelChange.emit(t.model);e.id===n&&(o=e.rev)}t.updateErrorState({database:null}),t.file&&(t.file.revision=t.model[t.revisionName]=o,t.file.query=`?rev=${o}`,t.file.source=t._domSanitizer.bypassSecurityTrustResourceUrl(t._stringFormat(t.configuration.database.url,'')+`/${t.configuration.name}/${n}/`+`${t.file.name}${t.file.query}`),t.determinePresentationType()),t.autoMessages&&t.abstractResolver.message(`Uploading file ${t.file.name} was succesful.`),t.modelChange.emit(t.model),t.fileChange.emit(t.file)}else if(t.file.data){t.determinePresentationType();const e=new FileReader;e.onload=function(e){if(t.file.digest=new Date().getTime(),t.file.source=t._domSanitizer.bypassSecurityTrustResourceUrl(e.target.result),t.mapNameToField)for(const e of t.mapNameToField)t.model[e]=t.file.name;t.modelChange.emit(t.model),t.fileChange.emit(t.file)},e.readAsDataURL(t.file.data)}})()}},gd.imageMimeTypeRegularExpression=/^image\/(?:p?jpe?g|png|svg(?:\+xml)?|vnd\.microsoft\.icon|gif|tiff|webp|vnd\.wap\.wbmp|x-(?:icon|jng|ms-bmp))$/,gd.textMimeTypeRegularExpression=/^(?:application\/xml)|(?:text\/(?:plain|x-ndpb[wy]html|(?:x-)?csv))$/,gd.videoMimeTypeRegularExpression=/^video\/(?:(?:x-)?(?:x-)?webm|3gpp|mp2t|mp4|mpeg|quicktime|(?:x-)?flv|(?:x-)?m4v|(?:x-)mng|x-ms-as|x-ms-wmv|x-msvideo)|(?:application\/(?:x-)?shockwave-flash)$/,yd),Fm=r(qm.prototype,'autoMessages',[pm],{enumerable:!0,initializer:function(){return!0}}),Gm=r(qm.prototype,'delete',[um],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Vm=r(qm.prototype,'deleteButtonText',[cm],{enumerable:!0,initializer:function(){return'delete'}}),Wm=r(qm.prototype,'downloadButtonText',[fm],{enumerable:!0,initializer:function(){return'download'}}),Bm=r(qm.prototype,'editableName',[gm],{enumerable:!0,initializer:function(){return!0}}),Hm=r(qm.prototype,'fileChange',[ym],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),$m=r(qm.prototype,'filter',[bm],{enumerable:!0,initializer:function(){return[]}}),Km=r(qm.prototype,'headerText',[hm],{enumerable:!0,initializer:function(){return null}}),Ym=r(qm.prototype,'input',[Pm],{enumerable:!0,initializer:function(){return this.input}}),Jm=r(qm.prototype,'resetNameText',[xm],{enumerable:!0,initializer:function(){return'\xD7'}}),Zm=r(qm.prototype,'saveNameText',[Nm],{enumerable:!0,initializer:function(){return'\u2713'}}),Qm=r(qm.prototype,'showDeclarationText',[vm],{enumerable:!0,initializer:function(){return'\u2139'}}),Xm=r(qm.prototype,'mapNameToField',[Sm],{enumerable:!0,initializer:function(){return null}}),ed=r(qm.prototype,'maximumSizeText',[Tm],{enumerable:!0,initializer:function(){return'Filesize (${file.length} byte) is more than specified maximum of ${model.maximumSize} byte.'}}),td=r(qm.prototype,'minimumSizeText',[Om],{enumerable:!0,initializer:function(){return'Filesize (${file.length} byte) is less than specified minimum of ${model.minimumSize} byte.'}}),ad=r(qm.prototype,'model',[Im],{enumerable:!0,initializer:function(){return this.model}}),nd=r(qm.prototype,'modelChange',[Em],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),id=r(qm.prototype,'name',[Cm],{enumerable:!0,initializer:function(){return null}}),rd=r(qm.prototype,'namePatternText',[_m],{enumerable:!0,initializer:function(){return'Given filename "${file.name}" doesn\'t match specified pattern "${internalName}".'}}),od=r(qm.prototype,'newButtonText',[Dm],{enumerable:!0,initializer:function(){return'new'}}),sd=r(qm.prototype,'noFileText',[wm],{enumerable:!0,initializer:function(){return''}}),md=r(qm.prototype,'noPreviewText',[zm],{enumerable:!0,initializer:function(){return''}}),dd=r(qm.prototype,'oneDocumentPerFileMode',[Rm],{enumerable:!0,initializer:function(){return!0}}),ld=r(qm.prototype,'requiredText',[Mm],{enumerable:!0,initializer:function(){return'Please select a file.'}}),pd=r(qm.prototype,'revision',[jm],{enumerable:!0,initializer:function(){return null}}),ud=r(qm.prototype,'showValidationErrorMessages',[Am],{enumerable:!0,initializer:function(){return!1}}),cd=r(qm.prototype,'synchronizeImmediately',[km],{enumerable:!0,initializer:function(){return!1}}),fd=r(qm.prototype,'typePatternText',[Lm],{enumerable:!0,initializer:function(){return'Filetype "${file.content_type}" doesn\'t match specified pattern "${model.contentTypeRegularExpressionPattern}".'}}),qm))||Um);Reflect.defineMetadata('design:paramtypes',[Zp,Kp,$d.DomSanitizer,Tl,Pp,hl,Ol,ip,Vp,bl],bu);let hu=t.PaginationComponent=(bd=(0,Ad.Component)({animations:cl,changeDetection:Ad.ChangeDetectionStrategy.OnPush,selector:'generic-pagination',template:`
        <ul class="hans" @defaultAnimation *ngIf="lastPage > 1">
            <li @defaultAnimation *ngIf="page > 2">
                <a href="" (click)="change($event, 1)">--</a>
            </li>
            <li @defaultAnimation *ngIf="page > 1">
                <a href="" (click)="change($event, previousPage)">-</a>
            </li>
            <li
                class="page-{{currentPage}}"
                @defaultAnimation
                [ngClass]="{current: currentPage === page, previous: currentPage === previousPage, next: currentPage === nextPage, even: even, 'even-page': currentPage % 2 === 0, first: currentPage === firstPage, last: currentPage === lastPage}"
                *ngFor="let currentPage of pagesRange;let even = even"
            >
                <a (click)="change($event, currentPage)" href="">
                    {{currentPage}}
                </a>
            </li>
            <li @defaultAnimation *ngIf="lastPage > page">
                <a href="" (click)="change($event, nextPage)">+</a>
            </li>
            <li @defaultAnimation *ngIf="lastPage > page + 1">
                <a href="" (click)="change($event, lastPage)">++</a>
            </li>
        </ul>
    `}),hd=(0,Ad.Input)(),Pd=(0,Ad.Input)(),xd=(0,Ad.Output)(),Nd=(0,Ad.Input)(),vd=(0,Ad.Input)(),bd(Sd=(Td=class{constructor(e,t){i(this,'itemsPerPage',Od,this),i(this,'page',Id,this),i(this,'pageChange',Ed,this),i(this,'pageRangeLimit',Cd,this),i(this,'total',_d,this),this._changeDetectorReference=this._changeDetectorReference,this._makeRange=this._makeRange,this._changeDetectorReference=e,this._makeRange=t.transform.bind(t)}change(e,t){e.preventDefault(),this._changeDetectorReference.markForCheck(),this.page=t,this.pageChange.emit(this.page)}get lastPage(){return d(this.total/this.itemsPerPage)}get nextPage(){return m(this.page+1,this.lastPage)}get pagesRange(){if(1>this.page-this.pageRangeLimit){const e=1,t=this.pageRangeLimit-(this.page-e),a=m(this.lastPage,this.page+this.pageRangeLimit+t);return this._makeRange([e,a])}const e=m(this.lastPage,this.page+this.pageRangeLimit),t=this.pageRangeLimit-(e-this.page),a=l(1,this.page-this.pageRangeLimit-t);return this._makeRange([a,e])}get previousPage(){return l(1,this.page-1)}},Od=r(Td.prototype,'itemsPerPage',[hd],{enumerable:!0,initializer:function(){return 10}}),Id=r(Td.prototype,'page',[Pd],{enumerable:!0,initializer:function(){return 1}}),Ed=r(Td.prototype,'pageChange',[xd],{enumerable:!0,initializer:function(){return new Ad.EventEmitter}}),Cd=r(Td.prototype,'pageRangeLimit',[Nd],{enumerable:!0,initializer:function(){return 4}}),_d=r(Td.prototype,'total',[vd],{enumerable:!0,initializer:function(){return 0}}),Td))||Sd);Reflect.defineMetadata('design:paramtypes',[Ad.ChangeDetectorRef,kl],hu);let Pu=t.Module=(Dd=(0,Ad.NgModule)({declarations:[vl,Sl,Tl,Ol,Il,El,Cl,_l,Dl,wl,zl,Rl,Ml,jl,Al,kl,Ll,Ul,ql,Fl,Gl,Vl,Wl,Bl,Hl,$l,Kl,Yl,Jl,Zl,Ql,Xl,ep,tp,ap,np,ip,rp,op,sp,mp,dp,lp,pp,up,cp,fp,gp,yp,bp,hp,Pp,xp,Np,vp,Sp,Tp,Op,Ip,Ep,Cp,_p,Dp,wp,zp,Rp,Mp,jp,Ap,kp,Lp,Up,qp,Fp,Gp,Vp,Wp,au,ou,nu,iu,du,Hp,su,mu,lu,fu,gu,pu,yu,bu,hu],entryComponents:[Hp],exports:[vl,Sl,Tl,Ol,Il,El,Cl,_l,Dl,wl,zl,Rl,Ml,jl,Al,kl,Ll,Ul,ql,Fl,Gl,Vl,Wl,Bl,Hl,$l,Kl,Yl,Jl,Zl,Ql,Xl,ep,tp,ap,np,ip,rp,op,sp,mp,dp,lp,pp,up,cp,fp,gp,yp,bp,hp,Pp,xp,Np,vp,Sp,Tp,Op,Ip,Ep,Cp,_p,Dp,wp,zp,Rp,Mp,jp,Ap,kp,Lp,Up,qp,Fp,Gp,Vp,Wp,nu,iu,Hp,su,mu,lu,fu,gu,pu,yu,bu,hu],imports:[$d.BrowserModule.withServerTransition({appId:'generic-universal'}),Ud.FormsModule,qd.MatButtonModule,Fd.MatCardModule,Gd.MatDialogModule,Vd.MatInputModule,Wd.MatSelectModule,Bd.MatSnackBarModule,Hd.MatTooltipModule],providers:[bl,hl,$p,Kp,Yp,Bp,Zp,vl,Sl,Tl,Ol,Il,El,Cl,_l,Dl,wl,zl,Rl,Ml,jl,Al,kl,Ll,Ul,ql,Fl,Gl,Vl,Wl,Bl,Hl,$l,Kl,Yl,Jl,Zl,Ql,Xl,ep,tp,ap,np,ip,rp,op,sp,mp,dp,lp,pp,up,cp,fp,gp,yp,bp,hp,Pp,xp,Np,vp,Sp,Tp,Op,Ip,Ep,Cp,_p,Dp,wp,zp,Rp,Mp,jp,Ap,kp,Lp,Up,qp,Fp,Gp,Vp,Wp,kd.DatePipe,{provide:Ld.HTTP_INTERCEPTORS,useClass:Jp,multi:!0},{deps:[Kp,hl,Ad.Injector],multi:!0,provide:Ad.APP_INITIALIZER,useFactory:s}]}),Dd(wd=class{})||wd);t.default=Pu},function(e){e.exports=require('@angular/common/http')},function(e){e.exports=require('@angular/forms')},function(e){e.exports=require('@angular/material/button')},function(e){e.exports=require('@angular/material/card')},function(e){e.exports=require('@angular/material/dialog')},function(e){e.exports=require('@angular/material/input')},function(e){e.exports=require('@angular/material/select')},function(e){e.exports=require('@angular/material/snack-bar')},function(e){e.exports=require('@angular/material/tooltip')},function(e){e.exports=require('@angular/platform-browser')},function(e){e.exports=require('pouchdb/dist/pouchdb.min.js')},function(e){e.exports=require('pouchdb-find')},function(e){e.exports=require('pouchdb-validation')},function(e){e.exports=require('rxjs/Subject')},function(e){e.exports=require('rxjs/Observable')},function(e){e.exports=require('rxjs/Subscription')},function(e){e.exports=require('rxjs/add/operator/do')},function(e){e.exports=require('rxjs/add/operator/debounceTime')},function(e){e.exports=require('rxjs/add/operator/distinctUntilChanged')},function(e,t,a){'use strict';function n(e={}){return'string'==typeof e&&(e={name:e}),e=r.default.extendObject(!0,{},s,e),(0,o.trigger)(e.name,[(0,o.transition)(e.enterState,[(0,o.style)(e.style.enter.initial),(0,o.animate)(e.enterDuration||e.duration,(0,o.style)(e.style.enter.final))]),(0,o.transition)(e.leaveState,[(0,o.style)(e.style.leave&&e.style.leave.initial||e.style.enter.final),(0,o.animate)(e.leaveDuration||e.duration,(0,o.style)(e.style.leave&&e.style.leave.final||e.style.enter.initial))])])}t.__esModule=!0,t.defaultAnimation=t.createDefaultAnimation=t.defaultOptions=void 0,t.createFadeAnimation=n;var i=a(0),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a(4);try{a(35)}catch(e){}const s=t.defaultOptions={duration:'.3s',enterState:':enter',leaveState:':leave',name:'fadeAnimation',style:{enter:{final:{opacity:1},initial:{opacity:0}}}},m=t.createDefaultAnimation=n.bind({},'defaultAnimation'),d=t.defaultAnimation=(0,o.trigger)('defaultAnimation',[(0,o.transition)(s.enterState,[(0,o.style)(s.style.enter.initial),(0,o.animate)(s.enterDuration||s.duration,(0,o.style)(s.style.enter.final))]),(0,o.transition)(s.leaveState,[(0,o.style)(s.style.leave&&s.style.leave.initial||s.style.enter.final),(0,o.animate)(s.leaveDuration||s.duration,(0,o.style)(s.style.leave&&s.style.leave.final||s.style.enter.initial))])]);t.default=d},function(e){e.exports=require('source-map-support/register')},function(e){e.exports=require('html-minifier')}]);