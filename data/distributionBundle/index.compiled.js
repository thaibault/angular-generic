'use strict';
(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t(require('clientnode'),require('@angular/animations'),require('@angular/core'),require('@angular/router'),require('rxjs'),require('@angular/common'),require('@angular/forms'),require('@angular/material'),require('@angular/platform-browser'),require('pouchdb/dist/pouchdb.min.js'),require('pouchdb-find'),require('pouchdb-validation'),require('rxjs/Observable'),require('rxjs/Subscription'),require('blob-util/dist/blob-util.min.js')):'function'==typeof define&&define.amd?define('index',['clientnode','@angular/animations','@angular/core','@angular/router','rxjs','@angular/common','@angular/forms','@angular/material','@angular/platform-browser','pouchdb/dist/pouchdb.min.js','pouchdb-find','pouchdb-validation','rxjs/Observable','rxjs/Subscription','blob-util/dist/blob-util.min.js'],t):'object'==typeof exports?exports.index=t(require('clientnode'),require('@angular/animations'),require('@angular/core'),require('@angular/router'),require('rxjs'),require('@angular/common'),require('@angular/forms'),require('@angular/material'),require('@angular/platform-browser'),require('pouchdb/dist/pouchdb.min.js'),require('pouchdb-find'),require('pouchdb-validation'),require('rxjs/Observable'),require('rxjs/Subscription'),require('blob-util/dist/blob-util.min.js')):e.index=t(e.clientnode,e['@angular/animations'],e['@angular/core'],e['@angular/router'],e.rxjs,e['@angular/common'],e['@angular/forms'],e['@angular/material'],e['@angular/platform-browser'],e['pouchdb/dist/pouchdb.min.js'],e['pouchdb-find'],e['pouchdb-validation'],e['rxjs/Observable'],e['rxjs/Subscription'],e['blob-util/dist/blob-util.min.js'])})('undefined'==typeof self?this:self,function(e,t,a,n,i,r,o,l,m,s,p,d,c,u,g){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=7)}([function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t){t.exports=e},function(e){e.exports=t},function(e){e.exports=a},function(e){e.exports=n},function(e){e.exports=i},function(e,t,a){'use strict';(function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return'string'==typeof e&&(e={name:e}),e=r.default.extendObject(!0,{},l,e),(0,o.trigger)(e.name,[(0,o.transition)(e.enterState,[(0,o.style)(e.style.enter.initial),(0,o.animate)(e.enterDuration||e.duration,(0,o.style)(e.style.enter.final))]),(0,o.transition)(e.leaveState,[(0,o.style)(e.style.leave&&e.style.leave.initial||e.style.enter.final),(0,o.animate)(e.leaveDuration||e.duration,(0,o.style)(e.style.leave&&e.style.leave.final||e.style.enter.initial))])])}t.__esModule=!0,t.defaultAnimation=t.createDefaultAnimation=t.defaultOptions=void 0,t.createFadeAnimation=n;var i=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a(2);try{e.require('source-map-support/register')}catch(e){}var l=t.defaultOptions={duration:'.3s',enterState:':enter',leaveState:':leave',name:'fadeAnimation',style:{enter:{final:{opacity:1},initial:{opacity:0}}}},m=t.createDefaultAnimation=n.bind({},'defaultAnimation'),s=t.defaultAnimation=(0,o.trigger)('defaultAnimation',[(0,o.transition)(l.enterState,[(0,o.style)(l.style.enter.initial),(0,o.animate)(l.enterDuration||l.duration,(0,o.style)(l.style.enter.final))]),(0,o.transition)(l.leaveState,[(0,o.style)(l.style.leave&&l.style.leave.initial||l.style.enter.final),(0,o.animate)(l.leaveDuration||l.duration,(0,o.style)(l.style.leave&&l.style.leave.final||l.style.enter.initial))])]);t.default=s}).call(t,a(0)(e))},function(e,t,a){e.exports=a(8)},function(e,t,a){'use strict';(function(e){function n(e){return e&&e.__esModule?e:{default:e}}function i(e,t,a,n){a&&Object.defineProperty(e,t,{enumerable:a.enumerable,configurable:a.configurable,writable:a.writable,value:a.initializer?a.initializer.call(n):void 0})}function r(e,t,a,n,i){var r={};return Object.keys(n).forEach(function(e){r[e]=n[e]}),r.enumerable=!!r.enumerable,r.configurable=!!r.configurable,('value'in r||r.initializer)&&(r.writable=!0),r=a.slice().reverse().reduce(function(a,n){return n(e,t,a)||a},r),i&&void 0!==r.initializer&&(r.value=r.initializer?r.initializer.call(i):void 0,r.initializer=void 0),void 0===r.initializer&&(Object.defineProperty(e,t,r),r=null),r}function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){function n(i,r){try{var o=t[i](r),l=o.value}catch(e){return void a(e)}return o.done?void e(l):Promise.resolve(l).then(function(e){n('next',e)},function(e){n('throw',e)})}return n('next')})}}function l(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function m(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function p(e,t,a){return 2,function(){return cp.injectors.add(a),e.initialize()}}var d=Math.min,c=Math.ceil,u=Math.max;t.__esModule=!0,t.Module=t.PaginationComponent=t.FileInputComponent=t.TextareaComponent=t.SimpleInputComponent=t.InputComponent=t.TextEditorComponent=t.CodeEditorComponent=t.AbstractEditorComponent=t.IntervalsInputComponent=t.IntervalInputComponent=t.DateTimeValueAccessor=t.SliderDirective=t.DateDirective=void 0,t.AbstractValueAccessor=t.AbstractItemsComponent=t.AbstractLiveDataComponent=t.AbstractNativeInputComponent=t.AbstractInputComponent=t.AbstractResolver=t.DataScopeService=t.DataService=t.AlertService=t.ConfirmComponent=t.CanDeactivateRouteLeaveGuard=t.NumberPercentPipe=t.StringTemplatePipe=t.StringStartsWithPipe=t.StringSliceMatchPipe=t.StringShowIfPatternMatchesPipe=t.StringSafeURLPipe=t.StringSafeStylePipe=t.StringSafeScriptPipe=t.StringSafeResourceURLPipe=t.StringSafeHTMLPipe=t.StringReplacePipe=t.StringMaximumLengthPipe=t.StringMatchPipe=t.StringHasTimeSuffixPipe=t.StringEndsWithPipe=t.ArrayDependentConcatPipe=t.TypePipe=t.ReversePipe=t.ObjectKeysPipe=t.MapPipe=t.LimitToPipe=t.IsDefinedPipe=t.ExtractRawDataPipe=t.ExtractDataPipe=t.AttachmentWithPrefixExistsPipe=t.GetFilenameByPrefixPipe=t.AttachmentsAreEqualPipe=t.NumberRoundPipe=t.NumberIsNotANumberPipe=t.NumberGetUTCTimestampPipe=t.StringNormalizeDomNodeSelectorPipe=t.StringDecodeHTMLEntitiesPipe=t.StringRepresentPhoneNumberPipe=t.StringParseEncodedObjectPipe=t.StringNormalizePhoneNumberPipe=t.StringMD5Pipe=t.StringMarkPipe=t.StringFindNormalizedMatchRangePipe=t.StringLowerCasePipe=t.StringGetRegularExpressionValidatedPipe=t.StringFormatPipe=t.StringDelimitedToCamelCasePipe=t.StringCapitalizePipe=t.StringCamelCaseToDelimitedPipe=t.StringCompressStyleValuePipe=t.StringRepresentURLPipe=t.StringNormalizeURLPipe=t.StringIsInternalURLPipe=t.StringGetURLVariablePipe=t.StringGetProtocolNamePipe=t.StringGetPortNumberPipe=t.StringGetDomainNamePipe=t.StringHasPathPrefixPipe=t.StringAddSeparatorToPathPipe=t.StringEncodeURIComponentPipe=t.StringConvertToValidVariableNamePipe=t.StringEscapeRegularExpressionsPipe=t.ArraySortTopologicalPipe=t.ArrayRemovePipe=t.ArrayAppendAddPipe=t.ArraySumUpPropertyPipe=t.ArrayMakeRangePipe=t.ArrayIntersectPipe=t.ArrayExtractIfPropertyMatchesPipe=t.ArrayExtractIfPropertyExistsPipe=t.ArrayExtractIfMatchesPipe=t.ArrayExtractPipe=t.ArrayDeleteEmptyItemsPipe=t.ArrayAggregatePropertyIfEqualPipe=t.ArrayUniquePipe=t.ArrayMakePipe=t.ArrayMergePipe=t.SortPipe=t.RepresentObjectPipe=t.ExtendObjectPipe=t.EqualsPipe=t.ConvertCircularObjectToJSONPipe=t.AbstractInvertedToolsPipe=t.AbstractToolsPipe=t.determineInjector=t.InitialDataService=t.UtilityService=t.TINYMCE_DEFAULT_OPTIONS=t.CODE_MIRROR_DEFAULT_OPTIONS=t.SYMBOL=t.applicationDomNodeSelector=t.globalVariableNameToRetrieveDataFrom=t.currentInstanceToSearchInjectorFor=t.LAST_KNOWN_DATA=void 0;var g=function(){function e(e,t){for(var a=0,n;a<t.length;a++)n=t[a],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),y='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},f,h,b,x,v,_,N,P,T,S,I,O,C,E,k,D,w,A,R,M,z,j,L,U,q,F,G,V,$,W,B,H,K,Y,J,Z,Q,X,ee,te,ae,ne,ie,re,oe,le,me,se,pe,de,ce,ue,ge,ye,fe,he,be,xe,ve,_e,Ne,Pe,Te,Se,Ie,Oe,Ce,Ee,ke,De,we,Ae,Re,Me,ze,je,Le,Ue,qe,Fe,Ge,Ve,$e,We,Be,He,Ke,Ye,Je,Ze,Qe,Xe,et,tt,at,nt,it,rt,ot,lt,mt,st,pt,dt,ct,ut,gt,yt,ft,ht,bt,xt,vt,_t,Nt,Pt,Tt,St,It,Ot,Ct,Et,kt,Dt,wt,At,Rt,Mt,zt,jt,Lt,Ut,qt,Ft,Gt,Vt,$t,Wt,Bt,Ht,Kt,Yt,Jt,Zt,Qt,Xt,ea,ta,aa,na,ia,ra,oa,la,ma,sa,pa,da,ca,ua,ga,ya,fa,ha,ba,xa,va,_a,Na,Pa,Ta,Sa,Ia,Oa,Ca,Ea,ka,Da,wa,Aa,Ra,Ma,za,ja,La,Ua,qa,Fa,Ga,Va,$a,Wa,Ba,Ha,Ka,Ya,Ja,Za,Qa,Xa,en,tn,an,nn,rn,on,ln,mn,sn,pn,dn,cn,un,gn,yn,fn,hn,bn,xn,vn,_n,Nn,Pn,Tn,Sn,In,On,Cn,En,kn,Dn,wn,An,Rn,Mn,zn,jn,Ln,Un,qn,Fn,Gn,Vn,$n,Wn,Bn,Hn,Kn,Yn,Jn,Zn,Qn,Xn,ei,ti,ai,ni,ii,ri,oi,li,mi,si,pi,di,ci,ui,gi,yi,fi,hi,bi,xi,vi,_i,Ni,Pi,Ti,Si,Ii,Oi,Ci,Ei,ki,Di,wi,Ai,Ri,Mi,zi,ji,Li,Ui,qi,Fi,Gi,Vi,$i,Wi,Bi,Hi,Ki,Yi,Ji,Zi,Qi,Xi,er,tr,ar,nr,ir,rr,or,lr,mr,sr,pr,dr,cr,ur,gr,yr,fr,hr,br,xr,vr,_r,Nr,Pr,Tr,Sr,Ir,Or,Cr,Er,kr,Dr,wr,Ar,Rr,Mr,zr,jr,Lr,Ur,qr,Fr,Gr,Vr,$r,Wr,Br,Hr,Kr,Yr,Jr,Zr,Qr,Xr,eo,to,ao,no,io,ro,oo,lo,mo,so,po,co,uo,go,yo,fo,ho,bo,xo,vo,_o,No,Po,To,So,Io,Oo,Co,Eo,ko,Do,wo,Ao,Ro,Mo,zo,jo,Lo,Uo,qo,Fo,Go,Vo,$o,Wo,Bo,Ho,Ko,Yo,Jo,Zo,Qo,Xo,el,tl,al,nl,il,rl,ol,ll,ml,sl,pl,dl,cl,ul,gl,yl,fl,hl,bl,xl,vl,_l,Nl,Pl,Tl,Sl,Il,Ol,Cl,El,kl,Dl,wl,Al,Rl,Ml,zl,jl,Ll,Ul,ql,Fl,Gl,Vl,$l,Wl,Bl,Hl,Kl,Yl,Jl,Zl,Ql,Xl,em,tm,am,nm,im,rm,om,lm,mm,sm,pm,dm,cm,um,gm,ym,fm,hm,bm,xm,vm,_m,Nm,Pm,Tm,Sm,Im,Om,Cm,Em,km,Dm,wm,Am,Rm,Mm,zm,jm,Lm,Um,qm,Fm,Gm,Vm,$m,Wm,Bm,Hm,Km,Ym,Jm,Zm,Qm,Xm,es,ts,as,ns,is,rs,os,ls,ms,ss,ps,ds,cs,us,gs,ys,fs,hs,bs,xs,vs,_s,Ns,Ps,Ts,Ss,Is,Os,Cs,Es,ks,Ds,ws,As,Rs;t.dataServiceInitializerFactory=p;var Ms=a(1),zs=n(Ms),js=a(2),Ls=a(3),Us=a(9),qs=a(10),Fs=a(11),Gs=a(12),Vs=a(4),$s=a(13),Ws=n($s),Bs=a(14),Hs=n(Bs),Ks=a(15),Ys=n(Ks),Js=a(5),Zs=a(16),Qs=a(17),Xs=a(6);try{e.require('source-map-support/register')}catch(e){}if('undefined'==typeof ep)var ep='default';if('undefined'==typeof tp)var tp=1;var ap=t.LAST_KNOWN_DATA={data:{},sequence:'now'},np=t.currentInstanceToSearchInjectorFor=null,ip=t.globalVariableNameToRetrieveDataFrom='genericInitialData',rp=t.applicationDomNodeSelector='application, [application]',op=t.SYMBOL=new Date().getTime()+'/'+Math.random(),lp=[Xs.defaultAnimation],mp=t.CODE_MIRROR_DEFAULT_OPTIONS={path:{cascadingStyleSheet:'lib/codemirror.css',base:'/codemirror/',mode:'mode/{mode}/{mode}.js',script:'lib/codemirror.js'},indentUnit:4,tabSize:4,indentWithTabs:!1,lineWrapping:!1,lineNumbers:!0,scrollbarStyle:'native'},sp='/tinymce/',pp=t.TINYMCE_DEFAULT_OPTIONS={baseURL:sp,scriptPath:sp+'tinymce.min.js',skin_url:sp+'skins/lightgray',theme_url:sp+'themes/modern/theme.min.js',allow_conditional_comments:!1,allow_script_urls:!1,cache_suffix:'?version='+tp,convert_fonts_to_spans:!0,document_base_url:'/',element_format:'xhtml',entity_encoding:'raw',fix_list_elements:!0,forced_root_block:null,hidden_input:!1,invalid_elements:'em',invalid_styles:'color font-size line-height',keep_styles:!1,menubar:!1,plugins:'fullscreen link code hr nonbreaking searchreplace visualblocks',relative_urls:!1,remove_script_host:!1,remove_trailing_brs:!0,schema:'html5',toolbar1:'cut copy paste | undo redo removeformat | styleselect formatselect fontselect fontsizeselect | searchreplace visualblocks fullscreen code',toolbar2:'alignleft aligncenter alignright alignjustify outdent indent | link hr nonbreaking bullist numlist bold italic underline strikethrough',trim:!0},dp=t.UtilityService=(f=(0,Ls.Injectable)(),f(h=(x=b=function e(){s(this,e),this.fixed=e,this.tools=new zs.default},b.$=Ms.$,b.globalContext=Ms.globalContext,b.tools=zs.default,x))||h),cp=t.InitialDataService=(v=(0,Ls.Injectable)(),v(_=(P=N=function(){function e(t){s(this,e),this.configuration=this.configuration,this.globalContext=this.globalContext,this.tools=this.tools,t||(t=new dp),this.globalContext=t.fixed.globalContext,this.tools=t.fixed.tools,this.set(e.defaultScope,ip in t.fixed.globalContext?t.fixed.globalContext[ip]:{}),e.removeFoundData&&delete t.fixed.globalContext[ip]}return e.prototype.retrieveFromDomNode=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:rp,a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:e.removeFoundData,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'initialData',i=null;'string'==typeof t?'document'in this.globalContext&&'querySelector'in this.globalContext.document&&(i=this.globalContext.document.querySelector(t)):i=t;var r={};return i&&'getAttribute'in i&&i.getAttribute(n)&&(r=this.set(JSON.parse(i.getAttribute(n))),a&&i.removeAttribute(n)),r},e.prototype.set=function(){for(var e=arguments.length,t=Array(e),a=0,n;a<e;a++)t[a]=arguments[a];return(n=this.tools).extendObject.apply(n,[!0,this].concat(t))},e}(),N.defaultScope={configuration:{database:{connector:{auto_compaction:!0,revs_limit:10},model:{entities:{},property:{defaultSpecification:{minimum:0,minimumLength:0,minimumNumber:0},name:{reserved:[],special:{allowedRole:'_allowedRoles',attachment:'_attachments',conflict:'_conflicts',constraint:{execution:'_constraintExecutions',expression:'_constraintExpressions'},deleted:'_deleted',deletedConflict:'_deleted_conflicts',extend:'_extends',id:'_id',localSequence:'_local_seq',maximumAggregatedSize:'_maximumAggregatedSize',minimumAggregatedSize:'_minimumAggregatedSize',revision:'_rev',revisions:'_revisions',revisionsInformation:'_revs_info',strategy:'_updateStrategy',type:'-type'},validatedDocumentsCache:'_validatedDocuments'}}},plugins:[],url:'generic'}}},N.injectors=new Set,N.removeFoundData=!0,P))||_);Reflect.defineMetadata('design:paramtypes',[dp],cp);var up=t.determineInjector=function(e,a,n){if(e)return e.get.bind(e);if(void 0===np)throw op;t.currentInstanceToSearchInjectorFor=np=void 0;for(var i=Array.from(cp.injectors),r=Array.isArray(i),o=0,i=r?i:i[Symbol.iterator]();;){var l;if(r){if(o>=i.length)break;l=i[o++]}else{if(o=i.next(),o.done)break;l=o.value}var m=l;try{if(m.get(n,NaN)===a)return m.get.bind(m)}catch(e){if(t.currentInstanceToSearchInjectorFor=np=null,e===op)return m.get.bind(m);throw e}}if(t.currentInstanceToSearchInjectorFor=np=null,1===cp.injectors.size){console.warn('Could not determine injector, but using the only registered one. This will fail an multiple application instances.');var s=Array.from(cp.injectors)[0];return s.get.bind(s)}throw new Error('No unambiguously injector could be determined automatically.')},gp=t.AbstractToolsPipe=function(){function e(){s(this,e),this.methodName=this.methodName}return e.prototype.transform=function(){var e;return(e=dp.tools)[this.methodName].apply(e,arguments)},e}(),yp=t.AbstractInvertedToolsPipe=function(e){function t(){return s(this,t),l(this,e.apply(this,arguments))}return m(t,e),t.prototype.transform=function(){var e=dp.tools;return e.invertArrayFilter(e[this.methodName]).apply(void 0,arguments)},t}(gp),fp=t.ConvertCircularObjectToJSONPipe=(T=(0,Ls.Pipe)({name:'genericConvertCircularObjectToJSON'}),T(S=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='convertCircularObjectToJSON',a),l(n,i)}return m(t,e),t}(gp))||S),hp=t.EqualsPipe=(I=(0,Ls.Pipe)({name:'genericEquals'}),I(O=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='equals',a),l(n,i)}return m(t,e),t}(gp))||O),bp=t.ExtendObjectPipe=(C=(0,Ls.Pipe)({name:'genericExtendObject'}),C(E=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='extendObject',a),l(n,i)}return m(t,e),t}(gp))||E),xp=t.RepresentObjectPipe=(k=(0,Ls.Pipe)({name:'genericRepresentObject'}),k(D=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='representObject',a),l(n,i)}return m(t,e),t}(gp))||D),vp=t.SortPipe=(w=(0,Ls.Pipe)({name:'genericSort'}),w(A=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='sort',a),l(n,i)}return m(t,e),t}(gp))||A),_p=t.ArrayMergePipe=(R=(0,Ls.Pipe)({name:'genericArrayMerge'}),R(M=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayMerge',a),l(n,i)}return m(t,e),t}(gp))||M),Np=t.ArrayMakePipe=(z=(0,Ls.Pipe)({name:'genericArrayMake'}),z(j=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayMake',a),l(n,i)}return m(t,e),t}(gp))||j),Pp=t.ArrayUniquePipe=(L=(0,Ls.Pipe)({name:'genericArrayUnique'}),L(U=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayUnique',a),l(n,i)}return m(t,e),t}(gp))||U),Tp=t.ArrayAggregatePropertyIfEqualPipe=(q=(0,Ls.Pipe)({name:'genericArrayAggregatePropertyIfEqual'}),q(F=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayAggregatePropertyIfEqual',a),l(n,i)}return m(t,e),t}(gp))||F),Sp=t.ArrayDeleteEmptyItemsPipe=(G=(0,Ls.Pipe)({name:'genericArrayDeleteEmptyItems'}),G(V=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayDeleteEmptyItems',a),l(n,i)}return m(t,e),t}(gp))||V),Ip=t.ArrayExtractPipe=($=(0,Ls.Pipe)({name:'genericArrayExtract'}),$(W=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayExtract',a),l(n,i)}return m(t,e),t}(gp))||W),Op=t.ArrayExtractIfMatchesPipe=(B=(0,Ls.Pipe)({name:'genericArrayExtractIfMatches'}),B(H=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayExtractIfMatches',a),l(n,i)}return m(t,e),t}(gp))||H),Cp=t.ArrayExtractIfPropertyExistsPipe=(K=(0,Ls.Pipe)({name:'genericArrayExtractIfPropertyExists'}),K(Y=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayExtractIfPropertyExists',a),l(n,i)}return m(t,e),t}(gp))||Y),Ep=t.ArrayExtractIfPropertyMatchesPipe=(J=(0,Ls.Pipe)({name:'genericArrayExtractIfPropertyMatches'}),J(Z=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayExtractIfPropertyMatches',a),l(n,i)}return m(t,e),t}(gp))||Z),kp=t.ArrayIntersectPipe=(Q=(0,Ls.Pipe)({name:'genericArrayIntersect'}),Q(X=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayIntersect',a),l(n,i)}return m(t,e),t}(gp))||X),Dp=t.ArrayMakeRangePipe=(ee=(0,Ls.Pipe)({name:'genericArrayMakeRange'}),ee(te=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayMakeRange',a),l(n,i)}return m(t,e),t}(gp))||te),wp=t.ArraySumUpPropertyPipe=(ae=(0,Ls.Pipe)({name:'genericArraySumUpProperty'}),ae(ne=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arraySumUpProperty',a),l(n,i)}return m(t,e),t}(gp))||ne),Ap=t.ArrayAppendAddPipe=(ie=(0,Ls.Pipe)({name:'genericArrayAppendAdd'}),ie(re=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayAppendAdd',a),l(n,i)}return m(t,e),t}(gp))||re),Rp=t.ArrayRemovePipe=(oe=(0,Ls.Pipe)({name:'genericArrayRemove'}),oe(le=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arrayRemove',a),l(n,i)}return m(t,e),t}(gp))||le),Mp=t.ArraySortTopologicalPipe=(me=(0,Ls.Pipe)({name:'genericArraySortTopological'}),me(se=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='arraySortTopological',a),l(n,i)}return m(t,e),t}(gp))||se),zp=t.StringEscapeRegularExpressionsPipe=(pe=(0,Ls.Pipe)({name:'genericStringEscapeRegularExpressions'}),pe(de=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringEscapeRegularExpressions',a),l(n,i)}return m(t,e),t}(gp))||de),jp=t.StringConvertToValidVariableNamePipe=(ce=(0,Ls.Pipe)({name:'genericStringConvertToValidVariableName'}),ce(ue=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringConvertToValidVariableName',a),l(n,i)}return m(t,e),t}(gp))||ue),Lp=t.StringEncodeURIComponentPipe=(ge=(0,Ls.Pipe)({name:'genericStringEncodeURIComponent'}),ge(ye=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringEncodeURIComponent',a),l(n,i)}return m(t,e),t}(gp))||ye),Up=t.StringAddSeparatorToPathPipe=(fe=(0,Ls.Pipe)({name:'genericStringAddSeparatorToPath'}),fe(he=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringAddSeparatorToPath',a),l(n,i)}return m(t,e),t}(gp))||he),qp=t.StringHasPathPrefixPipe=(be=(0,Ls.Pipe)({name:'genericStringHasPathPrefix'}),be(xe=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringHasPathPrefix',a),l(n,i)}return m(t,e),t}(gp))||xe),Fp=t.StringGetDomainNamePipe=(ve=(0,Ls.Pipe)({name:'genericStringGetDomainName'}),ve(_e=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringGetDomainName',a),l(n,i)}return m(t,e),t}(gp))||_e),Gp=t.StringGetPortNumberPipe=(Ne=(0,Ls.Pipe)({name:'genericStringGetPortNumber'}),Ne(Pe=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringGetPortNumber',a),l(n,i)}return m(t,e),t}(gp))||Pe),Vp=t.StringGetProtocolNamePipe=(Te=(0,Ls.Pipe)({name:'genericStringGetProtocolName'}),Te(Se=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringGetProtocolName',a),l(n,i)}return m(t,e),t}(gp))||Se),$p=t.StringGetURLVariablePipe=(Ie=(0,Ls.Pipe)({name:'genericStringGetURLVariable'}),Ie(Oe=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringGetURLVariable',a),l(n,i)}return m(t,e),t}(gp))||Oe),Wp=t.StringIsInternalURLPipe=(Ce=(0,Ls.Pipe)({name:'genericStringIsInternalURL'}),Ce(Ee=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringIsInternalURL',a),l(n,i)}return m(t,e),t}(gp))||Ee),Bp=t.StringNormalizeURLPipe=(ke=(0,Ls.Pipe)({name:'genericStringNormalizeURL'}),ke(De=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringNormalizeURL',a),l(n,i)}return m(t,e),t}(gp))||De),Hp=t.StringRepresentURLPipe=(we=(0,Ls.Pipe)({name:'genericStringRepresentURL'}),we(Ae=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringRepresentURL',a),l(n,i)}return m(t,e),t}(gp))||Ae),Kp=t.StringCompressStyleValuePipe=(Re=(0,Ls.Pipe)({name:'genericStringCompressStyleValue'}),Re(Me=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringCompressStyleValue',a),l(n,i)}return m(t,e),t}(gp))||Me),Yp=t.StringCamelCaseToDelimitedPipe=(ze=(0,Ls.Pipe)({name:'genericStringCamelCaseToDelimited'}),ze(je=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringCamelCaseToDelimited',a),l(n,i)}return m(t,e),t}(gp))||je),Jp=t.StringCapitalizePipe=(Le=(0,Ls.Pipe)({name:'genericStringCapitalize'}),Le(Ue=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringCapitalize',a),l(n,i)}return m(t,e),t}(gp))||Ue),Zp=t.StringDelimitedToCamelCasePipe=(qe=(0,Ls.Pipe)({name:'genericStringDelimitedToCamelCase'}),qe(Fe=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringDelimitedToCamelCase',a),l(n,i)}return m(t,e),t}(gp))||Fe),Qp=t.StringFormatPipe=(Ge=(0,Ls.Pipe)({name:'genericStringFormat'}),Ge(Ve=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringFormat',a),l(n,i)}return m(t,e),t}(gp))||Ve),Xp=t.StringGetRegularExpressionValidatedPipe=($e=(0,Ls.Pipe)({name:'genericStringGetRegularExpressionValidated'}),$e(We=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringGetRegularExpressionValidated',a),l(n,i)}return m(t,e),t}(gp))||We),ed=t.StringLowerCasePipe=(Be=(0,Ls.Pipe)({name:'genericStringLowerCase'}),Be(He=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringLowerCase',a),l(n,i)}return m(t,e),t}(gp))||He),td=t.StringFindNormalizedMatchRangePipe=(Ke=(0,Ls.Pipe)({name:'genericStringFindNormalizedMatchRange'}),Ke(Ye=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringFindNormalizedMatchRange',a),l(n,i)}return m(t,e),t}(gp))||Ye),ad=t.StringMarkPipe=(Je=(0,Ls.Pipe)({name:'genericStringMark'}),Je(Ze=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringMark',a),l(n,i)}return m(t,e),t}(gp))||Ze),nd=t.StringMD5Pipe=(Qe=(0,Ls.Pipe)({name:'genericStringMD5'}),Qe(Xe=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringMD5',a),l(n,i)}return m(t,e),t}(gp))||Xe),id=t.StringNormalizePhoneNumberPipe=(et=(0,Ls.Pipe)({name:'genericStringNormalizePhoneNumber'}),et(tt=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringNormalizePhoneNumber',a),l(n,i)}return m(t,e),t}(gp))||tt),rd=t.StringParseEncodedObjectPipe=(at=(0,Ls.Pipe)({name:'genericStringParseEncodedObject'}),at(nt=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringParseEncodedObject',a),l(n,i)}return m(t,e),t}(gp))||nt),od=t.StringRepresentPhoneNumberPipe=(it=(0,Ls.Pipe)({name:'genericStringRepresentPhoneNumber'}),it(rt=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringRepresentPhoneNumber',a),l(n,i)}return m(t,e),t}(gp))||rt),ld=t.StringDecodeHTMLEntitiesPipe=(ot=(0,Ls.Pipe)({name:'genericStringDecodeHTMLEntities'}),ot(lt=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringDecodeHTMLEntities',a),l(n,i)}return m(t,e),t}(gp))||lt),md=t.StringNormalizeDomNodeSelectorPipe=(mt=(0,Ls.Pipe)({name:'genericStringNormalizeDomNodeSelector'}),mt(st=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='stringNormalizeDomNodeSelector',a),l(n,i)}return m(t,e),t}(gp))||st),sd=t.NumberGetUTCTimestampPipe=(pt=(0,Ls.Pipe)({name:'genericNumberGetUTCTimestamp'}),pt(dt=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='numberGetUTCTimestamp',a),l(n,i)}return m(t,e),t}(gp))||dt),pd=t.NumberIsNotANumberPipe=(ct=(0,Ls.Pipe)({name:'genericNumberIsNotANumber'}),ct(ut=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='numberIsNotANumber',a),l(n,i)}return m(t,e),t}(gp))||ut),dd=t.NumberRoundPipe=(gt=(0,Ls.Pipe)({name:'genericNumberRound'}),gt(yt=function(e){function t(){var a,n,i;s(this,t);for(var r=arguments.length,o=Array(r),m=0;m<r;m++)o[m]=arguments[m];return i=(a=(n=l(this,e.call.apply(e,[this].concat(o))),n),n.methodName='numberRound',a),l(n,i)}return m(t,e),t}(gp))||yt),cd=t.AttachmentsAreEqualPipe=(ft=(0,Ls.Pipe)({name:'genericAttachmentsAreEqual'}),ft(ht=function(){function e(t,a,n,i){s(this,e),this.data=this.data,this.representObject=this.representObject,this.specialNames=this.specialNames,this.stringMD5=this.stringMD5,this.data=a.get(Gd),this.representObject=n.transform.bind(n),this.specialNames=t.configuration.database.model.property.name.special,this.stringMD5=i.transform.bind(i)}return e.prototype.transform=function(){var e=o(regeneratorRuntime.mark(function e(t,a){var n,i,r,o,l,m,s,p,d,c,u,g,f,h,b;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==a){e.next=2;break}return e.abrupt('return',!0);case 2:n={first:{given:t},second:{given:a}},i=['first','second'],r=0;case 5:if(!(r<i.length)){e.next=16;break}if(o=i[r],'object'===y(n[o].given)&&null!==n[o].given){e.next=9;break}return e.abrupt('return',!1);case 9:n[o].content_type=n[o].given.type||n[o].given.content_type,n[o].data=('data'in n[o].given?n[o].given.data:n[o].given)||NaN,n[o].hash=n[o].given.digest||n[o].given.hash||NaN,n[o].size=n[o].given.size||n[o].given.length;case 13:r++,e.next=5;break;case 16:l=['content_type','size'],m=0;case 18:if(!(m<l.length)){e.next=25;break}if(s=l[m],[n.first[s],n.second[s]].includes(void 0)||n.first[s]===n.second[s]){e.next=22;break}return e.abrupt('return',!1);case 22:m++,e.next=18;break;case 25:if(n.first.data!==n.second.data){e.next=27;break}return e.abrupt('return',!0);case 27:p=['first','second'],d=0;case 29:if(!(d<p.length)){e.next=59;break}if(c=p[d],n[c].hash){e.next=56;break}if(null!==n[c].data&&['object','string'].includes(y(n[c].data))){e.next=34;break}return e.abrupt('return',!1);case 34:return u='genericTemp',g=new this.data.database(u),e.prev=36,e.next=39,g.put((h={},h[this.specialNames.id]=u,h[this.specialNames.attachment]=(f={},f[u]={data:n[c].data,content_type:'application/octet-stream'},f),h));case 39:return e.next=41,g.get(u);case 41:e.t0=this.specialNames.attachment,e.t1=u,n[c].hash=e.sent[e.t0][e.t1].digest,e.next=52;break;case 46:e.prev=46,e.t2=e['catch'](36),b='unknown';try{b=this.representObject(e.t2)}catch(e){}return console.warn('Given attachments for equality check are not valid: '+b),e.abrupt('return',!1);case 52:return e.prev=52,e.next=55,g.destroy();case 55:return e.finish(52);case 56:d++,e.next=29;break;case 59:return e.abrupt('return',n.first.hash===n.second.hash);case 60:case'end':return e.stop();}},e,this,[[36,46,52,56]])}));return function(){return e.apply(this,arguments)}}(),e}())||ht);Reflect.defineMetadata('design:paramtypes',[cp,Ls.Injector,xp,nd],cd);var ud=t.GetFilenameByPrefixPipe=(bt=(0,Ls.Pipe)({name:'genericGetFilenameByPrefix'}),bt(xt=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){if(t){for(var a in e)if(e.hasOwnProperty(a)&&a.startsWith(t))return a;}else{var n=Object.keys(e);if(n.length)return n[0]}return null},e}())||xt),gd=t.AttachmentWithPrefixExistsPipe=(vt=(0,Ls.Pipe)({name:'genericAttachmentWithPrefixExists'}),vt(_t=function(){function e(t,a){s(this,e),this.attachmentName=this.attachmentName,this.getFilenameByPrefix=this.getFilenameByPrefix,this.attachmentName=a.configuration.database.model.property.name.special.attachment,this.getFilenameByPrefix=t.transform.bind(t)}return e.prototype.transform=function(e,t){if(e.hasOwnProperty(this.attachmentName)){var a=this.getFilenameByPrefix(e[this.attachmentName],t);if(a)return e[this.attachmentName][a].hasOwnProperty('data')&&![void 0,null].includes(e[this.attachmentName][a].data)}return!1},e}())||_t);Reflect.defineMetadata('design:paramtypes',[ud,cp],gd);var yd=t.ExtractDataPipe=(Nt=(0,Ls.Pipe)({name:'genericExtractData'}),Nt(Pt=function(){function e(t){s(this,e),this.modelConfiguration=this.modelConfiguration,this.modelConfiguration=t.configuration.database.model}return e.prototype.transform=function(e){if(Array.isArray(e)){for(var t=[],a=e,n=Array.isArray(a),i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var o=r;t.push(this.transform(o))}return t}if('object'===('undefined'==typeof e?'undefined':y(e))&&null!==e){var l=this.modelConfiguration.property.name.special;return e.hasOwnProperty('value')?'object'===y(e.value)&&null!==e.value&&l.type in e.value&&this.modelConfiguration.entities.hasOwnProperty(e.value[l.type])?this._extractFromObject(e.value):this.transform(e.value):l.type in e&&this.modelConfiguration.entities.hasOwnProperty(e[l.type])?this._extractFromObject(e):e}return e},e.prototype._extractFromObject=function(e){var t=this.modelConfiguration.property.name.special,a={};for(var n in e)e.hasOwnProperty(n)&&(!e.hasOwnProperty(t.type)||this.modelConfiguration.entities[e[t.type]].hasOwnProperty(n)||this.modelConfiguration.entities[e[t.type]].hasOwnProperty(t.additional))&&!['_metaData',t.additional,t.allowedRole,t.attachment,t.conflict,t.constraint.execution,t.constraint.expression,t.deletedConflict,t.extend,t.localSequence,t.maximumAggregatedSize,t.minimumAggregatedSize,t.revisions,t.revisionsInformation].includes(n)&&(a[n]=this.transform(e[n]));if(e.hasOwnProperty(t.attachment)&&e[t.attachment])for(var i in e[t.attachment])e[t.attachment].hasOwnProperty(i)&&'object'===y(e[t.attachment][i])&&null!==e[t.attachment][i]&&'hasOwnProperty'in e[t.attachment]&&e[t.attachment][i].hasOwnProperty('value')&&e[t.attachment][i].value&&(a[t.attachment]||(a[t.attachment]={}),a[t.attachment][e[t.attachment][i].value.name]=e[t.attachment][i].value);return a},e}())||Pt);Reflect.defineMetadata('design:paramtypes',[cp],yd);var fd=t.ExtractRawDataPipe=(Tt=(0,Ls.Pipe)({name:'genericExtractRawData'}),Tt(St=function(){function e(t,a,n,i,r,o){s(this,e),this.attachmentsAreEqual=this.attachmentsAreEqual,this.dataScope=this.dataScope,this.equals=this.equals,this.modelConfiguration=this.modelConfiguration,this.numberGetUTCTimestamp=this.numberGetUTCTimestamp,this.specialNames=this.specialNames,this.tools=this.tools,this.attachmentsAreEqual=t.transform.bind(t),this.dataScope=i.get(Vd),this.equals=a.transform.bind(a),this.modelConfiguration=n.configuration.database.model,this.numberGetUTCTimestamp=r.transform.bind(r),this.specialNames=this.modelConfiguration.property.name.special,this.tools=o.fixed.tools}return e.prototype.convertDateToTimestampRecursively=function(e){if('object'===('undefined'==typeof e?'undefined':y(e))&&null!==e){if(e instanceof Date)return this.numberGetUTCTimestamp(e);if(Array.isArray(e)){for(var t=[],a=e,n=Array.isArray(a),i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}var o=r;t.push(this.convertDateToTimestampRecursively(o))}return t}if(Object.getPrototypeOf(e)===Object.prototype){var l={};for(var m in e)e.hasOwnProperty(m)&&(l[m]=this.convertDateToTimestampRecursively(e[m]));return l}}return e},e.prototype.getNotAlreadyExistingAttachmentData=function(){var e=o(regeneratorRuntime.mark(function e(t,a,n){var i,r,o,l,m,s,p,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i={},!(n&&n.hasOwnProperty(this.specialNames.attachment))){e.next=38;break}e.t0=regeneratorRuntime.keys(n[this.specialNames.attachment]);case 3:if((e.t1=e.t0()).done){e.next=38;break}if(r=e.t1.value,!n[this.specialNames.attachment].hasOwnProperty(r)){e.next=36;break}if(o={},a.hasOwnProperty(this.specialNames.attachment)&&a[this.specialNames.attachment])for(l in a[this.specialNames.attachment])a[this.specialNames.attachment].hasOwnProperty(l)&&new RegExp(r).test(l)&&(o[l]=a[this.specialNames.attachment][l]);if(!t.hasOwnProperty(this.specialNames.attachment)){e.next=35;break}e.t2=regeneratorRuntime.keys(t[this.specialNames.attachment]);case 10:if((e.t3=e.t2()).done){e.next=35;break}if(m=e.t3.value,!(t[this.specialNames.attachment].hasOwnProperty(m)&&new RegExp(r).test(m))){e.next=33;break}if(!(t[this.specialNames.attachment][m].hasOwnProperty('data')||t[this.specialNames.attachment][m].hasOwnProperty('stub'))){e.next=32;break}if(i[m]=t[this.specialNames.attachment][m],!o.hasOwnProperty(m)){e.next=23;break}return e.next=18,this.attachmentsAreEqual(t[this.specialNames.attachment][m],o[m]);case 18:if(!e.sent){e.next=20;break}delete i[m];case 20:delete o[m],e.next=30;break;case 23:if(!(Object.keys(o).length&&1===n[this.specialNames.attachment][r].maximumNumber)){e.next=30;break}return s=Object.keys(o)[0],e.next=27,this.attachmentsAreEqual(t[this.specialNames.attachment][m],o[s]);case 27:if(!e.sent){e.next=30;break}i[m]=this.tools.copyLimitedRecursively(o[s]),i[m].name=m;case 30:e.next=33;break;case 32:o.hasOwnProperty(m)?delete o[m]:Object.keys(o).length&&1===n[this.specialNames.attachment][r].maximumNumber&&(p=Object.keys(o)[0],i[m]=this.tools.copyLimitedRecursively(o[p]),i[m].name=m,delete o[p]);case 33:e.next=10;break;case 35:for(d in o)o.hasOwnProperty(d)&&(i[d]={data:null});case 36:e.next=3;break;case 38:return e.abrupt('return',{payloadExists:0!==Object.keys(i).length,result:i});case 39:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.prototype.removeAlreadyExistingData=function(e,t,a){var n=!1;if(Array.isArray(e))this.equals(e,t)||(n=!0);else if(a&&'object'===('undefined'==typeof e?'undefined':y(e))&&null!==e&&'object'===('undefined'==typeof t?'undefined':y(t))&&null!==t){var i=Object.keys(e);for(var r in t)if(t.hasOwnProperty(r)){var o=i.indexOf(r);if(-1!==o&&i.splice(o,1),!this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(r))if(e.hasOwnProperty(r)){var l=this.removeAlreadyExistingData(e[r],t[r],this.dataScope.determineNestedSpecifcation(r,a));l.payloadExists?(n=!0,e[r]=l.newData):a.hasOwnProperty(r)&&delete e[r]}else n=!0,e[r]=null}i.length&&(n=!0)}else this.equals(e,this.convertDateToTimestampRecursively(t))||(n=!0);return{newData:e,payloadExists:n}},e.prototype.removeMetaData=function(e,t){if(e instanceof Date)return this.numberGetUTCTimestamp(e);if(Array.isArray(e)){for(var a=0,n=e,i=Array.isArray(n),r=0,n=i?n:n[Symbol.iterator]();;){var o;if(i){if(r>=n.length)break;o=n[r++]}else{if(r=n.next(),r.done)break;o=r.value}var l=o;e[a]=this.removeMetaData(l,t),a+=1}return e}if('object'===('undefined'==typeof e?'undefined':y(e))&&null!==e){var m={};for(var s in e)if(e.hasOwnProperty(s)){var p=!!(t&&(t.hasOwnProperty(s)&&t[s]||t.hasOwnProperty(this.specialNames.additional)&&t[this.specialNames.additional])||{}).emptyEqualsToNull;if(![void 0,null].includes(e[s])&&!(p&&(''===e[s]||Array.isArray(e[s])&&0===e[s].length||'object'===y(e[s])&&!(e[s]instanceof Date)&&0===Object.keys(e[s]).length)))if(this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(s))m[s]=e[s];else if(s!==this.specialNames.attachment)![this.specialNames.additional,this.specialNames.allowedRole,this.specialNames.conflict,this.specialNames.constraint.execution,this.specialNames.constraint.expression,this.specialNames.deletedConflict,this.specialNames.extend,this.specialNames.localSequence,this.specialNames.maximumAggregatedSize,this.specialNames.minimumAggregatedSize,this.specialNames.revisions,this.specialNames.revisionsInformation].includes(s)&&(!t||t.hasOwnProperty(s)||t.hasOwnProperty(this.specialNames.additional))&&(m[s]=this.removeMetaData(e[s],this.dataScope.determineNestedSpecifcation(s,t)));else if('object'===y(e[s])&&null!==e[s])for(var d in m[s]={},e[s])if(e[s].hasOwnProperty(d)&&(m[s][d]={content_type:e[s][d].content_type||'application/octet-stream'}),e[s][d].hasOwnProperty('data'))m[s][d].data=e[s][d].data;else for(var c=['digest','stub'],u=0,g;u<c.length;u++)g=c[u],e[s][d].hasOwnProperty(g)&&(m[s][d][g]=e[s][d][g])}return m}return e},e.prototype.transform=function(){var e=o(regeneratorRuntime.mark(function e(t,a){var n,i,r,o,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=null,this.specialNames.type in t&&this.modelConfiguration.entities.hasOwnProperty(t[this.specialNames.type])&&(n=this.modelConfiguration.entities[t[this.specialNames.type]]),i=this.removeMetaData(t,n),r=!1,!a){e.next=10;break}return e.next=7,this.getNotAlreadyExistingAttachmentData(i,a,n);case 7:o=e.sent,o.payloadExists&&(i[this.specialNames.attachment]=o.result,r=o.payloadExists),this.removeAlreadyExistingData(i,this.removeMetaData(a,n),n).payloadExists&&(r=!0);case 10:if(r){e.next=19;break}e.t0=regeneratorRuntime.keys(i);case 12:if((e.t1=e.t0()).done){e.next=19;break}if(l=e.t1.value,!i.hasOwnProperty(l)||this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(l)){e.next=17;break}return r=!0,e.abrupt('break',19);case 17:e.next=12;break;case 19:return e.abrupt('return',r?i:null);case 20:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e}())||St);Reflect.defineMetadata('design:paramtypes',[cd,hp,cp,Ls.Injector,sd,dp],fd);var hd=t.IsDefinedPipe=(It=(0,Ls.Pipe)({name:'genericIsDefined'}),It(Ot=function(){function e(){s(this,e)}return e.prototype.transform=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!(void 0===e||t&&null===e)},e}())||Ot),bd=t.LimitToPipe=(Ct=(0,Ls.Pipe)({name:'genericLimitTo'}),Ct(Et=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t,a){return(t=Math.abs(+t)===Infinity?+t:parseInt(t),isNaN(t))?e:('number'==typeof e?e=e.toString():'object'===('undefined'==typeof e?'undefined':y(e))&&null!==e&&!Array.isArray(e)&&(e=Object.keys(e).sort()),!(Array.isArray(e)||'string'==typeof e))?e:(a=!a||isNaN(a)?0:parseInt(a),0>a&&(a=u(0,e.length+a)),0<=t)?e.slice(a,a+t):0===a?e.slice(t,e.length):e.slice(u(0,a+t),a)},e}())||Et),xd=t.MapPipe=(kt=(0,Ls.Pipe)({name:'genericMap'}),kt(Dt=function(){function e(t){s(this,e),this.injector=this.injector,this.injector=t}return e.prototype.transform=function(e,t){for(var a=this.injector.get(t),n=arguments.length,i=Array(2<n?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];if(Array.isArray(e)){for(var o=[],l=e,m=Array.isArray(l),s=0,l=m?l:l[Symbol.iterator]();;){var p;if(m){if(s>=l.length)break;p=l[s++]}else{if(s=l.next(),s.done)break;p=s.value}var d=p;o.push(a.transform.apply(a,[d].concat(i)))}return o}var c={};for(var u in e)e.hasOwnProperty(u)&&(c[u]=a.transform.apply(a,[e[u],u].concat(i)));return c},e}())||Dt);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],xd);var vd=t.ObjectKeysPipe=(wt=(0,Ls.Pipe)({name:'genericObjectKeys'}),wt(At=function(){function e(){s(this,e)}return e.prototype.transform=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if('object'===('undefined'==typeof e?'undefined':y(e))&&null!==e){var i=Object.keys(e);return t?(Array.isArray(t)||(t=n?[function(e,t){return(e=parseInt(e),t=parseInt(t),isNaN(e))?isNaN(t)?0:1:isNaN(t)?-1:e-t}]:[]),i.sort.apply(i,t),a&&i.reverse(),i):i}return[]},e}())||At),_d=t.ReversePipe=(Rt=(0,Ls.Pipe)({name:'genericReverse'}),Rt(Mt=function(){function e(){s(this,e)}return e.prototype.transform=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return e?t&&(e=e.slice()):e=[],'reverse'in e&&e.reverse(),e},e}())||Mt),Nd=t.TypePipe=(zt=(0,Ls.Pipe)({name:'genericType'}),zt(jt=function(){function e(){s(this,e)}return e.prototype.transform=function(e){return'undefined'==typeof e?'undefined':y(e)},e}())||jt),Pd=t.ArrayDependentConcatPipe=(Lt=(0,Ls.Pipe)({name:'genericArrayDependentConcat'}),Lt(Ut=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t,a){return t?e.concat(a):e},e}())||Ut),Td=t.StringEndsWithPipe=(qt=(0,Ls.Pipe)({name:'genericStringEndsWith'}),qt(Ft=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){return'string'==typeof e&&'string'==typeof t&&e.endsWith(t)},e}())||Ft),Sd=t.StringHasTimeSuffixPipe=(Gt=(0,Ls.Pipe)({name:'genericStringHasTimeSuffix'}),Gt(Vt=function(){function e(){s(this,e)}return e.prototype.transform=function(e){return'string'==typeof e&&(e.endsWith('Date')||e.endsWith('Time')||'timestamp'===e)},e}())||Vt),Id=t.StringMatchPipe=($t=(0,Ls.Pipe)({name:'genericStringMatch'}),$t(Wt=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'';return new RegExp(e,a).test(t)},e}())||Wt),Od=t.StringMaximumLengthPipe=(Bt=(0,Ls.Pipe)({name:'genericStringMaximumLength'}),Bt(Ht=function(){function e(){s(this,e)}return e.prototype.transform=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'...';return e?(e.length>t&&e.length-1>a.length&&(e=e.substring(0,u(1,t-a.length))+a),e):''},e}())||Ht),Cd=t.StringReplacePipe=(Kt=(0,Ls.Pipe)({name:'genericStringReplace'}),Kt(Yt=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'g';return e.replace('string'==typeof t?new RegExp(t,n):t,a)},e}())||Yt),Ed=t.StringSafeHTMLPipe=(Jt=(0,Ls.Pipe)({name:'genericStringSafeHTML'}),Jt(Zt=function e(t){s(this,e),this.transform=this.transform,this.transform=t.bypassSecurityTrustHtml.bind(t)})||Zt);Reflect.defineMetadata('design:paramtypes',[Gs.DomSanitizer],Ed);var kd=t.StringSafeResourceURLPipe=(Qt=(0,Ls.Pipe)({name:'genericStringSafeResourceURL'}),Qt(Xt=function e(t){s(this,e),this.transform=this.transform,this.transform=t.bypassSecurityTrustResourceUrl.bind(t)})||Xt);Reflect.defineMetadata('design:paramtypes',[Gs.DomSanitizer],kd);var Dd=t.StringSafeScriptPipe=(ea=(0,Ls.Pipe)({name:'genericStringSafeScript'}),ea(ta=function e(t){s(this,e),this.transform=this.transform,this.transform=t.bypassSecurityTrustScript.bind(t)})||ta);Reflect.defineMetadata('design:paramtypes',[Gs.DomSanitizer],Dd);var wd=t.StringSafeStylePipe=(aa=(0,Ls.Pipe)({name:'genericStringSafeStyle'}),aa(na=function e(t){s(this,e),this.transform=this.transform,this.transform=t.bypassSecurityTrustStyle.bind(t)})||na);Reflect.defineMetadata('design:paramtypes',[Gs.DomSanitizer],wd);var Ad=t.StringSafeURLPipe=(ia=(0,Ls.Pipe)({name:'genericStringSafeURL'}),ia(ra=function e(t){s(this,e),this.transform=this.transform,this.transform=t.bypassSecurityTrustUrl.bind(t)})||ra);Reflect.defineMetadata('design:paramtypes',[Gs.DomSanitizer],Ad);var Rd=t.StringShowIfPatternMatchesPipe=(oa=(0,Ls.Pipe)({name:'genericStringShowIfPatternMatches'}),oa(la=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]&&arguments[2],n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',i=('string'==typeof t?new RegExp(t,n):t).test(e);return a&&(i=!i),i?e:''},e}())||la),Md=t.StringSliceMatchPipe=(ma=(0,Ls.Pipe)({name:'genericStringSliceMatch'}),ma(sa=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';if('string'==typeof e){var i=e.match(new RegExp(t,n));if(i&&'string'==typeof i[a])return i[a]}return''},e}())||sa),zd=t.StringStartsWithPipe=(pa=(0,Ls.Pipe)({name:'genericStringStartsWith'}),pa(da=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){return'string'==typeof e&&'string'==typeof t&&e.startsWith(t)},e}())||da),jd=t.StringTemplatePipe=(ca=(0,Ls.Pipe)({name:'genericStringTemplate'}),ca(ua=function(){function e(t){s(this,e),this.extendObject=this.extendObject,this.extendObject=t.transform.bind(t)}return e.prototype.transform=function(){for(var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var i=this.extendObject.apply(this,[!0,{}].concat(a)),r=Object.keys(i).filter(function(e){try{new Function('var '+e)()}catch(e){return!1}return!0});return new(Function.prototype.bind.apply(Function,[null].concat(['scope'],r,['return `'+e+'`'])))().apply(void 0,[i].concat(r.map(function(e){return i[e]})))},e}())||ua);Reflect.defineMetadata('design:paramtypes',[bp],jd);var Ld=t.NumberPercentPipe=(ga=(0,Ls.Pipe)({name:'genericNumberPercent'}),ga(ya=function(){function e(){s(this,e)}return e.prototype.transform=function(e,t){return 100*(e/t)},e}())||ya),Ud=t.CanDeactivateRouteLeaveGuard=(fa=(0,Ls.Injectable)(),fa(ha=function(){function e(){s(this,e)}return e.prototype.canDeactivate=function(e){for(var t=arguments.length,a=Array(1<t?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return!('canDeactivate'in e)||e.canDeactivate.apply(e,a)},e}())||ha),qd=t.ConfirmComponent=(ba=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy.OnPush,selector:'generic-confirm',template:'\n        <h2 @defaultAnimation mat-dialog-title *ngIf="title">{{title}}</h2>\n        <mat-dialog-content @defaultAnimation *ngIf="message">\n            {{message}}\n        </mat-dialog-content>\n        <mat-dialog-actions>\n            <button (click)="dialogReference.close(true)" mat-raised-button>\n                {{okText}}\n            </button>\n            <button (click)="dialogReference.close(false)" mat-raised-button>\n                {{cancelText}}\n            </button>\n        </mat-dialog-actions>\n    '}),xa=(0,Ls.Input)(),va=(0,Ls.Input)(),ba(_a=(Na=function e(t,a){if(s(this,e),i(this,'cancelText',Pa,this),this.dialogReference=null,i(this,'okText',Ta,this),this.title='',this.message='',this.dialogReference=a,'object'===('undefined'==typeof t?'undefined':y(t))&&null!==t)for(var n in t)t.hasOwnProperty(n)&&(this[n]=t[n])},Pa=r(Na.prototype,'cancelText',[xa],{enumerable:!0,initializer:function(){return'Cancel'}}),Ta=r(Na.prototype,'okText',[va],{enumerable:!0,initializer:function(){return'OK'}}),Na))||_a);(0,Ls.Optional)()(qd,null,0),(0,Ls.Inject)(Fs.MAT_DIALOG_DATA)(qd,null,0),(0,Ls.Optional)()(qd,null,1),Reflect.defineMetadata('design:paramtypes',[,Fs.MatDialogRef],qd);var Fd=t.AlertService=(Sa=(0,Ls.Injectable)(),Sa(Ia=function(){function e(t){s(this,e),this.dialog=this.dialog,this.dialogReference=this.dialogReference,this.dialog=t}return e.prototype.confirm=function(e){return'string'==typeof e?e={data:{message:e}}:('object'!==('undefined'==typeof e?'undefined':y(e))||null===e||!e.hasOwnProperty('data'))&&(e={data:e}),this.dialogReference=this.dialog.open(qd,e),this.dialogReference.afterClosed().toPromise()},e}())||Ia);Reflect.defineMetadata('design:paramtypes',[Fs.MatDialog],Fd);var Gd=t.DataService=(Oa=(0,Ls.Injectable)(),Oa(Ca=(ka=Ea=function(){function e(t,a,n,i,r,l){s(this,e),this.connection=this.connection,this.configuration=this.configuration,this.database=this.database,this.equals=this.equals,this.extendObject=this.extendObject,this.middlewares={post:{},pre:{}},this.platformID=this.platformID,this.remoteConnection=null,this.runningRequests=[],this.runningRequestsStream=new Js.Subject,this.stringFormat=this.stringFormat,this.synchronisation=null,this.tools=this.tools,this.configuration=n.configuration,this.database=Ws.default,this.equals=t.transform.bind(t),this.extendObject=a.transform.bind(a),this.platformID=i,this.stringFormat=r.transform.bind(r),this.tools=l.fixed.tools;var m=this.database.prototype.bulkDocs,p=this;this.database.plugin({bulkDocs:function(){var e=o(regeneratorRuntime.mark(function e(t){for(var a=arguments.length,n=Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];var r,o,l,s,d,c,u,g,f,h,b,x,v,_,N,P,T,S,I,O,C,E;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=p.configuration.database.model.property.name.special.id,o=p.configuration.database.model.property.name.special.revision,!Array.isArray(t)&&'object'===('undefined'==typeof t?'undefined':y(t))&&null!==t&&t.hasOwnProperty(r)&&(t=[t]),l=[],e.prev=4,e.next=7,m.call.apply(m,[this,t].concat(n));case 7:l=e.sent,e.next=54;break;case 10:if(e.prev=10,e.t0=e['catch'](4),'bad_request'!==e.t0.name){e.next=53;break}s=t,d=Array.isArray(s),c=0,s=d?s:s[Symbol.iterator]();case 14:if(!d){e.next=20;break}if(!(c>=s.length)){e.next=17;break}return e.abrupt('break',42);case 17:u=s[c++],e.next=24;break;case 20:if(c=s.next(),!c.done){e.next=23;break}return e.abrupt('break',42);case 23:u=c.value;case 24:if(g=u,!['latest','upsert'].includes(g[o])){e.next=40;break}return e.prev=26,e.next=29,this.get(g[r]);case 29:e.t1=o,g[o]=e.sent[e.t1],e.next=40;break;case 33:if(e.prev=33,e.t2=e['catch'](26),'not_found'!==e.t2.name){e.next=39;break}delete g[o],e.next=40;break;case 39:throw e.t2;case 40:e.next=14;break;case 42:return e.prev=42,e.next=45,m.call.apply(m,[this,t].concat(n));case 45:l=e.sent,e.next=51;break;case 48:throw e.prev=48,e.t3=e['catch'](42),e.t3;case 51:e.next=54;break;case 53:throw e.t0;case 54:f=[],h=[],b=0,x=l,v=Array.isArray(x),_=0,x=v?x:x[Symbol.iterator]();case 58:if(!v){e.next=64;break}if(!(_>=x.length)){e.next=61;break}return e.abrupt('break',95);case 61:N=x[_++],e.next=68;break;case 64:if(_=x.next(),!_.done){e.next=67;break}return e.abrupt('break',95);case 67:N=_.value;case 68:if(P=N,'object'!==y(t[b])||null===t){e.next=92;break}if(!(o in t[b]&&'conflict'===P.name&&['latest','upsert'].includes(t[b][o]))){e.next=75;break}h.push(P),f.push(b),e.next=92;break;case 75:if(!(r in t[b]&&p.configuration.database.ignoreNoChangeError&&'name'in P&&'forbidden'===P.name&&'message'in P&&P.message.startsWith('NoChange:'))){e.next=92;break}if(l[b]={id:t[b][r],ok:!0},e.prev=77,!(o in t[b])||['latest','upsert'].includes(t[b][o])){e.next=82;break}e.t4=t[b][o],e.next=86;break;case 82:return e.next=84,this.get(l[b].id);case 84:e.t5=o,e.t4=e.sent[e.t5];case 86:l[b].rev=e.t4,e.next=92;break;case 89:throw e.prev=89,e.t6=e['catch'](77),e.t6;case 92:b+=1;case 93:e.next=58;break;case 95:if(!h.length){e.next=115;break}return t=h,e.next=99,this.bulkDocs.apply(this,[t].concat(n));case 99:T=e.sent,S=T,I=Array.isArray(S),O=0,S=I?S:S[Symbol.iterator]();case 101:if(!I){e.next=107;break}if(!(O>=S.length)){e.next=104;break}return e.abrupt('break',115);case 104:C=S[O++],e.next=111;break;case 107:if(O=S.next(),!O.done){e.next=110;break}return e.abrupt('break',115);case 110:C=O.value;case 111:E=C,l[f.shift()]=E;case 113:e.next=101;break;case 115:return e.abrupt('return',l);case 116:case'end':return e.stop();}},e,this,[[4,10],[26,33],[42,48],[77,89]])}));return function(){return e.apply(this,arguments)}}()}),this.database.plugin(Hs.default).plugin(Ys.default)}return e.determineGenericIndexablePropertyNames=function(e,t){var a=e.property.name.special;return Object.keys(t).filter(function(n){return t[n].index||!(e.property.name.reserved.concat(a.additional,a.allowedRole,a.attachment,a.conflict,a.constraint.execution,a.constraint.expression,a.deleted,a.deleted_conflict,a.extend,a.id,a.maximumAggregatedSize,a.minimumAggregatedSize,a.revision,a.revisions,a.revisionsInformation,a.type).includes(n)||t[n].type&&('string'==typeof t[n].type&&t[n].type.endsWith('[]')||Array.isArray(t[n].type)&&t[n].type.length&&Array.isArray(t[n].type[0])||e.entities.hasOwnProperty(t[n].type)))}).concat(a.id,a.revision)},e.prototype.initialize=function(){var t=o(regeneratorRuntime.mark(function t(){var a=this,n,i,r,l,m,s,p,d,c,u,g,f,h,b,x,v,_,N,P,T,S,I,O,C,E,k,D,w,A,R,M,z,j,L,U;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.tools.timeout();case 2:this.configuration.database.hasOwnProperty('publicURL')&&(this.configuration.database.url=this.configuration.database.publicURL),n=this.configuration.database.plugins,i=Array.isArray(n),r=0,n=i?n:n[Symbol.iterator]();case 4:if(!i){t.next=10;break}if(!(r>=n.length)){t.next=7;break}return t.abrupt('break',18);case 7:l=n[r++],t.next=14;break;case 10:if(r=n.next(),!r.done){t.next=13;break}return t.abrupt('break',18);case 13:l=r.value;case 14:m=l,this.database.plugin(m);case 16:t.next=4;break;case 18:for(s=this.extendObject(!0,{skip_setup:!0},this.configuration.database.connector||{}),p=this.configuration.name||'generic',e.skipRemoteConnectionOnServer&&(0,Us.isPlatformServer)(this.platformID)||(this.remoteConnection=new this.database(this.stringFormat(this.configuration.database.url,'')+('/'+p),s)),this.connection=this.configuration.database.local||e.skipRemoteConnectionOnServer&&(0,Us.isPlatformServer)(this.platformID)?new this.database(p,s):this.remoteConnection,d=this.configuration,c=this.configuration.database.model.property.name.special.id,u=this.configuration.database.model.property.name.special.revision,g=function(e){var t=a.connection[e].bind(a.connection);a.connection[e]=function(){var e=o(regeneratorRuntime.mark(function e(a,n){var i=arguments,r,o,l,m,s,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(e.prev=0,r=i.length,o=Array(2<r?r-2:0),l=2;l<r;l++)o[l-2]=i[l];return e.next=4,t.apply(void 0,[a,n].concat(o));case 4:return e.abrupt('return',e.sent);case 7:if(e.prev=7,e.t0=e['catch'](0),m='object'===('undefined'==typeof a?'undefined':y(a))&&(c in a)?a[c]:a,!(m&&d.database.ignoreNoChangeError&&('name'in e.t0)&&'forbidden'===e.t0.name&&('message'in e.t0)&&e.t0.message.startsWith('NoChange:'))){e.next=29;break}if(s={id:m,ok:!0},p='object'===('undefined'==typeof n?'undefined':y(n))&&(u in n)?n[u]:n,e.prev=13,!(u in a)||['latest','upsert'].includes(p)){e.next=18;break}e.t1=p,e.next=22;break;case 18:return e.next=20,this.get(s.id);case 20:e.t2=u,e.t1=e.sent[e.t2];case 22:s.rev=e.t1,e.next=28;break;case 25:throw e.prev=25,e.t3=e['catch'](13),e.t3;case 28:return e.abrupt('return',s);case 29:throw e.t0;case 30:case'end':return e.stop();}},e,this,[[0,7],[13,25]])}));return function(){return e.apply(this,arguments)}}()},f=['post','put'],h=0;h<f.length;h++)b=f[h],g(b);for(v in x=function(t){if(e.wrappableMethodNames.includes(t)&&'function'==typeof a.connection[t]){var n=a.connection[t];a.connection[t]=function(){var e=o(regeneratorRuntime.mark(function e(){for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];var l,m,s,p,d,c,u,g,y,f,h,b,x,v,_,N,P,T,S,I;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l={name:t,parameter:r},a.runningRequests.push(l),a.runningRequestsStream.next(a.runningRequests),m=function(){var e=a.runningRequests.indexOf(l);-1!==e&&a.runningRequests.splice(e,1),a.runningRequestsStream.next(a.runningRequests)},s=[t,'_all'],p=0;case 6:if(!(p<s.length)){e.next=38;break}if(d=s[p],!a.middlewares.pre.hasOwnProperty(d)){e.next=35;break}c=a.middlewares.pre[d],u=Array.isArray(c),g=0,c=u?c:c[Symbol.iterator]();case 10:if(!u){e.next=16;break}if(!(g>=c.length)){e.next=13;break}return e.abrupt('break',35);case 13:y=c[g++],e.next=20;break;case 16:if(g=c.next(),!g.done){e.next=19;break}return e.abrupt('break',35);case 19:y=g.value;case 20:if(f=y,r=f.apply(a.connection,r.concat('_all'===d?t:[])),!('then'in r)){e.next=33;break}return e.prev=23,e.next=26,r;case 26:r=e.sent,e.next=33;break;case 29:throw e.prev=29,e.t0=e['catch'](23),m(),e.t0;case 33:e.next=10;break;case 35:p++,e.next=6;break;case 38:l.wrappedParameter=r,h=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.connection,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r;return n.apply(e,t)},b=h(),x=[t,'_all'],v=0;case 43:if(!(v<x.length)){e.next=75;break}if(_=x[v],!a.middlewares.post.hasOwnProperty(_)){e.next=72;break}N=a.middlewares.post[_],P=Array.isArray(N),T=0,N=P?N:N[Symbol.iterator]();case 47:if(!P){e.next=53;break}if(!(T>=N.length)){e.next=50;break}return e.abrupt('break',72);case 50:S=N[T++],e.next=57;break;case 53:if(T=N.next(),!T.done){e.next=56;break}return e.abrupt('break',72);case 56:S=T.value;case 57:if(I=S,b=I.call.apply(I,[a.connection,b,h].concat(r.concat('_all'===_?t:[]))),!('then'in b)){e.next=70;break}return e.prev=60,e.next=63,b;case 63:b=e.sent,e.next=70;break;case 66:throw e.prev=66,e.t1=e['catch'](60),m(),e.t1;case 70:e.next=47;break;case 72:v++,e.next=43;break;case 75:if(!('then'in b)){e.next=86;break}return e.prev=76,e.next=79,b;case 79:b=e.sent,e.next=86;break;case 82:throw e.prev=82,e.t2=e['catch'](76),m(),e.t2;case 86:return m(),e.abrupt('return',b);case 88:case'end':return e.stop();}},e,a,[[23,29],[60,66],[76,82]])}));return function(){return e.apply(this,arguments)}}()}},this.connection)x(v);if(this.connection.installValidationMethods(),e.skipGenericIndexManagementOnServer&&(0,Us.isPlatformServer)(this.platformID)||!this.configuration.database.createGenericFlatIndex||this.connection===this.remoteConnection){t.next=117;break}t.t0=regeneratorRuntime.keys(this.configuration.database.model.entities);case 33:if((t.t1=t.t0()).done){t.next=60;break}if(_=t.t1.value,!(this.configuration.database.model.entities.hasOwnProperty(_)&&new RegExp(this.configuration.database.model.property.name.typeRegularExpressionPattern.public).test(_))){t.next=58;break}N=e.determineGenericIndexablePropertyNames(this.configuration.database.model,this.configuration.database.model.entities[_]),P=Array.isArray(N),T=0,N=P?N:N[Symbol.iterator]();case 37:if(!P){t.next=43;break}if(!(T>=N.length)){t.next=40;break}return t.abrupt('break',58);case 40:S=N[T++],t.next=47;break;case 43:if(T=N.next(),!T.done){t.next=46;break}return t.abrupt('break',58);case 46:S=T.value;case 47:return I=S,t.prev=48,t.next=51,this.connection.createIndex({index:{ddoc:_+'-'+I+'-GenericIndex',fields:[this.configuration.database.model.property.name.special.type,I],name:_+'-'+I+'-GenericIndex'}});case 51:t.next=56;break;case 53:throw t.prev=53,t.t2=t['catch'](48),t.t2;case 56:t.next=37;break;case 58:t.next=33;break;case 60:return O=void 0,t.prev=61,t.next=64,this.connection.getIndexes();case 64:O=t.sent.indexes,t.next=70;break;case 67:throw t.prev=67,t.t3=t['catch'](61),t.t3;case 70:C=O,E=Array.isArray(C),k=0,C=E?C:C[Symbol.iterator]();case 71:if(!E){t.next=77;break}if(!(k>=C.length)){t.next=74;break}return t.abrupt('break',117);case 74:D=C[k++],t.next=81;break;case 77:if(k=C.next(),!k.done){t.next=80;break}return t.abrupt('break',117);case 80:D=k.value;case 81:if(w=D,!w.name.endsWith('-GenericIndex')){t.next=115;break}A=!1,t.t4=regeneratorRuntime.keys(this.configuration.database.model.entities);case 85:if((t.t5=t.t4()).done){t.next=106;break}if(R=t.t5.value,!w.name.startsWith(R+'-')){t.next=104;break}M=e.determineGenericIndexablePropertyNames(this.configuration.database.model,this.configuration.database.model.entities[R]),z=Array.isArray(M),j=0,M=z?M:M[Symbol.iterator]();case 89:if(!z){t.next=95;break}if(!(j>=M.length)){t.next=92;break}return t.abrupt('break',103);case 92:L=M[j++],t.next=99;break;case 95:if(j=M.next(),!j.done){t.next=98;break}return t.abrupt('break',103);case 98:L=j.value;case 99:U=L,w.name===R+'-'+U+'-GenericIndex'&&(A=!0);case 101:t.next=89;break;case 103:return t.abrupt('break',106);case 104:t.next=85;break;case 106:if(A){t.next=115;break}return t.prev=107,t.next=110,this.connection.deleteIndex(w);case 110:t.next=115;break;case 112:throw t.prev=112,t.t6=t['catch'](107),t.t6;case 115:t.next=71;break;case 117:case'end':return t.stop();}},t,this,[[48,53],[61,67],[107,112]])}));return function(){return t.apply(this,arguments)}}(),e.prototype.createIndex=function(){var e;return(e=this.connection).createIndex.apply(e,arguments)},e.prototype.bulkDocs=function(){var e;return(e=this.connection).bulkDocs.apply(e,arguments)},e.prototype.destroy=function(){var e;this.synchronisation&&this.synchronisation.cancel();var t=(e=this.connection).destroy.apply(e,arguments);return this.middlewares={post:{},pre:{}},t},e.prototype.find=function(){var e=o(regeneratorRuntime.mark(function e(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.connection.find(this.extendObject(!0,{selector:t},a));case 2:return e.abrupt('return',e.sent.docs);case 3:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.prototype.get=function(){var t=o(regeneratorRuntime.mark(function t(){var a=arguments,n,i,r,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=this.configuration.database.model.property.name.special.id,r=this.configuration.database.model.property.name.special.revision,t.next=4,(n=this.connection).get.apply(n,a);case 4:if(o=t.sent,!(ap.data.hasOwnProperty(o[i])&&1<a.length&&(this.equals(1>=a.length?void 0:a[1],{rev:'latest'})||this.equals(1>=a.length?void 0:a[1],{latest:!0})||this.equals(1>=a.length?void 0:a[1],{latest:!0,rev:'latest'}))&&parseInt(o[r].match(e.revisionNumberRegularExpression)[1])<parseInt(ap.data[o[i]][r].match(e.revisionNumberRegularExpression)[1]))){t.next=7;break}return t.abrupt('return',ap.data[o[i]]);case 7:return t.abrupt('return',o);case 8:case'end':return t.stop();}},t,this)}));return function(){return t.apply(this,arguments)}}(),e.prototype.getAttachment=function(){var e;return(e=this.connection).getAttachment.apply(e,arguments)},e.prototype.put=function(){var e;return(e=this.connection).put.apply(e,arguments)},e.prototype.putAttachment=function(){var e;return(e=this.connection).putAttachment.apply(e,arguments)},e.prototype.register=function(e,t){var a=this,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'post';Array.isArray(e)||(e=[e]);for(var i=e,r=Array.isArray(i),o=0,i=r?i:i[Symbol.iterator]();;){var l;if(r){if(o>=i.length)break;l=i[o++]}else{if(o=i.next(),o.done)break;l=o.value}var m=l;this.middlewares[n].hasOwnProperty(m)||(this.middlewares[n][m]=[]),this.middlewares[n][m].push(t)}return function(){for(var i=e,r=Array.isArray(i),o=0,i=r?i:i[Symbol.iterator]();;){var l;if(r){if(o>=i.length)break;l=i[o++]}else{if(o=i.next(),o.done)break;l=o.value}var m=l,s=a.middlewares[n][m].indexOf(t);-1!==s&&a.middlewares[n][m].splice(s,1),0===a.middlewares[n][m].length&&delete a.middlewares[n][m]}}},e.prototype.remove=function(){var e;return(e=this.connection).remove.apply(e,arguments)},e.prototype.removeAttachment=function(){var e;return(e=this.connection).removeAttachment.apply(e,arguments)},e.prototype.startSynchronisation=function(){var e=o(regeneratorRuntime.mark(function e(){var t=this,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.configuration.database.local&&this.remoteConnection&&null===this.synchronisation)){e.next=5;break}return a=!1,e.next=4,new Promise(function(e,n){t.synchronisation=t.connection.sync(t.remoteConnection,{live:!0,retry:!0}).on('change',function(e){return console.info('change',e)}).on('paused',function(){a||(a=!0,e(t.synchronisation)),console.info('paused')}).on('active',function(){return console.info('active')}).on('denied',function(e){a||(a=!0,n({name:'denied',error:e})),console.warn('denied',e)}).on('complete',function(e){return console.info('complete',e)}).on('error',function(e){a||(a=!0,n({name:'error',error:e})),console.error('error',e)})});case 4:return e.abrupt('return',e.sent);case 5:return e.abrupt('return',null);case 6:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.prototype.stopSynchronisation=function(){var e=o(regeneratorRuntime.mark(function e(){var t=this,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.synchronisation){e.next=7;break}return a=new Promise(function(e,a){t.synchronisation.on('complete',e),t.synchronisation.on('error',a)}),this.synchronisation.cancel(),e.next=5,a;case 5:return this.synchronisation=null,e.abrupt('return',!0);case 7:return e.abrupt('return',!1);case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e}(),Ea.revisionNumberRegularExpression=/^([0-9]+)-/,Ea.skipGenericIndexManagementOnServer=!0,Ea.skipRemoteConnectionOnServer=!0,Ea.wrappableMethodNames=['allDocs','bulkDocs','bulkGet','close','compact','compactDocument','createIndex','deleteIndexs','destroy','find','get','getAttachment','getIndexes','info','post','put','putAttachment','query','remove','removeAttachment'],ka))||Ca);(0,Ls.Inject)(Ls.PLATFORM_ID)(Gd,null,3),Reflect.defineMetadata('design:paramtypes',[hp,bp,cp,String,Qp,dp],Gd);var Vd=t.DataScopeService=(Da=(0,Ls.Injectable)(),Da(wa=function(){function e(t,a,n,i,r,o,l,m,p){s(this,e),this.attachmentWithPrefixExists=this.attachmentWithPrefixExists,this.configuration=this.configuration,this.data=this.data,this.extendObject=this.extendObject,this.extractData=this.extractData,this.getFilenameByPrefix=this.getFilenameByPrefix,this.numberGetUTCTimestamp=this.numberGetUTCTimestamp,this.representObject=this.representObject,this.tools=this.tools,this.attachmentWithPrefixExists=t.transform.bind(t),this.configuration=o.configuration,this.data=a,this.extendObject=n.transform.bind(n),this.extractData=i.transform.bind(i),this.getFilenameByPrefix=r.transform.bind(r),this.numberGetUTCTimestamp=l.transform.bind(l),this.representObject=m.transform.bind(m),this.tools=p.fixed.tools}return e.prototype.determine=function(){var e=o(regeneratorRuntime.mark(function e(t){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'latest',r=4<arguments.length&&void 0!==arguments[4]&&arguments[4],o,l,m,s,p,d,c,u,g,y,f;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o={},!a){e.next=52;break}return l={},'latest'===i?(l.latest=!0,r&&(l.revs_info=!0)):l.rev=i,e.prev=4,e.next=7,this.data.get(a,l);case 7:o=e.sent,e.next=13;break;case 10:throw e.prev=10,e.t0=e['catch'](4),new Error('Document with given id "'+a+'" and revision "'+(i+'" isn\'t available: ')+('message'in e.t0?e.t0.message:this.representObject(e.t0)));case 13:if(!r){e.next=52;break}if(m=this.configuration.database.model.property.name.special.revisionsInformation,s=void 0,p=null,'latest'===i){e.next=33;break}return delete l.rev,l.revs_info=!0,e.prev=20,e.next=23,this.data.get(a,l);case 23:p=e.sent,e.next=29;break;case 26:throw e.prev=26,e.t1=e['catch'](20),new Error('Document with given id "'+a+'" and revision "'+(i+'" isn\'t available: ')+('message'in e.t1?e.t1.message:this.representObject(e.t1)));case 29:s=p[m],delete p[m],e.next=34;break;case 33:s=o[m];case 34:o[m]={},d=!0,c=s,u=Array.isArray(c),g=0,c=u?c:c[Symbol.iterator]();case 37:if(!u){e.next=43;break}if(!(g>=c.length)){e.next=40;break}return e.abrupt('break',51);case 40:y=c[g++],e.next=47;break;case 43:if(g=c.next(),!g.done){e.next=46;break}return e.abrupt('break',51);case 46:y=g.value;case 47:f=y,'available'===f.status&&(o[m][d?'latest':f.rev]={revision:f.rev},d=!1);case 49:e.next=37;break;case 51:p&&(o[m].latest.scope=this.generate(t,n,p));case 52:return e.abrupt('return',this.generate(t,n,o));case 53:case'end':return e.stop();}},e,this,[[4,10],[20,26]])}));return function(){return e.apply(this,arguments)}}(),e.prototype.determineNestedSpecifcation=function(e,t){var a=this.configuration.database.model.entities,n=this.configuration.database.model.property.name.special.additional;if(t)if(t.hasOwnProperty(e)){if(a.hasOwnProperty(t[e].type))return a[t[e].type];}else if(t.hasOwnProperty(n)&&a.hasOwnProperty(t[n].type))return a[t[n].type];return null},e.prototype.determineSpecificationObject=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];t||(t=Object.keys(e));for(var n={},i=t,r=Array.isArray(i),o=0,i=r?i:i[Symbol.iterator]();;){var l;if(r){if(o>=i.length)break;l=i[o++]}else{if(o=i.next(),o.done)break;l=o.value}var m=l;if(e.hasOwnProperty(m)&&!a.includes(m))if(m===this.configuration.database.model.property.name.special.attachment)for(var s in n[m]={},e[m])e[m].hasOwnProperty(s)&&(n[m][s]=this.extendObject(!0,this.tools.copyLimitedRecursively(this.configuration.database.model.property.defaultSpecification),e[m][s]));else n[m]=this.extendObject(!0,this.tools.copyLimitedRecursively(this.configuration.database.model.property.defaultSpecification),e[m]),this.configuration.database.model.entities.hasOwnProperty(n[m].type)&&(n[m].value=this.determineSpecificationObject(this.configuration.database.model.entities[n[m].type]))}return n},e.prototype.generate=function(e,t){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=arguments[3],i=this.configuration.database.model.entities,r=i[e],o=this.configuration.database.model.property.name.special;n||(n=e.startsWith('_')?[o.id,o.attachment]:[]);var l=this.configuration.database.model.property.name.reserved.concat(o.conflict,o.deleted,o.deletedConflict,o.localSequence,o.revision,o.revisions,o.revisionsInformation,o.type),m=this.determineSpecificationObject(r,t,n.concat(l));t||(t=Object.keys(m).filter(function(e){return'object'===y(m[e])&&null!==typeof m[e]&&!Array.isArray(m[e])}),t=t.concat(Object.keys(a).filter(function(e){return!t.concat(l).includes(e)})));for(var s={},p=t,d=Array.isArray(p),c=0,p=d?p:p[Symbol.iterator]();;){var u;if(d){if(c>=p.length)break;u=p[c++]}else{if(c=p.next(),c.done)break;u=c.value}var g=u;if(!n.includes(g)){s[g]=m.hasOwnProperty(g)?this.tools.copyLimitedRecursively(m[g]):this.tools.copyLimitedRecursively('additional'in o&&o.additional?m[o.additional]:{});var f=new Date,h=this.numberGetUTCTimestamp(f);if(g===o.attachment){for(var b in m[g])if(m[g].hasOwnProperty(b)){if(s[g][b].name=b,s[g][b].value=null,0===Object.keys(a).length)for(var x={newDocument:a,oldDocument:null,userConteyt:{},securitySettings:{},name:b,models:i,modelConfiguration:this.configuration.database.model,serialize:function(e){return JSON.stringify(e,null,4)},modelName:e,model:r,propertySpecification:s[g][b],now:f,nowUTCTimestamp:h,getFilenameByPrefix:this.getFilenameByPrefix,attachmentWithPrefixExists:this.attachmentWithPrefixExists.bind(a,a)},v=['onCreateExecution','onCreateExpression'],_=0,N;_<v.length;_++)N=v[_],s[g][b].hasOwnProperty(N)&&s[g][b][N]&&(s[g][b].value=new(Function.prototype.bind.apply(Function,[null].concat(Object.keys(x),[(N.endsWith('Expression')?'return ':'')+s[g][b][N]])))().apply(void 0,Object.values(x)),s[g][b].hasOwnProperty('value')&&void 0===s[g][b].value&&delete s[g][b].value);var P=!1;if(a.hasOwnProperty(g)&&![void 0,null].includes(a[g]))for(var T in a[g])if(s[g].hasOwnProperty(b)&&new RegExp(b).test(T)){P=!0,s[g][b].value=a[g][T],s[g][b].value.name=T;break}P||!s[g][b].hasOwnProperty('default')||[void 0,null].includes(s[g][b].default)||(s[g][b].value=this.tools.copyLimitedRecursively({},s[g][b].default))}}else{if(s[g].name=g,s[g].value=null,0===Object.keys(a).length)for(var S={newDocument:a,oldDocument:null,userContext:{},securitySettings:{},name:g,models:i,modelConfiguration:this.configuration.database.model,serialize:function(e){return JSON.stringify(e,null,4)},modelName:e,model:r,propertySpecification:s[g],now:f,nowUTCTimestamp:h,getFilenameByPrefix:this.getFilenameByPrefix,attachmentWithPrefixExists:this.attachmentWithPrefixExists.bind(a,a)},I=['onCreateExpression','onCreateExecution'],O=0,C;O<I.length;O++)C=I[O],s[g].hasOwnProperty(C)&&s[g][C]&&(s[g].value=new(Function.prototype.bind.apply(Function,[null].concat(Object.keys(S),[(C.endsWith('Expression')?'return ':'')+s[g][C]])))().apply(void 0,Object.values(S)),void 0===s[g].value&&(s[g].value=null));if(a.hasOwnProperty(g)&&![void 0,null].includes(a[g])?s[g].value=a[g]:s[g].hasOwnProperty('default')&&![void 0,null].includes(s[g].default)?s[g].value=this.tools.copyLimitedRecursively(s[g].default):s[g].hasOwnProperty('selection')&&Array.isArray(s[g].selection)&&s[g].selection.length&&(s[g].value=s[g].selection[0]),'number'==typeof s[g].value&&s[g].hasOwnProperty('type')&&(s[g].type.endsWith('Date')||s[g].type.endsWith('Time')))s[g].value=new Date(1e3*s[g].value);else if(s[g].hasOwnProperty('type'))if(i.hasOwnProperty(s[g].type))s[g].value=this.generate(s[g].type,null,s[g].value||{},[o.attachment,o.id]);else if(s[g].type.endsWith('[]')){var E=s[g].type.substring(0,s[g].type.length-2);if(Array.isArray(s[g].value)&&i.hasOwnProperty(E))for(var k=0,D=s[g].value,w=Array.isArray(D),A=0,D=w?D:D[Symbol.iterator]();;){var R;if(w){if(A>=D.length)break;R=D[A++]}else{if(A=D.next(),A.done)break;R=A.value}var M=R;s[g].value[k]=this.generate(E,null,M||{},[o.attachment,o.id]),k+=1}}}}}for(var z=l,j=Array.isArray(z),L=0,z=j?z:z[Symbol.iterator]();;){var U;if(j){if(L>=z.length)break;U=z[L++]}else{if(L=z.next(),L.done)break;U=L.value}var q=U;a.hasOwnProperty(q)?s[q]=a[q]:q===o.type&&(s[q]=e)}return s._metaData={submitted:!1},s},e}())||wa);Reflect.defineMetadata('design:paramtypes',[gd,Gd,bp,yd,ud,cp,sd,xp,dp],Vd);var $d=t.AbstractResolver=(Aa=(0,Ls.Injectable)(),Aa(Ra=(za=Ma=function(){function e(t){var a=this;s(this,e),this.cache=!0,this.cacheStore={},this.changesStream=this.changesStream,this.convertCircularObjectToJSON=this.convertCircularObjectToJSON,this.data=this.data,this.databaseBaseURL=this.databaseBaseURL,this.databaseURL=this.databaseURL,this.databaseURLCache={},this.deepCopyItems=!0,this.domSanitizer=this.domSanitizer,this.escapeRegularExpressions=this.escapeRegularExpressions,this.extendObject=this.extendObject,this.message=this.message,this.messageConfiguration=new Fs.MatSnackBarConfig,this.modelConfiguration=this.modelConfiguration,this.platformID=this.platformID,this.relevantKeys=null,this.relevantSearchKeys=null,this.representObject=this.representObject,this.specialNames=this.specialNames,this.tools=this.tools,this.type='Item',this.useLimit=!1,this.useSkip=!1;var n=up(t,this,this.constructor);this.convertCircularObjectToJSON=n(fp).transform.bind(n(fp)),this.data=n(Gd),this.domSanitizer=n(Gs.DomSanitizer);var i=n(Qp).transform(n(cp).configuration.database.url,'')+'/';if(this.databaseBaseURL=i+'_utils/#/database/'+(n(cp).configuration.name+'/'),this.databaseURL=i+n(cp).configuration.name,this.escapeRegularExpressions=n(zp).transform.bind(n(zp)),this.extendObject=n(bp).transform.bind(n(bp)),this.messageConfiguration.duration=5000,this.message=function(e){return n(Fs.MatSnackBar).open(e,!1,a.messageConfiguration)},this.modelConfiguration=n(cp).configuration.database.model,this.platformID=n(Ls.PLATFORM_ID),this.representObject=n(xp).transform.bind(n(xp)),this.specialNames=n(cp).configuration.database.model.property.name.special,this.tools=n(dp).fixed.tools,this.cache){var r=function e(){a.changesStream=a.data.connection.changes(a.extendObject(!0,{},{since:'now'},Hd.defaultLiveUpdateOptions,{include_docs:!1})),a.changesStream.on('change',function(){a.cacheStore={}}),a.changesStream.on('error',e)};this.tools.timeout(r)}}return e.prototype.getDatabaseURL=function(e){var t=this.databaseBaseURL+('object'===y(e[this.specialNames.id])?e[this.specialNames.id].value:e[this.specialNames.id]);return this.databaseURLCache.hasOwnProperty(t)||(this.databaseURLCache[t]=this.domSanitizer.bypassSecurityTrustResourceUrl(t)),this.databaseURLCache[t]},e.prototype.list=function(){var e=o(regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[(o={},o[cp.defaultScope.configuration.database.model.property.name.special.id]='asc',o)],a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{},o,l,m,s,p,d,c,g,y,f,h,b,x,v,_,N;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.relevantSearchKeys||(this.relevantSearchKeys=Gd.determineGenericIndexablePropertyNames(this.modelConfiguration,this.modelConfiguration.entities[this.type]),this.relevantSearchKeys.splice(this.relevantSearchKeys.indexOf(this.specialNames.revision),1)),m=(l={},l[this.specialNames.type]=this.type,l),!(i||Object.keys(r).length)){e.next=37;break}t.length&&(m[Object.keys(t[0])[0]]={$gt:null}),m.$or=[],s=this.relevantSearchKeys,p=Array.isArray(s),d=0,s=p?s:s[Symbol.iterator]();case 6:if(!p){e.next=12;break}if(!(d>=s.length)){e.next=9;break}return e.abrupt('break',20);case 9:g=s[d++],e.next=16;break;case 12:if(d=s.next(),!d.done){e.next=15;break}return e.abrupt('break',20);case 15:g=d.value;case 16:y=g,m.$or.push((c={},c[y]={$regex:i},c));case 18:e.next=6;break;case 20:if(!(r.hasOwnProperty('$or')&&r.$or.length)){e.next=37;break}f=m.$or,h=Array.isArray(f),b=0,f=h?f:f[Symbol.iterator]();case 22:if(!h){e.next=28;break}if(!(b>=f.length)){e.next=25;break}return e.abrupt('break',36);case 25:x=f[b++],e.next=32;break;case 28:if(b=f.next(),!b.done){e.next=31;break}return e.abrupt('break',36);case 31:x=b.value;case 32:v=x,v.$or=r.$or;case 34:e.next=22;break;case 36:delete r.$or;case 37:if(_={},this.useLimit&&(_.limit=n),this.useSkip&&(_.skip=u(a-1,0)*n),this.relevantKeys&&(_.fields=this.relevantKeys),0===_.skip&&delete _.skip,t.length&&(_.sort=[this.specialNames.type].concat(t).map(function(e){return'asc'===Object.values(e)[0]?Object.keys(e)[0]:e})),this.extendObject(!0,m,r),!this.cache){e.next=53;break}if(N=this.convertCircularObjectToJSON({selector:m,options:_}),this.cacheStore.hasOwnProperty(N)){e.next=50;break}return e.next=49,this.data.find(m,_);case 49:this.cacheStore[N]=e.sent;case 50:if(!this.deepCopyItems){e.next=52;break}return e.abrupt('return',this.tools.copyLimitedRecursively(this.cacheStore[N]));case 52:return e.abrupt('return',this.cacheStore[N].slice());case 53:return e.next=55,this.data.find(m,_);case 55:return e.abrupt('return',e.sent);case 56:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.prototype.remove=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'',a;return this.update(e,(a={},a[this.specialNames.deleted]=!0,a),t)},e.prototype.resolve=function(t){if(e.skipResolvingOnServer&&(0,Us.isPlatformServer)(this.platformID))return[];var a='';if('searchTerm'in t.params){var n=decodeURIComponent(t.params.searchTerm);if(n.startsWith('exact-'))a=this.escapeRegularExpressions(n.substring(6));else if(n.startsWith('regex-')){a=n.substring(6);try{new RegExp(a)}catch(e){a=''}}}var i=[];return'sort'in t.params&&(i=t.params.sort.split(',').map(function(e){var t=e.lastIndexOf('-'),a='asc',n;return-1!==t&&(a=e.substring(t+1)||a,e=e.substring(0,t)),n={},n[e]=a,n})),this.list(i,parseInt(t.params.page||1),parseInt(t.params.limit||10),a)},e.prototype.update=function(){var e=o(regeneratorRuntime.mark(function e(t,a){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',i,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=a?this.extendObject((i={},i[this.specialNames.id]='object'===y(t[this.specialNames.id])?t[this.specialNames.id].value:t[this.specialNames.id],i[this.specialNames.revision]='latest',i[this.specialNames.type]=t[this.specialNames.type],i),a):t,e.prev=1,e.next=4,this.data.put(r);case 4:t[this.specialNames.revision]=e.sent.rev,e.next=11;break;case 7:return e.prev=7,e.t0=e['catch'](1),this.message('message'in e.t0?e.t0.message:this.representObject(e.t0)),e.abrupt('return',!1);case 11:return n&&this.message(n),e.abrupt('return',!0);case 13:case'end':return e.stop();}},e,this,[[1,7]])}));return function(){return e.apply(this,arguments)}}(),e}(),Ma.skipResolvingOnServer=!0,za))||Ra);(0,Ls.Optional)()($d,null,0),Reflect.defineMetadata('design:paramtypes',[Ls.Injector],$d);var Wd=t.AbstractInputComponent=(ja=(0,Ls.Input)(),La=(0,Ls.Input)(),Ua=(0,Ls.Input)(),qa=(0,Ls.Input)(),Fa=(0,Ls.Input)(),Ga=(0,Ls.Input)(),Va=(0,Ls.Input)(),$a=(0,Ls.Input)(),Wa=(0,Ls.Input)(),Ba=(0,Ls.Input)(),Ha=(0,Ls.Input)(),Ka=(0,Ls.Input)(),Ya=(0,Ls.Output)(),Ja=(0,Ls.Input)(),Za=(0,Ls.Input)(),Qa=(0,Ls.Input)(),Xa=(0,Ls.Input)(),en=(0,Ls.Input)(),tn=(0,Ls.Input)(),an=(0,Ls.Input)(),nn=function e(){s(this,e),i(this,'declaration',rn,this),i(this,'description',on,this),i(this,'disabled',ln,this),i(this,'maximum',mn,this),i(this,'maximumLength',sn,this),i(this,'maximumLengthText',pn,this),i(this,'maximumText',dn,this),i(this,'minimum',cn,this),i(this,'minimumLength',un,this),i(this,'minimumLengthText',gn,this),i(this,'minimumText',yn,this),i(this,'model',fn,this),i(this,'modelChange',hn,this),i(this,'pattern',bn,this),i(this,'patternText',xn,this),i(this,'required',vn,this),i(this,'requiredText',_n,this),i(this,'showDeclarationText',Nn,this),i(this,'showValidationErrorMessages',Pn,this),i(this,'type',Tn,this)},rn=r(nn.prototype,'declaration',[ja],{enumerable:!0,initializer:function(){return null}}),on=r(nn.prototype,'description',[La],{enumerable:!0,initializer:function(){return null}}),ln=r(nn.prototype,'disabled',[Ua],{enumerable:!0,initializer:function(){return null}}),mn=r(nn.prototype,'maximum',[qa],{enumerable:!0,initializer:function(){return null}}),sn=r(nn.prototype,'maximumLength',[Fa],{enumerable:!0,initializer:function(){return null}}),pn=r(nn.prototype,'maximumLengthText',[Ga],{enumerable:!0,initializer:function(){return'Please type less or equal than ${model.maximumLength} symbols.'}}),dn=r(nn.prototype,'maximumText',[Va],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),cn=r(nn.prototype,'minimum',[$a],{enumerable:!0,initializer:function(){return null}}),un=r(nn.prototype,'minimumLength',[Wa],{enumerable:!0,initializer:function(){return null}}),gn=r(nn.prototype,'minimumLengthText',[Ba],{enumerable:!0,initializer:function(){return'Please type at least or equal ${model.minimumLength} symbols.'}}),yn=r(nn.prototype,'minimumText',[Ha],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),fn=r(nn.prototype,'model',[Ka],{enumerable:!0,initializer:function(){return{}}}),hn=r(nn.prototype,'modelChange',[Ya],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),bn=r(nn.prototype,'pattern',[Ja],{enumerable:!0,initializer:function(){return this.pattern}}),xn=r(nn.prototype,'patternText',[Za],{enumerable:!0,initializer:function(){return'Your string have to match the regular expression: "${model.regularExpressionPattern}".'}}),vn=r(nn.prototype,'required',[Qa],{enumerable:!0,initializer:function(){return null}}),_n=r(nn.prototype,'requiredText',[Xa],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Nn=r(nn.prototype,'showDeclarationText',[en],{enumerable:!0,initializer:function(){return'\u2139'}}),Pn=r(nn.prototype,'showValidationErrorMessages',[tn],{enumerable:!0,initializer:function(){return!1}}),Tn=r(nn.prototype,'type',[an],{enumerable:!0,initializer:function(){return this.type}}),nn),Bd=t.AbstractNativeInputComponent=function(e){function t(a){s(this,t);var n=l(this,e.call(this));n._attachmentWithPrefixExists=n._attachmentWithPrefixExists,n._extendObject=n._extendObject,n._getFilenameByPrefix=n._getFilenameByPrefix,n._modelConfiguration=n._modelConfiguration,n._numberGetUTCTimestamp=n._numberGetUTCTimestamp;var i=up(a,n,n.constructor);return n._attachmentWithPrefixExists=i(gd).transform.bind(i(gd)),n._extendObject=i(bp).transform.bind(i(bp)),n._getFilenameByPrefix=i(ud).transform.bind(i(ud)),n._modelConfiguration=i(cp).configuration.database.model,n._numberGetUTCTimestamp=i(sd).transform.bind(i(sd)),n}return m(t,e),t.prototype.ngOnInit=function(){this._extendObject(this.model,this._extendObject({disabled:!1,emptyEqualsToNull:!0,maximum:Infinity,minimum:0,maximumLength:Infinity,minimumLength:0,nullable:!0,regularExpressionPattern:'.*',state:{},trim:!0,type:'string'},this.model)),'string'==typeof this.model.value&&this.model.trim&&this.model.value===this.model.value.trim();for(var e=['onUpdateExpression','onUpdateExecution'],t=0,a;t<e.length;t++)a=e[t],this.model.hasOwnProperty(a)&&this.model[a]&&'function'!=typeof this.model[a]&&(this.model[a]=new Function('newDocument','oldDocument','userContext','securitySettings','name','models','modelConfiguration','serialize','modelName','model','propertySpecification','now','nowUTCTimestamp','getFilenameByPrefix','attachmentWithPrefixExists',(a.endsWith('Expression')?'return ':'')+this.model[a]))},t.prototype.onChange=function(e,t){var a;'integer'===this.model.type?e=parseInt(e):'number'===this.model.type?e=parseFloat(e):e&&'string'===this.model.type&&this.model.trim&&(e=e.trim());for(var n=new Date,i=this._numberGetUTCTimestamp(n),r=(a={},a[this.model.name]=e,a),o=['onUpdateExpression','onUpdateExecution'],l=0,m;l<o.length;l++)if(m=o[l],this.model.hasOwnProperty(m)&&this.model[m]&&'function'==typeof this.model[m]){var s;e=this.model[m](r,null,{},{},this.model.name,this._modelConfiguration.entities,this._modelConfiguration,function(e){return JSON.stringify(e,null,4)},'generic',{generic:(s={},s[this.model.name]=this.model,s)},this.model,n,i,this._getFilenameByPrefix,this._attachmentWithPrefixExists.bind(r,r),e),!(e instanceof Date)&&(this.model.type.endsWith('Date')||this.model.type.endsWith('Time'))&&(e*=1e3)}return this.model.state=t,e},t}(Wd);(0,Ls.Optional)()(Bd,null,0),Reflect.defineMetadata('design:paramtypes',[Ls.Injector],Bd);var Hd=t.AbstractLiveDataComponent=(In=Sn=function(){function e(t){s(this,e),this.actions=[],this.autoRestartOnError=!0,this._canceled=!1,this._changeDetectorReference=this._changeDetectorReference,this._changesStream=this._changesStream,this._data=this._data,this._extendObject=this._extendObject,this._liveUpdateOptions={},this._stringCapitalize=this._stringCapitalize,this._tools=this._tools;var a=up(t,this,this.constructor);this._changeDetectorReference=a(Ls.ChangeDetectorRef),this._data=a(Gd),this._extendObject=a(bp).transform.bind(a(bp)),this._stringCapitalize=a(Jp).transform.bind(a(Jp)),this._tools=a(dp).fixed.tools}return e.prototype.ngOnInit=function(){var t=this,a=this._tools.debounce(function(){t._changesStream=t._data.connection.changes(t._extendObject(!0,{},{since:ap.sequence},e.defaultLiveUpdateOptions,t._liveUpdateOptions));for(var n=function(e){t._changesStream.on(e,function(){var n=o(regeneratorRuntime.mark(function n(i){var r;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t._canceled){n.next=2;break}return n.abrupt('return');case 2:if('change'===e&&(('seq'in i)&&'number'==typeof i.seq&&(ap.sequence=i.seq),ap.data[i.id]=i.doc),i.name=e,t.actions.unshift(i),r=t['onData'+t._stringCapitalize(e)](i),!(null!==r&&'object'===('undefined'==typeof r?'undefined':y(r))&&('then'in r))){n.next=10;break}return n.next=9,r;case 9:r=n.sent;case 10:r&&t._changeDetectorReference.detectChanges(),'error'===e&&t.autoRestartOnError&&a();case 12:case'end':return n.stop();}},n,t)}));return function(){return n.apply(this,arguments)}}())},i=['change','complete','error'],r=0,l;r<i.length;r++)l=i[r],n(l)},3e3);this._tools.timeout(a)},e.prototype.ngOnDestroy=function(){this._canceled=!0,this._changesStream&&this._changesStream.cancel()},e.prototype.onDataChange=function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return!0},e.prototype.onDataComplete=function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return!1},e.prototype.onDataError=function(){0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;return!1},e}(),Sn.defaultLiveUpdateOptions={heartbeat:1e4,include_docs:!0,live:!0,since:'now',timeout:!1},In);(0,Ls.Optional)()(Hd,null,0),Reflect.defineMetadata('design:paramtypes',[Ls.Injector],Hd);var Kd=t.AbstractItemsComponent=function(e){function t(a){var n;s(this,t);var i=l(this,e.call(this,a));i.allItems=i.allItems,i.allItemsChecked=!1,i.debouncedUpdate=i.debouncedUpdate,i.idName=i.idName,i.items=i.items,i.keyCode=i.keyCode,i.limit=i.limit,i.navigateAway=!1,i.page=i.page,i.preventedDataUpdate=null,i.regularExpression=!1,i.revisionName=i.revisionName,i.searchTerm='',i.searchTermStream=new Js.Subject,i.selectedItems=new Set,i.sort=(n={},n[cp.defaultScope.configuration.database.model.property.name.special.id]='asc',n),i._currentParameter=i._currentParameter,i._itemPath='item',i._itemsPath='items',i._route=i._route,i._router=i._router,i._subscriptions=[],i._toolsInstance=i._toolsInstance;var r=up(a);return i.idName=r(cp).configuration.database.model.property.name.special.id,i.revisionName=r(cp).configuration.database.model.property.name.special.revision,i.keyCode=i._tools.keyCode,i._route=r(Vs.ActivatedRoute),i._router=r(Vs.Router),i._toolsInstance=r(dp).tools,i._subscriptions.push(i._route.params.subscribe(function(e){i._currentParameter=e,i.limit=parseInt(i._currentParameter.limit),i.page=parseInt(i._currentParameter.page);var t=/(regex|exact)-(.*)/.exec(i._currentParameter.searchTerm);t&&(i.regularExpression='regex'===t[1],i.searchTerm=decodeURIComponent(t[2]))})),i._subscriptions.push(i._route.data.subscribe(function(e){i.limit=u(1,i.limit||1),i.allItems=e.items.slice(),e.items.splice(0,(i.page-1)*i.limit),e.items.length>i.limit&&e.items.splice(i.limit,e.items.length-i.limit),i.items=e.items,i.applyPageConstraints()&&i.update()})),i._subscriptions.push(i.searchTermStream.debounceTime(200).distinctUntilChanged().subscribe(function(){return i.page=1,i.update()})),i.debouncedUpdate=i._tools.debounce(i.update.bind(i)),i}return m(t,e),t.prototype.applyPageConstraints=function(){var e=this.page,t=this.limit;return this.limit=u(1,this.limit||1),this.page=u(1,d(this.page,c(this.allItems.length/this.limit))),this.page!==e||this.limit!==t},t.prototype.changeItemWrapperFactory=function(e){var t=this;return function(){var a=o(regeneratorRuntime.mark(function a(){var n=arguments,i,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(i=!0,r=t._router.events.subscribe(function(e){e instanceof Vs.NavigationEnd&&(i=!1,r.unsubscribe())}),t._subscriptions.push(r),o=e.apply(void 0,n),!('object'===('undefined'==typeof o?'undefined':y(o))&&null!==o&&'then'in o)){a.next=7;break}return a.next=7,o;case 7:if(!i){a.next=10;break}return a.next=10,t.update(!0);case 10:return a.abrupt('return',o);case 11:case'end':return a.stop();}},a,t)}));return function(){return a.apply(this,arguments)}}()},t.prototype.clearSelectedItems=function(){for(var e=this.items,t=Array.isArray(e),a=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(a>=e.length)break;n=e[a++]}else{if(a=e.next(),a.done)break;n=a.value}var i=n;this.selectedItems.delete(i),i.selected=!1}},t.prototype.goToItem=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'latest';return this.navigateAway=!0,this._router.navigate([this._itemPath,e,t])},t.prototype.ngAfterContentChecked=function(){this.preventedDataUpdate&&this.onDataChange.apply(this,this.preventedDataUpdate)},t.prototype.onDataChange=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return this.selectedItems.size||![0,1].includes(parseInt(this._currentParameter.page))?this.preventedDataUpdate=t:(this.preventedDataUpdate=null,this.debouncedUpdate(!0)),!1},t.prototype.ngOnDestroy=function(){for(var t=arguments.length,a=Array(t),n=0,i;n<t;n++)a[n]=arguments[n];for(var r=(i=e.prototype.ngOnDestroy).call.apply(i,[this].concat(a)),o=this._subscriptions,l=Array.isArray(o),m=0,o=l?o:o[Symbol.iterator]();;){var s;if(l){if(m>=o.length)break;s=o[m++]}else{if(m=o.next(),m.done)break;s=m.value}var p=s;p.unsubscribe()}return r},t.prototype.selectAllItems=function(){for(var e=this.items,t=Array.isArray(e),a=0,e=t?e:e[Symbol.iterator]();;){var n;if(t){if(a>=e.length)break;n=e[a++]}else{if(a=e.next(),a.done)break;n=a.value}var i=n;this.selectedItems.add(i),i.selected=!0}},t.prototype.trackByIDAndRevision=function(e){return e[this.idName]+'/'+e[this.revisionName]},t.prototype.update=function(){var e=o(regeneratorRuntime.mark(function e(){var t=0<arguments.length&&void 0!==arguments[0]&&arguments[0],a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=!1,e.next=3,this._toolsInstance.acquireLock(this.constructor.name+'Update');case 3:if(this.navigateAway){e.next=12;break}for(i in this.applyPageConstraints(),t&&0!==parseInt(this._currentParameter.page)&&(this.page=0),n='',this.sort)this.sort.hasOwnProperty(i)&&(n+=''+(n?',':'')+i,'asc'!==this.sort[i]&&(n+='-'+this.sort[i]));return e.next=10,this._router.navigate([this._itemsPath,n,this.page,this.limit,(this.regularExpression?'regex':'exact')+'-'+encodeURIComponent(this.searchTerm)],{preserveFragment:!0,replaceUrl:0===parseInt(this._currentParameter.page),skipLocationChange:0===this.page});case 10:a=e.sent,a&&(this.allItemsChecked=!1);case 12:return this._toolsInstance.releaseLock(this.constructor.name+'Update'),e.abrupt('return',a);case 14:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),t.prototype.updateSearch=function(){this.searchTermStream.next(this.searchTerm)},t}(Hd);(0,Ls.Optional)()(Kd,null,0),Reflect.defineMetadata('design:paramtypes',[Ls.Injector],Kd);var Yd=t.AbstractValueAccessor=(On=(0,Ls.Input)(),Cn=function(e){function t(a){s(this,t);var n=l(this,e.call(this,a.get(Ls.Renderer2),a.get(Ls.ElementRef),null));return n.onChangeCallback=dp.tools.noop,n.onTouchedCallback=dp.tools.noop,i(n,'type',En,n),n}return m(t,e),t.prototype.export=function(e){return e},t.prototype.import=function(e){return e},t.prototype.registerOnChange=function(t){for(var a=this,n=arguments.length,i=Array(1<n?n-1:0),r=1,o;r<n;r++)i[r-1]=arguments[r];return this.onChangeCallback=function(e){for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return t.apply(void 0,[a.import(e)].concat(i))},(o=e.prototype.registerOnChange).call.apply(o,[this,this.onChangeCallback].concat(i))},t.prototype.registerOnTouched=function(t){var a;this.onTouchedCallback=t;for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(a=e.prototype.registerOnTouched).call.apply(a,[this,this.onTouchedCallback].concat(i))},t.prototype.writeValue=function(t){for(var a=arguments.length,n=Array(1<a?a-1:0),i=1,r;i<a;i++)n[i-1]=arguments[i];return(r=e.prototype.writeValue).call.apply(r,[this,this.export.apply(this,[t].concat(n))].concat(n))},t}(qs.DefaultValueAccessor),En=r(Cn.prototype,'type',[On],{enumerable:!0,initializer:function(){return null}}),Cn);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],Yd);var Jd=t.DateDirective=(kn=(0,Ls.Directive)({selector:'[genericDate]'}),Dn=(0,Ls.Input)('genericDate'),kn(wn=(An=function(){function e(t,a,n,i){s(this,e),this.dateFormatter=this.dateFormatter,this.extendObject=this.extendObject,this.options={dateTime:'now',format:'HH:mm:ss',freeze:!1,updateIntervalInMilliseconds:1e3},this.templateReference=this.templateReference,this.timerID=this.timerID,this.viewContainerReference=this.viewContainerReference,this.dateFormatter=t.transform.bind(t),this.extendObject=a.transform.bind(a),this.templateReference=n,this.viewContainerReference=i}return e.prototype.insert=function(){var e=this.options.dateTime;'string'==typeof e&&['now',''].includes(e)||'number'==typeof e&&isNaN(e)||[null,void 0].includes(e)?e=Date.now():'string'==typeof e&&''+parseFloat(e)===e&&(e=1e3*parseFloat(e)),this.viewContainerReference.createEmbeddedView(this.templateReference,{dateTime:this.dateFormatter(e,this.options.format)})},e.prototype.ngOnDestroy=function(){this.timerID&&clearInterval(this.timerID)},e.prototype.ngOnInit=function(){var e=this;this.timerID=setInterval(function(){e.options.freeze||(e.viewContainerReference.remove(),e.insert())},this.options.updateIntervalInMilliseconds),this.insert()},g(e,[{key:'insertOptions',set:function(e){(['string','number'].includes('undefined'==typeof e?'undefined':y(e))||[null,void 0].includes(e)||'object'===('undefined'==typeof e?'undefined':y(e))&&e instanceof Date)&&(e={dateTime:e}),this.extendObject(!0,this.options,e)}}]),e}(),r(An.prototype,'insertOptions',[Dn],Object.getOwnPropertyDescriptor(An.prototype,'insertOptions'),An.prototype),An))||wn);Reflect.defineMetadata('design:paramtypes',[Us.DatePipe,bp,Ls.TemplateRef,Ls.ViewContainerRef],Jd);var Zd=t.SliderDirective=(Rn=(0,Ls.Directive)({selector:'[genericSlider]'}),Mn=(0,Ls.Input)('genericSlider'),Rn(zn=(jn=function(){function e(t,a,n){s(this,e),this.extendObject=this.extendObject,this.index=0,this.options={freeze:!1,startIndex:0,step:1,slides:[],updateIntervalInMilliseconds:6e3},this.templateReference=this.templateReference,this.timerID=this.timerID,this.viewContainerReference=this.viewContainerReference,this.extendObject=t.transform.bind(t),this.templateReference=a,this.viewContainerReference=n}return e.prototype.getNextIndex=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return-1===e&&(e=this.index),(e+this.options.step)%this.options.slides.length},e.prototype.update=function(){this.options.slides.length&&this.viewContainerReference.createEmbeddedView(this.templateReference,{getNextIndex:this.getNextIndex.bind(this),index:this.index,options:this.options,slide:this.options.slides[this.index],slides:this.options.slides})},e.prototype.ngOnDestroy=function(){this.timerID&&clearInterval(this.timerID)},e.prototype.ngOnInit=function(){var e=this;this.timerID=setInterval(function(){var t=(e.index+e.options.step)%e.options.slides.length;!0===e.options.freeze||t===e.index||'number'==typeof e.options.freeze&&e.options.freeze>=e.options.slides.length||(e.viewContainerReference.remove(),e.index=e.getNextIndex(),e.update())},this.options.updateIntervalInMilliseconds),this.index=this.options.startIndex,this.update()},g(e,[{key:'insertOptions',set:function(e){Array.isArray(e)&&(e={slides:e}),this.extendObject(!0,this.options,e)}}]),e}(),r(jn.prototype,'insertOptions',[Mn],Object.getOwnPropertyDescriptor(jn.prototype,'insertOptions'),jn.prototype),jn))||zn);Reflect.defineMetadata('design:paramtypes',[bp,Ls.TemplateRef,Ls.ViewContainerRef],Zd);var Qd=[{provide:qs.NG_VALUE_ACCESSOR,useExisting:(0,Ls.forwardRef)(function(){return Xd}),multi:!0}],Xd=t.DateTimeValueAccessor=(Ln=(0,Ls.Directive)({selector:'\n        input:not([type=checkbox])[formControlName],\n        textarea[formControlName],\n        input:not([type=checkbox])[formControl],\n        textarea[formControl],\n        input:not([type=checkbox])[ngModel],\n        textarea[ngModel],[ngDefaultControl]\'\n    ',host:{"(input)":'_handleInput($event.target.value)',"(blur)":'onTouched()',"(compositionstart)":'_compositionStart()',"(compositionend)":'_compositionEnd($event.target.value)'},providers:Qd}),Ln(Un=function(e){function t(a){return s(this,t),l(this,e.call(this,a))}return m(t,e),t.prototype.export=function(e){if(![void 0,null].includes(e)&&['date','time'].includes(this.type)){var t=new Date(e);if(isNaN(t.getDate()))return;if('time'===this.type){var a=''+t.getHours();1===a.length&&(a='0'+a);var n=''+t.getMinutes();return 1===n.length&&(n='0'+n),a+':'+n}if('date'===this.type){var i=''+(t.getMonth()+1);1===i.length&&(i='0'+i);var r=''+t.getDate();return 1===r.length&&(r='0'+r),t.getFullYear()+'-'+i+'-'+r}}return e},t.prototype.import=function(e){if('string'==typeof e)if('time'===this.type){var t=/^([0-9]{2}):([0-9]{2})$/.exec(e);if(t)return new Date(1970,0,1,parseInt(t[1]),parseInt(t[2]))}else if('date'===this.type){var a=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(e);if(a)return new Date(parseInt(a[1]),parseInt(a[2])-1,parseInt(a[3]))}return e},t}(Yd))||Un);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],Xd);var ec=t.IntervalInputComponent=(qn=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],selector:'generic-interval-input',template:'\n        <generic-input\n            [declaration]="startDeclaration"\n            [description]="startDescription"\n            [disabled]="startDisabled"\n            [showDeclarationText]="startShowDeclarationText"\n            [maximum]="startMaximum"\n            [maximumText]="startMaximumText"\n            [minimum]="startMinimum"\n            [required]="startRequired"\n            [requiredText]="startRequiredText"\n            [minimumText]="startMinimumText"\n            [model]="model.start"\n            (model)="change($event, \'start\')"\n            [showValidationErrorMessages]="startShowValidationErrorMessages"\n            type="time"\n        ></generic-input>\n        <ng-content></ng-content>\n        <generic-input\n            [declaration]="endDeclaration"\n            [description]="endDescription"\n            [disabled]="endDisabled"\n            [showDeclarationText]="endShowDeclarationText"\n            [maximum]="endMaximum"\n            [maximumText]="endMaximumText"\n            [minimum]="endMinimum"\n            [required]="endRequired"\n            [requiredText]="endRequiredText"\n            [minimumText]="endMinimumText"\n            [model]="model.end"\n            (model)="change($event, \'end\')"\n            [showValidationErrorMessages]="endShowValidationErrorMessages"\n            type="time"\n        ></generic-input>\n    '}),Fn=(0,Ls.Input)(),Gn=(0,Ls.Input)(),Vn=(0,Ls.Input)(),$n=(0,Ls.Input)(),Wn=(0,Ls.Input)(),Bn=(0,Ls.Input)(),Hn=(0,Ls.Input)(),Kn=(0,Ls.Input)(),Yn=(0,Ls.Input)(),Jn=(0,Ls.Input)(),Zn=(0,Ls.Input)(),Qn=(0,Ls.Input)(),Xn=(0,Ls.Input)(),ei=(0,Ls.Input)(),ti=(0,Ls.Input)(),ai=(0,Ls.Input)(),ni=(0,Ls.Input)(),ii=(0,Ls.Input)(),ri=(0,Ls.Input)(),oi=(0,Ls.Input)(),li=(0,Ls.Input)(),mi=(0,Ls.Input)(),si=(0,Ls.Input)(),pi=(0,Ls.Output)(),qn(di=(ci=function(){function e(){s(this,e),i(this,'endDeclaration',ui,this),i(this,'startDeclaration',gi,this),i(this,'endDescription',yi,this),i(this,'startDescription',fi,this),i(this,'endDisabled',hi,this),i(this,'startDisabled',bi,this),i(this,'endMaximum',xi,this),i(this,'startMaximum',vi,this),i(this,'endMaximumText',_i,this),i(this,'startMaximumText',Ni,this),i(this,'endMinimum',Pi,this),i(this,'startMinimum',Ti,this),i(this,'endMinimumText',Si,this),i(this,'startMinimumText',Ii,this),i(this,'endRequired',Oi,this),i(this,'startRequired',Ci,this),i(this,'endRequiredText',Ei,this),i(this,'startRequiredText',ki,this),i(this,'endShowDeclarationText',Di,this),i(this,'startShowDeclarationText',wi,this),i(this,'endShowValidationErrorMessages',Ai,this),i(this,'startShowValidationErrorMessages',Ri,this),i(this,'model',Mi,this),i(this,'modelChange',zi,this)}return e.prototype.change=function(e,t){this.modelChange.emit({value:e,type:t})},e}(),ui=r(ci.prototype,'endDeclaration',[Fn],{enumerable:!0,initializer:function(){return null}}),gi=r(ci.prototype,'startDeclaration',[Gn],{enumerable:!0,initializer:function(){return null}}),yi=r(ci.prototype,'endDescription',[Vn],{enumerable:!0,initializer:function(){return null}}),fi=r(ci.prototype,'startDescription',[$n],{enumerable:!0,initializer:function(){return null}}),hi=r(ci.prototype,'endDisabled',[Wn],{enumerable:!0,initializer:function(){return null}}),bi=r(ci.prototype,'startDisabled',[Bn],{enumerable:!0,initializer:function(){return null}}),xi=r(ci.prototype,'endMaximum',[Hn],{enumerable:!0,initializer:function(){return null}}),vi=r(ci.prototype,'startMaximum',[Kn],{enumerable:!0,initializer:function(){return null}}),_i=r(ci.prototype,'endMaximumText',[Yn],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Ni=r(ci.prototype,'startMaximumText',[Jn],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Pi=r(ci.prototype,'endMinimum',[Zn],{enumerable:!0,initializer:function(){return null}}),Ti=r(ci.prototype,'startMinimum',[Qn],{enumerable:!0,initializer:function(){return null}}),Si=r(ci.prototype,'endMinimumText',[Xn],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Ii=r(ci.prototype,'startMinimumText',[ei],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Oi=r(ci.prototype,'endRequired',[ti],{enumerable:!0,initializer:function(){return null}}),Ci=r(ci.prototype,'startRequired',[ai],{enumerable:!0,initializer:function(){return null}}),Ei=r(ci.prototype,'endRequiredText',[ni],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),ki=r(ci.prototype,'startRequiredText',[ii],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Di=r(ci.prototype,'endShowDeclarationText',[ri],{enumerable:!0,initializer:function(){return'\u2139'}}),wi=r(ci.prototype,'startShowDeclarationText',[oi],{enumerable:!0,initializer:function(){return'\u2139'}}),Ai=r(ci.prototype,'endShowValidationErrorMessages',[li],{enumerable:!0,initializer:function(){return!1}}),Ri=r(ci.prototype,'startShowValidationErrorMessages',[mi],{enumerable:!0,initializer:function(){return!1}}),Mi=r(ci.prototype,'model',[si],{enumerable:!0,initializer:function(){return{end:{value:new Date(1970,0,1)},start:{value:new Date(1970,0,1)}}}}),zi=r(ci.prototype,'modelChange',[pi],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),ci))||di),tc=t.IntervalsInputComponent=(ji=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],selector:'generic-intervals-input',template:'\n        <div\n            *ngIf="description !== \'\' && (description || model.description || model.name)"\n        >{{description || model.description || model.name}}</div>\n        <div\n            @defaultAnimation\n            *ngFor="let interval of (model.value || []); let first = first; let index = index"\n        >\n            <generic-interval-input\n                [endDisabled]="endDisabled"\n                [startDisabled]="startDisabled"\n\n                [endShowDeclarationText]="endShowDeclarationText"\n                [startShowDeclarationText]="startShowDeclarationText"\n\n                [endMaximum]="endMaximum"\n                [startMaximum]="startMaximum"\n\n                [endMaximumText]="endMaximumText"\n                [startMaximumText]="startMaximumText"\n\n                [endMinimum]="endMinimum"\n                [startMinimum]="startMinimum"\n\n                [endRequired]="endRequired"\n                [startRequired]="startRequired"\n\n                [endRequiredText]="endRequiredText"\n                [startRequiredText]="startRequiredText"\n\n                [endMinimumText]="endMinimumText"\n                [startMinimumText]="startMinimumText"\n\n                [endDescription]="first ? endDescription : \'\'"\n                [startDescription]="first ? startDescription : \'\'"\n\n                [model]="interval"\n                (model)="change($event, index)"\n\n                [endDeclaration]="endDeclaration"\n                [startDeclaration]="startDeclaration"\n\n                [endShowValidationErrorMessages]="endShowValidationErrorMessages"\n                [startShowValidationErrorMessages]="startShowValidationErrorMessages"\n            >\n                <ng-container *ngIf="contentTemplate; else fallback">\n                    <ng-container\n                        *ngTemplateOutlet="contentTemplate; context: {$implicit:interval}"\n                    ></ng-container>\n                </ng-container>\n            </generic-interval-input>\n            <a\n                class="remove"\n                (click)="$event.preventDefault(); $event.stopPropagation(); remove(interval)"\n                href=""\n                *ngIf="model.minimumNumber === null || model.value.length > model.minimumNumber"\n            >-</a>\n        </div>\n        <a\n            class="add"\n            (click)="$event.preventDefault(); $event.stopPropagation(); add()"\n            href=""\n            *ngIf="model.maximumNumber === null || (model.value?.length || 0) < model.maximumNumber"\n        >+</a>\n        <ng-template #fallback>--</ng-template>\n    '}),Li=(0,Ls.Input)(),Ui=(0,Ls.ContentChild)(Ls.TemplateRef),qi=(0,Ls.Input)(),Fi=(0,Ls.Input)(),Gi=(0,Ls.Input)(),Vi=(0,Ls.Input)(),$i=(0,Ls.Input)(),Wi=(0,Ls.Input)(),Bi=(0,Ls.Input)(),Hi=(0,Ls.Input)(),Ki=(0,Ls.Input)(),Yi=(0,Ls.Input)(),Ji=(0,Ls.Input)(),Zi=(0,Ls.Input)(),Qi=(0,Ls.Input)(),Xi=(0,Ls.Input)(),er=(0,Ls.Input)(),tr=(0,Ls.Input)(),ar=(0,Ls.Input)(),nr=(0,Ls.Input)(),ir=(0,Ls.Input)(),rr=(0,Ls.Input)(),or=(0,Ls.Input)(),lr=(0,Ls.Input)(),mr=(0,Ls.Input)(),sr=(0,Ls.Input)(),pr=(0,Ls.Output)(),ji(dr=(cr=function(){function e(t,a){s(this,e),i(this,'additionalObjectData',ur,this),i(this,'contentTemplate',gr,this),i(this,'description',yr,this),i(this,'endDeclaration',fr,this),i(this,'startDeclaration',hr,this),i(this,'endDescription',br,this),i(this,'startDescription',xr,this),i(this,'endDisabled',vr,this),i(this,'startDisabled',_r,this),i(this,'endMaximum',Nr,this),i(this,'startMaximum',Pr,this),i(this,'endMaximumText',Tr,this),i(this,'startMaximumText',Sr,this),i(this,'endMinimum',Ir,this),i(this,'startMinimum',Or,this),i(this,'endMinimumText',Cr,this),i(this,'startMinimumText',Er,this),i(this,'endRequired',kr,this),i(this,'startRequired',Dr,this),i(this,'endRequiredText',wr,this),i(this,'startRequiredText',Ar,this),i(this,'endShowDeclarationText',Rr,this),i(this,'startShowDeclarationText',Mr,this),i(this,'endShowValidationErrorMessages',zr,this),i(this,'startShowValidationErrorMessages',jr,this),i(this,'model',Lr,this),i(this,'modelChange',Ur,this),this._dataScope=this._dataScope,this._extendObject=this._extendObject,this._dataScope=t,this._extendObject=a.transform.bind(a)}return e.prototype.change=function(e,t){this.modelChange.emit({value:e,index:t})},e.prototype.ngOnInit=function(){this.additionalObjectData||(this.additionalObjectData=this._dataScope.generate('_interval')),this.model.value?this.model.value.sort(function(e,t){return e.start.value-t.start.value}):this.model.value=[]},e.prototype.add=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.model.value||(this.model.value=[]);var t=this.model.value.length?new Date(this.model.value[this.model.value.length-1].end.value).getTime():0;this.model.value.push(this._extendObject(!0,{},this.additionalObjectData,{end:{value:new Date(t+3600000)},start:{value:new Date(t)}},e)),this.modelChange.emit(this.model)},e.prototype.remove=function(e){var t=this.model.value.indexOf(e);-1!==t&&(this.model.value.splice(t,1),this.modelChange.emit(this.model))},e}(),ur=r(cr.prototype,'additionalObjectData',[Li],{enumerable:!0,initializer:function(){return this.additionalObjectData}}),gr=r(cr.prototype,'contentTemplate',[Ui],{enumerable:!0,initializer:function(){return this.contentTemplate}}),yr=r(cr.prototype,'description',[qi],{enumerable:!0,initializer:function(){return null}}),fr=r(cr.prototype,'endDeclaration',[Fi],{enumerable:!0,initializer:function(){return null}}),hr=r(cr.prototype,'startDeclaration',[Gi],{enumerable:!0,initializer:function(){return null}}),br=r(cr.prototype,'endDescription',[Vi],{enumerable:!0,initializer:function(){return null}}),xr=r(cr.prototype,'startDescription',[$i],{enumerable:!0,initializer:function(){return null}}),vr=r(cr.prototype,'endDisabled',[Wi],{enumerable:!0,initializer:function(){return null}}),_r=r(cr.prototype,'startDisabled',[Bi],{enumerable:!0,initializer:function(){return null}}),Nr=r(cr.prototype,'endMaximum',[Hi],{enumerable:!0,initializer:function(){return null}}),Pr=r(cr.prototype,'startMaximum',[Ki],{enumerable:!0,initializer:function(){return null}}),Tr=r(cr.prototype,'endMaximumText',[Yi],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Sr=r(cr.prototype,'startMaximumText',[Ji],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Ir=r(cr.prototype,'endMinimum',[Zi],{enumerable:!0,initializer:function(){return null}}),Or=r(cr.prototype,'startMinimum',[Qi],{enumerable:!0,initializer:function(){return null}}),Cr=r(cr.prototype,'endMinimumText',[Xi],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Er=r(cr.prototype,'startMinimumText',[er],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),kr=r(cr.prototype,'endRequired',[tr],{enumerable:!0,initializer:function(){return null}}),Dr=r(cr.prototype,'startRequired',[ar],{enumerable:!0,initializer:function(){return null}}),wr=r(cr.prototype,'endRequiredText',[nr],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Ar=r(cr.prototype,'startRequiredText',[ir],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Rr=r(cr.prototype,'endShowDeclarationText',[rr],{enumerable:!0,initializer:function(){return'\u2139'}}),Mr=r(cr.prototype,'startShowDeclarationText',[or],{enumerable:!0,initializer:function(){return'\u2139'}}),zr=r(cr.prototype,'endShowValidationErrorMessages',[lr],{enumerable:!0,initializer:function(){return!1}}),jr=r(cr.prototype,'startShowValidationErrorMessages',[mr],{enumerable:!0,initializer:function(){return!1}}),Lr=r(cr.prototype,'model',[sr],{enumerable:!0,initializer:function(){return{value:[]}}}),Ur=r(cr.prototype,'modelChange',[pr],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),cr))||dr);Reflect.defineMetadata('design:paramtypes',[Vd,bp],tc);var ac=t.AbstractEditorComponent=(qr=(0,Ls.Input)(),Fr=(0,Ls.Input)(),Gr=(0,Ls.ViewChild)('hostDomNode'),Vr=(0,Ls.Output)(),$r=(0,Ls.Input)(),Wr=(0,Ls.Output)(),Br=(eo=Xr=function(e){function t(a){s(this,t);var n=l(this,e.call(this,a));i(n,'configuration',Hr,n),n.contentSetterMethodName='setContent',i(n,'disabled',Kr,n),n.extendObject=n.extendObject,n.factory=n.factory,n.factoryName='',n.fixedUtility=n.fixedUtility,i(n,'hostDomNode',Yr,n),n.instance=null,i(n,'initialized',Jr,n),i(n,'model',Zr,n),i(n,'modelChange',Qr,n);var r=up(a,n,n.constructor);return n.extendObject=r(bp).transform.bind(r(bp)),n.fixedUtility=r(dp).fixed,n}return m(t,e),t.prototype.ngAfterViewInit=function(){var e=o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.factory||(this.fixedUtility.globalContext[this.factoryName]?this.factory=this.fixedUtility.globalContext[this.factoryName]:t.factories[this.factoryName]&&(this.factory=t.factories[this.factoryName])),!this.factory){e.next=7;break}return t.factories[this.factoryName]=this.factory,e.next=5,this.fixedUtility.tools.timeout();case 5:e.next=16;break;case 7:return e.prev=7,e.next=10,t.applicationInterfaceLoad[this.factoryName];case 10:e.next=15;break;case 12:throw e.prev=12,e.t0=e['catch'](7),e.t0;case 15:t.factories[this.factoryName]=this.factory;case 16:case'end':return e.stop();}},e,this,[[7,12]])}));return function(){return e.apply(this,arguments)}}(),t.prototype.export=function(t){var a;this.model=[null,void 0].includes(t)?'':t.toString(),this.instance&&this.instance[this.contentSetterMethodName](this.model);for(var n=arguments.length,i=Array(1<n?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return(a=e.prototype.export).call.apply(a,[this,t].concat(i))},t.prototype.setDisabledState=function(e){this.disabled=e},t}(Yd),Xr.applicationInterfaceLoad={},Xr.factories={},eo),Hr=r(Br.prototype,'configuration',[qr],{enumerable:!0,initializer:function(){return{}}}),Kr=r(Br.prototype,'disabled',[Fr],{enumerable:!0,initializer:function(){return null}}),Yr=r(Br.prototype,'hostDomNode',[Gr],{enumerable:!0,initializer:function(){return this.hostDomNode}}),Jr=r(Br.prototype,'initialized',[Vr],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Zr=r(Br.prototype,'model',[$r],{enumerable:!0,initializer:function(){return''}}),Qr=r(Br.prototype,'modelChange',[Wr],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Br);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],ac);var nc=t.CodeEditorComponent=(to=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],providers:[{multi:!0,provide:qs.NG_VALUE_ACCESSOR,useExisting:(0,Ls.forwardRef)(function(){return nc})}],selector:'code-editor',template:'<textarea #hostDomNode></textarea>'}),ao=(0,Ls.Output)(),no=(0,Ls.Input)(),io=(0,Ls.Output)(),to(ro=(oo=(co=po=function(e){function t(a){s(this,t);var n=l(this,e.call(this,a));return i(n,'blur',lo,n),i(n,'configuration',mo,n),n.contentSetterMethodName='setValue',n.factoryName='CodeMirror',i(n,'focus',so,n),'object'!==y(t.applicationInterfaceLoad[n.factoryName])&&(t.applicationInterfaceLoad[n.factoryName]=Promise.all([new Promise(function(e){return n.fixedUtility.$('\n                        <link\n                            href="'+mp.path.base+mp.path.cascadingStyleSheet+'" rel="stylesheet"\n                            type="text/css"\n                        />\n                    ').appendTo('head').on('load',e)}),new Promise(function(e,t){return n.fixedUtility.$.ajax({cache:!0,dataType:'script',error:t,success:function(){n.factory=n.fixedUtility.globalContext[n.factoryName],e(n.factory)},url:mp.path.base+mp.path.script})})])),n}return m(t,e),t.prototype.ngAfterViewInit=function(){var a=this;return e.prototype.ngAfterViewInit.call(this).then(o(regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a.configuration.mode){e.next=22;break}if(!t.modesLoad.hasOwnProperty(a.configuration.mode)){e.next=13;break}if(!0===t.modesLoad[a.configuration.mode]){e.next=11;break}return e.prev=3,e.next=6,t.modesLoad[a.configuration.mode];case 6:e.next=11;break;case 8:throw e.prev=8,e.t0=e['catch'](3),e.t0;case 11:e.next=22;break;case 13:return t.modesLoad[a.configuration.mode]=new Promise(function(e,t){return a.fixedUtility.$.ajax({cache:!0,dataType:'script',error:t,success:e,url:a.configuration.path.base+a.configuration.path.mode.replace(/{mode}/g,a.configuration.mode)})}),e.prev=14,e.next=17,t.modesLoad[a.configuration.mode];case 17:e.next=22;break;case 19:throw e.prev=19,e.t1=e['catch'](14),e.t1;case 22:n=a.extendObject({},a.configuration,{readOnly:a.disabled}),delete n.path,a.instance=a.factory.fromTextArea(a.hostDomNode.nativeElement,n),a.instance[a.contentSetterMethodName](a.model),a.instance.on('blur',function(e,t){return a.blur.emit(t)}),a.instance.on('change',function(){a.onChangeCallback(a.instance.getValue()),a.modelChange.emit(a.model)}),a.instance.on('focus',function(e,t){return a.focus.emit(t)}),a.initialized.emit(a.instance);case 30:case'end':return e.stop();}},e,a,[[3,8],[14,19]])})))},t.prototype.setDisabledState=function(t){e.prototype.setDisabledState.call(this,t),this.instance&&this.instance.setOption('readOnly',this.disabled)},t}(ac),po.modesLoad={},co),lo=r(oo.prototype,'blur',[ao],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),mo=r(oo.prototype,'configuration',[no],{enumerable:!0,initializer:function(){return mp}}),so=r(oo.prototype,'focus',[io],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),oo))||ro);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],nc);var ic=t.TextEditorComponent=(uo=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],providers:[{multi:!0,provide:qs.NG_VALUE_ACCESSOR,useExisting:(0,Ls.forwardRef)(function(){return ic})}],selector:'text-editor',template:'<textarea #hostDomNode></textarea>'}),go=(0,Ls.Input)(),yo=(0,Ls.Output)(),fo=(0,Ls.Output)(),ho=(0,Ls.Output)(),bo=(0,Ls.Output)(),xo=(0,Ls.Output)(),vo=(0,Ls.Output)(),_o=(0,Ls.Output)(),No=(0,Ls.Output)(),Po=(0,Ls.Output)(),To=(0,Ls.Output)(),So=(0,Ls.Output)(),Io=(0,Ls.Output)(),Oo=(0,Ls.Output)(),Co=(0,Ls.Output)(),Eo=(0,Ls.Output)(),ko=(0,Ls.Output)(),Do=(0,Ls.Output)(),wo=(0,Ls.Output)(),Ao=(0,Ls.Output)(),Ro=(0,Ls.Output)(),Mo=(0,Ls.Output)(),zo=(0,Ls.Output)(),jo=(0,Ls.Output)(),Lo=(0,Ls.Output)(),Uo=(0,Ls.Output)(),qo=(0,Ls.Output)(),Fo=(0,Ls.Output)(),Go=(0,Ls.Output)(),Vo=(0,Ls.Output)(),$o=(0,Ls.Output)(),uo(Wo=(Bo=function(e){function t(a){s(this,t);var n=l(this,e.call(this,a));return i(n,'configuration',Ho,n),n.factoryName='tinymce',i(n,'click',Ko,n),i(n,'dblclick',Yo,n),i(n,'MouseDown',Jo,n),i(n,'MouseUp',Zo,n),i(n,'MouseMove',Qo,n),i(n,'MouseOver',Xo,n),i(n,'MouseOut',el,n),i(n,'MouseEnter',tl,n),i(n,'MouseLeave',al,n),i(n,'KeyDown',nl,n),i(n,'KeyPress',il,n),i(n,'KeyUp',rl,n),i(n,'ContextMenu',ol,n),i(n,'Paste',ll,n),i(n,'Focus',ml,n),i(n,'Blur',sl,n),i(n,'BeforeSetContent',pl,n),i(n,'SetContent',dl,n),i(n,'GetContent',cl,n),i(n,'PreProcess',ul,n),i(n,'PostProcess',gl,n),i(n,'NodeChange',yl,n),i(n,'Undo',fl,n),i(n,'Redo',hl,n),i(n,'Change',bl,n),i(n,'Dirty',xl,n),i(n,'Remove',vl,n),i(n,'ExecCommand',_l,n),i(n,'PastePreProcess',Nl,n),i(n,'PastePostProcess',Pl,n),'object'!==y(t.applicationInterfaceLoad[n.factoryName])&&(t.applicationInterfaceLoad[n.factoryName]=new Promise(function(e,t){return n.fixedUtility.$.ajax({cache:!0,dataType:'script',error:t,success:function(){n.factory=n.fixedUtility.globalContext.tinymce,e(n.factory)},url:pp.scriptPath})})),n}return m(t,e),t.prototype.ngAfterViewInit=function(){var t=this;return e.prototype.ngAfterViewInit.call(this).then(function(){var e=t.extendObject({},t.configuration);t.factory.baseURL=e.baseURL,delete e.baseURL,delete e.scriptPath,e.target=t.hostDomNode.nativeElement;var a=e.init_instance_callback;e.init_instance_callback=function(e){t.instance=e,t.instance[t.contentSetterMethodName](t.model),t.instance.on('Change',function(){t.onChangeCallback(t.instance.getContent()),t.modelChange.emit(t.model)}),a&&a(t.instance);for(var n=['click','dblclick','MouseDown','MouseUp','MouseMove','MouseOver','MouseOut','MouseEnter','MouseLeave','KeyDown','KeyPress','ContextMenu','Paste','Focus','Blur','BeforeSetContent','SetContent','GetContent','PreProcess','PostProcess','NodeChange','Undo','Redo','Change','Dirty','Remove','PastePreProcess','PastePostProcess'],i=0,r;i<n.length;i++)r=n[i],t.instance.on(r,t[r].emit.bind(t[r]));t.instance.on('KeyUp',function(e){t.KeyUp.emit(e),t.onChangeCallback(t.instance.getContent()),t.onTouchedCallback(),t.modelChange.emit(t.model)}),t.instance.on('ExecCommand',function(e){t.ExecCommand.emit(e);var a=t.instance.getContent();'string'==typeof a&&0<a.length&&(t.onChangeCallback(t.instance.getContent()),t.onTouchedCallback(),t.modelChange.emit(t.model))})},e.setup=function(e){return e.on('Init',function(){return t.initialized.emit(e)})},t.factory.init(e)})},t.prototype.ngOnDestroy=function(){this.instance&&this.factory.remove(this.instance)},t.prototype.setDisabledState=function(t){e.prototype.setDisabledState.call(this,t),this.instance&&this.instance.setMode(this.disabled?'readonly':'design')},t}(ac),Ho=r(Bo.prototype,'configuration',[go],{enumerable:!0,initializer:function(){return pp}}),Ko=r(Bo.prototype,'click',[yo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Yo=r(Bo.prototype,'dblclick',[fo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Jo=r(Bo.prototype,'MouseDown',[ho],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Zo=r(Bo.prototype,'MouseUp',[bo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Qo=r(Bo.prototype,'MouseMove',[xo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Xo=r(Bo.prototype,'MouseOver',[vo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),el=r(Bo.prototype,'MouseOut',[_o],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),tl=r(Bo.prototype,'MouseEnter',[No],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),al=r(Bo.prototype,'MouseLeave',[Po],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),nl=r(Bo.prototype,'KeyDown',[To],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),il=r(Bo.prototype,'KeyPress',[So],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),rl=r(Bo.prototype,'KeyUp',[Io],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),ol=r(Bo.prototype,'ContextMenu',[Oo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),ll=r(Bo.prototype,'Paste',[Co],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),ml=r(Bo.prototype,'Focus',[Eo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),sl=r(Bo.prototype,'Blur',[ko],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),pl=r(Bo.prototype,'BeforeSetContent',[Do],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),dl=r(Bo.prototype,'SetContent',[wo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),cl=r(Bo.prototype,'GetContent',[Ao],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),ul=r(Bo.prototype,'PreProcess',[Ro],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),gl=r(Bo.prototype,'PostProcess',[Mo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),yl=r(Bo.prototype,'NodeChange',[zo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),fl=r(Bo.prototype,'Undo',[jo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),hl=r(Bo.prototype,'Redo',[Lo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),bl=r(Bo.prototype,'Change',[Uo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),xl=r(Bo.prototype,'Dirty',[qo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),vl=r(Bo.prototype,'Remove',[Fo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),_l=r(Bo.prototype,'ExecCommand',[Go],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Nl=r(Bo.prototype,'PastePreProcess',[Vo],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Pl=r(Bo.prototype,'PastePostProcess',[$o],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Bo))||Wo);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],ic);var rc={editor:'\n        (blur)="focused = false"\n        @defaultAnimation\n        (focus)="focused = true"\n        [ngModel]="model.value"\n        (ngModelChange)="model.value = onChange($event, state); modelChange.emit(model)"\n        [style.visibilty]="initialized ? \'visible\' : \'hidden\'"\n        #state="ngModel"\n    ',nativ:'\n        [name]="model.name"\n        [ngModel]="model.value"\n        (ngModelChange)="model.value = onChange($event, state); modelChange.emit(model)"\n        [placeholder]="description === \'\' ? null : description ? description : (model.description || model.name)"\n        [required]="required === null ? !model.nullable : required"\n        #state="ngModel"\n    ',nativText:'\n        [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"\n        [maxlength]="maximumLength === null ? (model.type === \'string\' ? model.maximumLength : null) : maximumLength"\n        [minlength]="minimumLength === null ? (model.type === \'string\' ? model.minimumLength : null) : minimumLength"\n        [pattern]="pattern === null ? (model.type === \'string\' ? model.regularExpressionPattern : null) : pattern"\n    ',wrapper:'\n        [declaration]="declaration"\n        [description]="description"\n        [disabled]="disabled"\n        [showDeclarationText]="showDeclarationText"\n        [maximum]="maximum"\n        [maximumLength]="maximumLength"\n        [maximumLengthText]="maximumLengthText"\n        [maximumText]="maximumText"\n        [minimum]="minimum"\n        [minimumLength]="minimumLength"\n        [minimumLengthText]="minimumLengthText"\n        [minimumText]="minimumText"\n        [model]="model"\n        [pattern]="pattern"\n        [required]="required"\n        [requiredText]="requiredText"\n        [patternText]="patternText"\n        [showValidationErrorMessages]="showValidationErrorMessages"\n        [type]="type"\n    '},oc='\n    <mat-hint align="start" @defaultAnimation matTooltip="info">\n        <span\n            [class.active]="showDeclaration"\n            (click)="showDeclaration = !showDeclaration"\n            *ngIf="declaration || model.declaration"\n        >\n            <a\n                (click)="$event.preventDefault()"\n                @defaultAnimation\n                href=""\n                *ngIf="showDeclarationText"\n            >{{showDeclarationText}}</a>\n            <span @defaultAnimation *ngIf="showDeclaration">\n                {{declaration || model.declaration}}\n            </span>\n        </span>\n        <span *ngIf="editor && selectableEditor && !model.disabled">\n            <span *ngIf="declaration || model.declaration">|</span>\n            <a\n                [class.active]="activeEditor"\n                (click)="$event.preventDefault(); $event.stopPropagation(); activeEditor = true"\n                href=""\n            >editor</a>\n            <span>|</span>\n            <a\n                [class.active]="!activeEditor"\n                (click)="$event.preventDefault(); $event.stopPropagation(); activeEditor = false"\n                href=""\n            >plain</a>\n        </span>\n    </mat-hint>\n    <span generic-error *ngIf="showValidationErrorMessages">\n        <p @defaultAnimation *ngIf="model.state?.errors?.maxlength">\n            {{maximumLengthText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.max">\n            {{maximumText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.minlength">\n            {{minimumLengthText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.min">\n            {{minimumText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.pattern">\n            {{patternText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.required">\n            {{requiredText | genericStringTemplate:model}}\n        </p>\n    </span>\n    <mat-hint\n        align="end"\n        @defaultAnimation\n        *ngIf="!model.selection && model.type === \'string\' && model.maximumLength !== null && model.maximumLength < 100"\n    >{{model.value?.length}} / {{model.maximumLength}}</mat-hint>\n',lc=t.InputComponent=(Tl=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],selector:'generic-input',template:'\n        <generic-textarea\n            '+rc.wrapper+'\n            [activeEditor]="activeEditor"\n            [editor]="editor"\n            [maximumNumberOfRows]="maximumNumberOfRows"\n            [minimumNumberOfRows]="minimumNumberOfRows"\n            *ngIf="editor || model.editor; else simpleInput"\n            [rows]="rows"\n            [selectableEditor]="selectableEditor"\n        ><ng-content></ng-content></generic-textarea>\n        <ng-template #simpleInput><generic-simple-input\n            '+rc.wrapper+'\n            [labels]="labels"\n        ><ng-content></ng-content></generic-simple-input></ng-template>\n    '}),Sl=(0,Ls.Input)(),Il=(0,Ls.Input)(),Ol=(0,Ls.Input)(),Cl=(0,Ls.Input)(),El=(0,Ls.Input)(),kl=(0,Ls.Input)(),Dl=(0,Ls.Input)(),wl=(0,Ls.Input)(),Tl(Al=(Rl=function(e){function t(){var a,n,r;s(this,t);for(var o=arguments.length,m=Array(o),p=0;p<o;p++)m[p]=arguments[p];return r=(a=(n=l(this,e.call.apply(e,[this].concat(m))),n),i(n,'activeEditor',Ml,n),i(n,'editor',zl,n),i(n,'labels',jl,n),i(n,'maximumNumberOfRows',Ll,n),i(n,'minimumNumberOfRows',Ul,n),i(n,'rows',ql,n),i(n,'selectableEditor',Fl,n),i(n,'type',Gl,n),a),l(n,r)}return m(t,e),t}(Wd),Ml=r(Rl.prototype,'activeEditor',[Sl],{enumerable:!0,initializer:function(){return null}}),zl=r(Rl.prototype,'editor',[Il],{enumerable:!0,initializer:function(){return null}}),jl=r(Rl.prototype,'labels',[Ol],{enumerable:!0,initializer:function(){return{}}}),Ll=r(Rl.prototype,'maximumNumberOfRows',[Cl],{enumerable:!0,initializer:function(){return this.maximumNumberOfRows}}),Ul=r(Rl.prototype,'minimumNumberOfRows',[El],{enumerable:!0,initializer:function(){return this.minimumNumberOfRows}}),ql=r(Rl.prototype,'rows',[kl],{enumerable:!0,initializer:function(){return this.rows}}),Fl=r(Rl.prototype,'selectableEditor',[Dl],{enumerable:!0,initializer:function(){return null}}),Gl=r(Rl.prototype,'type',[wl],{enumerable:!0,initializer:function(){return this.type}}),Rl))||Al),mc=t.SimpleInputComponent=(Vl=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],selector:'generic-simple-input',template:'\n        <ng-container\n            @defaultAnimation *ngIf="model.selection; else textInput"\n        >\n            <mat-form-field>\n                <mat-select [(ngModel)]="model.value" '+rc.nativ+'>\n                    <mat-option\n                        *ngFor="let value of model.selection" [value]="value"\n                    >\n                        {{labels.hasOwnProperty(value) ? labels[value] : value}}\n                    </mat-option>\n                </mat-select>\n                '+oc+'\n                <ng-content></ng-content>\n            </mat-form-field>\n        </ng-container>\n        <ng-template #textInput><mat-form-field>\n            <input\n                '+rc.nativ+'\n                '+rc.nativText+'\n                [max]="maximum === null ? (model.type === \'number\' ? model.maximum : null) : maximum"\n                matInput\n                [min]="minimum === null ? (model.type === \'number\' ? model.minimum : null) : minimum"\n                [type]="type ? type : model.name.startsWith(\'password\') ? \'password\' : model.type === \'string\' ? \'text\' : \'number\'"\n            />\n            '+oc+'\n            <ng-content></ng-content>\n        </mat-form-field></ng-template>\n    '}),$l=(0,Ls.Input)(),Wl=(0,Ls.Input)(),Vl(Bl=(Hl=function(e){function t(a){s(this,t);var n=l(this,e.call(this,a));return i(n,'labels',Kl,n),i(n,'type',Yl,n),n}return m(t,e),t}(Bd),Kl=r(Hl.prototype,'labels',[$l],{enumerable:!0,initializer:function(){return{}}}),Yl=r(Hl.prototype,'type',[Wl],{enumerable:!0,initializer:function(){return this.type}}),Hl))||Bl);Reflect.defineMetadata('design:paramtypes',[Ls.Injector],mc);var sc=t.TextareaComponent=(Jl=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],selector:'generic-textarea',template:'\n        <ng-container *ngIf="activeEditor; else plain">\n            <span [class.focused]="focused" class="editor-label">\n                {{\n                    description === \'\' ? null : description ? description : (\n                        model.description || model.name\n                    )\n                }}\n            </span>\n            <code-editor\n                '+rc.editor+'\n                [configuration]="editor"\n                [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"\n                (initialized)="initialized = true"\n                *ngIf="editorType === \'code\' || editor.indentUnit; else tinymce"\n            ></code-editor>\n            <ng-template #tinymce><text-editor\n                '+rc.editor+'\n                [configuration]="editor"\n                [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"\n                (initialized)="initialized = true"\n            ></text-editor></ng-template>\n            '+oc+'\n            <ng-content></ng-content>\n        </ng-container>\n        <ng-template #plain><mat-form-field @defaultAnimation>\n            <textarea\n                '+rc.nativ+'\n                '+rc.nativText+'\n                [matAutosizeMaxRows]="maximumNumberOfRows"\n                [matAutosizeMinRows]="minimumNumberOfRows"\n                matInput\n                matTextareaAutosize\n                [rows]="rows"\n            ></textarea>\n            '+oc+'\n            <ng-content></ng-content>\n        </mat-form-field></ng-template>\n    '}),Zl=(0,Ls.Input)(),Ql=(0,Ls.Input)(),Xl=(0,Ls.Input)(),em=(0,Ls.Input)(),tm=(0,Ls.Input)(),am=(0,Ls.Input)(),Jl(nm=(im=(cm=dm=function(e){function t(a,n){s(this,t);var r=l(this,e.call(this,n));return i(r,'activeEditor',rm,r),i(r,'editor',om,r),r.editorType='custom',i(r,'maximumNumberOfRows',lm,r),i(r,'minimumNumberOfRows',mm,r),i(r,'rows',sm,r),i(r,'selectableEditor',pm,r),a.configuration.hasOwnProperty('defaultEditorOptions')&&'object'===y(a.configuration.defaultEditorOptions)&&null!==a.configuration.defaultEditorOptions&&(t.defaultEditorOptions=a.configuration.defaultEditorOptions),r}return m(t,e),t.prototype.ngOnInit=function(){for(var a=arguments.length,n=Array(a),i=0,r;i<a;i++)n[i]=arguments[i];(r=e.prototype.ngOnInit).call.apply(r,[this].concat(n)),null===this.editor&&this.model.editor&&(this.editor=this.model.editor),'string'==typeof this.editor?(this.editor.startsWith('!')&&(this.editor=this.editor.substring(1),null===this.selectableEditor&&(this.selectableEditor=!1)),this.editor.startsWith('(')&&this.editor.endsWith(')')?this.editor=this.editor.substring(1,this.editor.length-1):null===this.activeEditor&&(this.activeEditor=!0),this.editorType=this.editor,this.editor=this.editor.startsWith('code')?this.editor.startsWith('code:')?{mode:this.editor.substring(5)}:{}:'raw'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | code | fullscreen',toolbar2:!1}:'simple'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | bold italic underline strikethrough subscript superscript | fullscreen',toolbar2:!1}:'normal'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | styleselect formatselect | searchreplace visualblocks fullscreen code'}:{}):null===this.editor&&this.activeEditor&&(this.editor={}),null===this.activeEditor&&(this.activeEditor=!1),null===this.selectableEditor&&('boolean'==typeof this.model.selectableEditor?this.selectableEditor=this.model.selectableEditor:this.selectableEditor=!0),'object'===y(this.editor)&&null!==this.editor?this.editorType.startsWith('code')||this.editor.indentUnit?this.editor=this._extendObject(!0,{},mp,t.defaultEditorOptions.code,this.editor):this.editor=this._extendObject(!0,{},pp,t.defaultEditorOptions.markup,this.editor):this.selectableEditor=!1},t}(Bd),dm.defaultEditorOptions={code:{},markup:{}},cm),rm=r(im.prototype,'activeEditor',[Zl],{enumerable:!0,initializer:function(){return null}}),om=r(im.prototype,'editor',[Ql],{enumerable:!0,initializer:function(){return null}}),lm=r(im.prototype,'maximumNumberOfRows',[Xl],{enumerable:!0,initializer:function(){return this.maximumNumberOfRows}}),mm=r(im.prototype,'minimumNumberOfRows',[em],{enumerable:!0,initializer:function(){return this.minimumNumberOfRows}}),sm=r(im.prototype,'rows',[tm],{enumerable:!0,initializer:function(){return this.rows}}),pm=r(im.prototype,'selectableEditor',[am],{enumerable:!0,initializer:function(){return null}}),im))||nm);Reflect.defineMetadata('design:paramtypes',[cp,Ls.Injector],sc);var pc=t.FileInputComponent=(um=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy[ep],selector:'generic-file-input',template:'\n        <mat-card>\n            <mat-card-header\n                @defaultAnimation\n                *ngIf="headerText !== \'\' && (headerText || file?.name || model[attachmentTypeName][internalName]?.declaration || headerText || file?.name || name || model[attachmentTypeName][internalName]?.description || name)"\n            >\n                <mat-card-title>\n                    <span\n                        @defaultAnimation\n                        *ngIf="!editableName || revision || headerText || !file?.name; else editable"\n                    >\n                        {{\n                            headerText ||\n                            file?.name ||\n                            model[attachmentTypeName][\n                                internalName\n                            ]?.description ||\n                            name\n                        }}\n                    </span>\n                    <ng-template #editable>\n                        <ng-container *ngIf="synchronizeImmediately; else parent">\n                            <mat-form-field\n                                [class.dirty]="editedName && editedName !== file.name"\n                                matTooltip="Focus to edit."\n                            >\n                                <input\n                                    matInput\n                                    [ngModel]="editedName || file.name"\n                                    (ngModelChange)="editedName = $event"\n                                />\n                                <mat-hint\n                                    [class.active]="showDeclaration"\n                                    (click)="showDeclaration = !showDeclaration"\n                                    @defaultAnimation\n                                    matTooltip="info"\n                                    *ngIf="model[attachmentTypeName][internalName]?.declaration"\n                                >\n                                    <a\n                                        (click)="$event.preventDefault()"\n                                        @defaultAnimation\n                                        href=""\n                                        *ngIf="showDeclarationText"\n                                    >{{showDeclarationText}}</a>\n                                    <span\n                                        @defaultAnimation\n                                        *ngIf="showDeclaration"\n                                    >\n                                        {{\n                                            model[attachmentTypeName][\n                                                internalName\n                                            ].declaration\n                                        }}\n                                    </span>\n                                </mat-hint>\n                            </mat-form-field>\n                            <ng-container\n                                *ngIf="editedName && editedName !== file.name"\n                            >\n                                <a\n                                    (click)="$event.preventDefault();rename(editedName)"\n                                    @defaultAnimation\n                                    href=""\n                                >{{saveNameText}}</a>\n                                <a\n                                    (click)="$event.preventDefault();editedName = file.name"\n                                    @defaultAnimation\n                                    href=""\n                                >{{resetNameText}}</a>\n                            </ng-container>\n                        </ng-container>\n                        <ng-template #parent><mat-form-field\n                            [class.dirty]="file.initialName !== file.name"\n                            @defaultAnimation\n                            matTooltip="Focus to edit."\n                            *ngIf="!synchronizeImmediately"\n                        >\n                            <input\n                                matInput [ngModel]="file.name"\n                                (ngModelChange)="file.name = $event;modelChange.emit(this.model); fileChange.emit(file)"\n                            />\n                            <mat-hint\n                                [class.active]="showDeclaration"\n                                (click)="showDeclaration = !showDeclaration"\n                                @defaultAnimation\n                                matTooltip="info"\n                                *ngIf="model[attachmentTypeName][internalName]?.declaration"\n                            >\n                                <a\n                                    (click)="$event.preventDefault()"\n                                    @defaultAnimation\n                                    href=""\n                                    *ngIf="showDeclarationText"\n                                >{{showDeclarationText}}</a>\n                                <span\n                                    @defaultAnimation\n                                    *ngIf="showDeclaration"\n                                >\n                                    {{\n                                        model[attachmentTypeName][\n                                            internalName\n                                        ].declaration\n                                    }}\n                                </span>\n                            </mat-hint>\n                        </mat-form-field></ng-template>\n                    </ng-template>\n                </mat-card-title>\n            </mat-card-header>\n            <img mat-card-image\n                [attr.alt]="name"\n                [attr.src]="file.source"\n                @defaultAnimation\n                *ngIf="file?.type === \'image\' && file?.source"\n            >\n            <video\n                autoplay\n                @defaultAnimation\n                mat-card-image\n                muted\n                *ngIf="file?.type === \'video\' && file?.source"\n                loop\n            >\n                <source [attr.src]="file.source" [type]="file.content_type">\n                No preview possible.\n            </video>\n            <iframe\n                @defaultAnimation\n                *ngIf="file?.type === \'text\' && file?.source"\n                [src]="file.source"\n                style="border: none; width: 100%; max-height: 150px"\n            ></iframe>\n            <div\n                @defaultAnimation\n                mat-card-image\n                *ngIf="(!file?.type && (file?.source || (file?.source | genericType) === \'string\') ? noPreviewText : noFileText) as text"\n            ><p>{{text}}</p></div>\n            <mat-card-content>\n                <ng-content></ng-content>\n                <div\n                    @defaultAnimation\n                    generic-error\n                    *ngIf="showValidationErrorMessages && model[attachmentTypeName][internalName]?.state?.errors"\n                >\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.contentType"\n                    >\n                        {{\n                            typePatternText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.database"\n                    >\n                        {{\n                            model[attachmentTypeName][\n                                internalName\n                            ].state.errors.database\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.maximumSize"\n                    >\n                        {{\n                            maximumSizeText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.minimumSize"\n                    >\n                        {{\n                            minimumSizeText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.name"\n                    >\n                        {{\n                            namePatternText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.required"\n                    >\n                        {{\n                            requiredText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                </div>\n            </mat-card-content>\n            <mat-card-actions>\n                <input #input style="display: none" type="file" />\n                <button\n                    @defaultAnimation\n                    (click)="input.click()"\n                    mat-raised-button\n                    *ngIf="newButtonText"\n                >{{newButtonText}}</button>\n                <button\n                    (click)="remove()"\n                    @defaultAnimation\n                    mat-raised-button\n                    *ngIf="deleteButtonText && file"\n                >{{deleteButtonText}}</button>\n                <button mat-raised-button\n                    @defaultAnimation\n                    *ngIf="downloadButtonText && file"\n                ><a [download]="file.name" [href]="file.source">\n                    {{downloadButtonText}}\n                </a></button>\n            </mat-card-actions>\n        </mat-card>\n    '}),gm=(0,Ls.Input)(),ym=(0,Ls.Output)(),fm=(0,Ls.Input)(),hm=(0,Ls.Input)(),bm=(0,Ls.Input)(),xm=(0,Ls.Output)(),vm=(0,Ls.Input)(),_m=(0,Ls.Input)(),Nm=(0,Ls.ViewChild)('input'),Pm=(0,Ls.Input)(),Tm=(0,Ls.Input)(),Sm=(0,Ls.Input)(),Im=(0,Ls.Input)(),Om=(0,Ls.Input)(),Cm=(0,Ls.Input)(),Em=(0,Ls.Input)(),km=(0,Ls.Output)(),Dm=(0,Ls.Input)(),wm=(0,Ls.Input)(),Am=(0,Ls.Input)(),Rm=(0,Ls.Input)(),Mm=(0,Ls.Input)(),zm=(0,Ls.Input)(),jm=(0,Ls.Input)(),Lm=(0,Ls.Input)(),Um=(0,Ls.Input)(),qm=(0,Ls.Input)(),Fm=(0,Ls.Input)(),um(Gm=(Vm=(xs=bs=function(){function e(t,a,n,r,o,l,m,p,d,c){var u;s(this,e),this.abstractResolver=this.abstractResolver,this.attachmentTypeName=this.attachmentTypeName,i(this,'autoMessages',$m,this),this.configuration=this.configuration,i(this,'delete',Wm,this),i(this,'deleteButtonText',Bm,this),this.deletedName=this.deletedName,i(this,'downloadButtonText',Hm,this),i(this,'editableName',Km,this),this.file=null,i(this,'fileChange',Ym,this),i(this,'filter',Jm,this),i(this,'headerText',Zm,this),this.idName=this.idName,i(this,'input',Qm,this),i(this,'resetNameText',Xm,this),i(this,'saveNameText',es,this),i(this,'showDeclarationText',ts,this),this.typeName=this.typeName,this.internalName=this.internalName,this.keyCode=this.keyCode,i(this,'mapNameToField',as,this),i(this,'maximumSizeText',ns,this),i(this,'minimumSizeText',is,this),i(this,'model',rs,this),i(this,'modelChange',os,this),i(this,'name',ls,this),i(this,'namePatternText',ms,this),i(this,'newButtonText',ss,this),i(this,'noFileText',ps,this),i(this,'noPreviewText',ds,this),i(this,'oneDocumentPerFileMode',cs,this),i(this,'requiredText',us,this),i(this,'revision',gs,this),this.revisionName=this.revisionName,i(this,'showValidationErrorMessages',ys,this),i(this,'synchronizeImmediately',fs,this),this.template=this.template,i(this,'typePatternText',hs,this),this._data=this._data,this._domSanitizer=this._domSanitizer,this._extendObject=this._extendObject,this._getFilenameByPrefix=this._getFilenameByPrefix,this._idIsObject=!1,this._representObject=this._representObject,this._stringFormat=this._stringFormat,this._prefixMatch=!1,this.abstractResolver=t,this.configuration=l.configuration,this.attachmentTypeName=this.configuration.database.model.property.name.special.attachment,this.keyCode=c.fixed.tools.keyCode,this.deletedName=this.configuration.database.model.property.name.special.deleted,this.idName=this.configuration.database.model.property.name.special.id,this.model=(u={},u[this.attachmentTypeName]={},u.id=null,u),this.revisionName=this.configuration.database.model.property.name.special.revision,this.template=d.transform.bind(d),this.typeName=this.configuration.database.model.property.name.special.type,this._data=a,this._domSanitizer=n,this._extendObject=r.transform.bind(r),this._getFilenameByPrefix=o.transform.bind(o),this._representObject=m.transform.bind(m),this._stringFormat=p.transform.bind(p)}return e.prototype.determinePresentationType=function(){this.file&&this.file.content_type&&(e.textMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='text':e.imageMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='image':e.videoMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='video':this.file.type='binary')},e.prototype.ngOnChanges=function(){var e=o(regeneratorRuntime.mark(function e(t){var a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if('object'===y(this.model[this.idName])&&(this._idIsObject=!0),t.hasOwnProperty('mapNameToField')&&this.mapNameToField&&!Array.isArray(this.mapNameToField)&&(this.mapNameToField=[this.mapNameToField]),(t.hasOwnProperty('model')||t.hasOwnProperty('name'))&&(this.internalName=this._getFilenameByPrefix(this.model[this.attachmentTypeName],this.name),this.name&&this.internalName&&this.internalName!==this.name&&(this._prefixMatch=!0),this.model[this.attachmentTypeName][this.internalName].state={},this.file=this.model[this.attachmentTypeName][this.internalName].value,this.file?this.file.initialName=this.file.name:!this.model[this.attachmentTypeName][this.internalName].nullable&&(this.model[this.attachmentTypeName][this.internalName].state.errors={required:!0})),!(t.hasOwnProperty('model')||t.hasOwnProperty('name')||t.hasOwnProperty('revision'))){e.next=24;break}if(!this.file){e.next=21;break}if(this.file.query='?version='+this.file.digest,this.file.source){e.next=21;break}if(a=this._idIsObject?this.model[this.idName].value:this.model[this.idName],!(this.revision&&t.revision.currentValue!==t.revision.previousValue)){e.next=20;break}return e.prev=9,e.next=12,this.retrieveAttachment(a,{rev:this.revision});case 12:e.next=18;break;case 14:return e.prev=14,e.t0=e['catch'](9),this.model[this.attachmentTypeName][this.internalName].state.errors.database='message'in e.t0?e.t0.message:this._representObject(e.t0),e.abrupt('return');case 18:e.next=21;break;case 20:this.file.source=this._domSanitizer.bypassSecurityTrustResourceUrl(this._stringFormat(this.configuration.database.url,'')+'/'+(this.configuration.name||'generic')+('/'+a+'/'+this.file.name)+this.file.query);case 21:this.determinePresentationType(),this.modelChange.emit(this.model),this.fileChange.emit(this.file);case 24:case'end':return e.stop();}},e,this,[[9,14]])}));return function(){return e.apply(this,arguments)}}(),e.prototype.ngAfterViewInit=function(){var e=this;this.input.nativeElement.addEventListener('change',function(){if(0<e.input.nativeElement.files.length){e.file={content_type:e.input.nativeElement.files[0].type||'text/plain',data:e.input.nativeElement.files[0],initialName:e.input.nativeElement.files[0].name,length:e.input.nativeElement.files[0].size,name:e.input.nativeElement.files[0].name};for(var t=['content_type','name'],a=e.filter,n=Array.isArray(a),i=0,a=n?a:a[Symbol.iterator]();;){var r;if(n){if(i>=a.length)break;r=a[i++]}else{if(i=a.next(),i.done)break;r=i.value}for(var o=r,l=!0,m=t,s=Array.isArray(m),p=0,m=s?m:m[Symbol.iterator]();;){var d;if(s){if(p>=m.length)break;d=m[p++]}else{if(p=m.next(),p.done)break;d=p.value}var c=d;if(o.hasOwnProperty('source')&&o.source.hasOwnProperty(c)&&!new RegExp(o.source[c],'g').test(e.file[c])){l=!1;break}}if(l)for(var u=t,g=Array.isArray(u),y=0,u=g?u:u[Symbol.iterator]();;){var f;if(g){if(y>=u.length)break;f=u[y++]}else{if(y=u.next(),y.done)break;f=y.value}var h=f;o.target.hasOwnProperty(h)&&(e.file[h]=o.hasOwnProperty(h)&&o.source.hasOwnProperty(h)?e.file[h].replace(new RegExp(o.source[h],'g'),o.target[h]):o.target[h])}}e.update(e.file?e.file.name:null)}})},e.prototype.remove=function(){var e=o(regeneratorRuntime.mark(function e(){var t,a,n,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.synchronizeImmediately&&this.file)){e.next=15;break}return n=void 0,i=(t={},t[this.typeName]=this.model[this.typeName],t[this.idName]=this._idIsObject?this.model[this.idName].value:this.model[this.idName],t[this.revisionName]=this.model[this.revisionName],t),this.oneDocumentPerFileMode?i[this.deletedName]=!0:i[this.attachmentTypeName]=(a={},a[this.file.name]={content_type:'text/plain',data:null},a),e.prev=4,e.next=7,this._data.put(i);case 7:n=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e['catch'](4),this.model[this.attachmentTypeName][this.internalName].state.errors={database:'message'in e.t0?e.t0.message:this._representObject(e.t0)},e.abrupt('return');case 14:this.mapNameToField&&this.mapNameToField.includes(this.idName)?this.delete.emit(n):this.model[this.revisionName]=n.rev;case 15:this.model[this.attachmentTypeName][this.internalName].state.errors=this.model[this.attachmentTypeName][this.internalName].value=this.file=null,this.model[this.attachmentTypeName][this.internalName].nullable||(this.model[this.attachmentTypeName][this.internalName].state.errors={required:!0}),this.modelChange.emit(this.model),this.fileChange.emit(this.file);case 19:case'end':return e.stop();}},e,this,[[4,10]])}));return function(){return e.apply(this,arguments)}}(),e.prototype.rename=function(){var e=o(regeneratorRuntime.mark(function e(t){var a,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this._idIsObject?this.model[this.idName].value:this.model[this.idName],n=this.file.name,!(this.file.stub&&this.mapNameToField&&a&&this.mapNameToField.includes(this.idName))){e.next=12;break}return e.prev=3,e.next=6,this.retrieveAttachment(a);case 6:e.next=12;break;case 8:return e.prev=8,e.t0=e['catch'](3),this.model[this.attachmentTypeName][this.internalName].state.errors={database:'message'in e.t0?e.t0.message:this._representObject(e.t0)},e.abrupt('return');case 12:return this.file.name=t,e.abrupt('return',this.update(n));case 14:case'end':return e.stop();}},e,this,[[3,8]])}));return function(){return e.apply(this,arguments)}}(),e.prototype.retrieveAttachment=function(){var e=o(regeneratorRuntime.mark(function e(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._data.getAttachment(t,this.file.name,n);case 2:if(i=e.sent,e.t0=i.type||'text/plain','undefined'!=typeof Blob){e.next=8;break}e.t1=i.toString('base64'),e.next=11;break;case 8:return e.next=10,a(18).blobToBase64String(i);case 10:e.t1=e.sent;case 11:e.t2=e.t1,e.t3=i.size,e.t4=this.file.name,this.file={content_type:e.t0,data:e.t2,length:e.t3,name:e.t4},this.file.source=this._domSanitizer.bypassSecurityTrustResourceUrl('data:'+this.file.content_type+';base64,'+this.file.data);case 16:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),e.prototype.update=function(){var e=o(regeneratorRuntime.mark(function e(t){var a=this,n,i,r,o,l,m,s,p,d,c,u,g,f,h,b,x,v,_,N,P,T,S,I,O,C;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.model[this.attachmentTypeName][this.internalName].state={},this._prefixMatch&&(n=this.file.name.lastIndexOf('.'),this.file.name=[0,-1].includes(n)?this.name:this.name+this.file.name.substring(n)),this.model[this.attachmentTypeName][this.internalName].value=this.file,this.model[this.attachmentTypeName][this.internalName].state.errors||(this.model[this.attachmentTypeName][this.internalName].state.errors={}),new RegExp(this.internalName).test(this.file.name)||(this.model[this.attachmentTypeName][this.internalName].state.errors={name:!0}),[void 0,null].includes(this.model[this.attachmentTypeName][this.internalName].contentTypeRegularExpressionPattern)||new RegExp(this.model[this.attachmentTypeName][this.internalName].contentTypeRegularExpressionPattern).test(this.file.content_type)||(this.model[this.attachmentTypeName][this.internalName].state.errors.contentType=!0),[void 0,null].includes(this.model[this.attachmentTypeName][this.internalName].minimumSize)||this.model[this.attachmentTypeName][this.internalName].minimumSize<=this.file.length||(this.model[this.attachmentTypeName][this.internalName].state.errors.minimuSize=!0),[void 0,null].includes(this.model[this.attachmentTypeName][this.internalName].maximumSize)||this.model[this.attachmentTypeName][this.internalName].maximumSize>=this.file.length||(this.model[this.attachmentTypeName][this.internalName].state.errors.maximumSize=!0),0===Object.keys(this.model[this.attachmentTypeName][this.internalName].state.errors).length)delete this.model[this.attachmentTypeName][this.internalName].state.errors;else{for(r in i='There was encountered an error during uploading file "'+(this.file.name+'": '),this.model[this.attachmentTypeName][this.internalName].state.errors)this.model[this.attachmentTypeName][this.internalName].state.errors.hasOwnProperty(r)&&(i+='\n'+r+' - '+this.template(this[{contentType:'typePatternText',maximumSize:'maximumSizeText',minimumSize:'minimumSizeText',name:'namePatternText',required:'requiredText'}[r]],{attachmentTypeName:this.attachmentTypeName,file:this.file,internalName:this.internalName,model:this.model[this.attachmentTypeName][this.internalName]}));this.abstractResolver.message(i)}if(!this.synchronizeImmediately||this.model[this.attachmentTypeName][this.internalName].state.errors){e.next=76;break}if(s=(o={},o[this.typeName]=this.model[this.typeName],o[this.idName]=this._idIsObject?this.model[this.idName].value:this.model[this.idName],o),null!==this.synchronizeImmediately&&'object'===y(this.synchronizeImmediately)){for(d in p={},this.synchronizeImmediately)this.synchronizeImmediately.hasOwnProperty(d)&&(p[d]=this.template(this.synchronizeImmediately[d],this.file));this._extendObject(!0,s,p)}if(c=this._idIsObject?this.model[this.idName].value:this.model[this.idName],t&&t!==this.file.name&&!(this.mapNameToField&&c&&this.mapNameToField.includes(this.idName))&&(s[this.attachmentTypeName]=(l={},l[t]={data:null},l)),[void 0,null].includes(this.model[this.revisionName])||(s[this.revisionName]=this.model[this.revisionName]),u=[],!this.mapNameToField){e.next=34;break}c&&c!==this.file.name&&this.mapNameToField.includes(this.idName)&&(s[this.deletedName]=!0,u.unshift(s),s=this._extendObject(!0,{},s,(g={},g[this.deletedName]=!1,g))),f=this.mapNameToField,h=Array.isArray(f),b=0,f=h?f:f[Symbol.iterator]();case 19:if(!h){e.next=25;break}if(!(b>=f.length)){e.next=22;break}return e.abrupt('break',34);case 22:x=f[b++],e.next=29;break;case 25:if(b=f.next(),!b.done){e.next=28;break}return e.abrupt('break',34);case 28:x=b.value;case 29:v=x,s[v]=this.file.name,v===this.idName&&this._idIsObject?this.model[v].value=this.file.name:this.model[v]=this.file.name;case 32:e.next=19;break;case 34:return s[this.revisionName]='upsert',s[this.attachmentTypeName]=(m={},m[this.file.name]={content_type:this.file.content_type,data:this.file.data},m),u.unshift(s),_=void 0,e.prev=38,e.next=41,this._data.bulkDocs(u);case 41:_=e.sent,e.next=49;break;case 44:return e.prev=44,e.t0=e['catch'](38),this.model[this.attachmentTypeName][this.internalName].state.errors={database:'message'in e.t0?e.t0.message:this._representObject(e.t0)},this.autoMessages&&this.abstractResolver.message('Database has encountered an error during uploading file "'+this.file.name+'": '+this.model[this.attachmentTypeName][this.internalName].state.errors.database),e.abrupt('return');case 49:c=s[this.idName],N=void 0,P=_,T=Array.isArray(P),S=0,P=T?P:P[Symbol.iterator]();case 52:if(!T){e.next=58;break}if(!(S>=P.length)){e.next=55;break}return e.abrupt('break',70);case 55:I=P[S++],e.next=62;break;case 58:if(S=P.next(),!S.done){e.next=61;break}return e.abrupt('break',70);case 61:I=S.value;case 62:if(O=I,!O.error){e.next=67;break}return this.model[this.attachmentTypeName][this.internalName].state.errors={database:O.message},this.autoMessages&&this.abstractResolver.message('Database has encountered an error during uploading file "'+this.file.name+'": '+O.message),e.abrupt('return');case 67:O.id===c&&(N=O.rev);case 68:e.next=52;break;case 70:this.file&&(this.file.revision=this.model[this.revisionName]=N,this.file.query='?rev='+N,this.file.source=this._domSanitizer.bypassSecurityTrustResourceUrl(this._stringFormat(this.configuration.database.url,'')+('/'+this.configuration.name+'/'+c+'/')+(''+this.file.name+this.file.query)),this.determinePresentationType()),this.autoMessages&&this.abstractResolver.message('Uploading file '+this.file.name+' was succesful.'),this.modelChange.emit(this.model),this.fileChange.emit(this.file),e.next=77;break;case 76:this.file.data&&(this.determinePresentationType(),C=new FileReader,C.onload=function(e){if(a.file.digest=new Date().getTime(),a.file.source=a._domSanitizer.bypassSecurityTrustResourceUrl(e.target.result),a.mapNameToField)for(var t=a.mapNameToField,n=Array.isArray(t),i=0,t=n?t:t[Symbol.iterator]();;){var r;if(n){if(i>=t.length)break;r=t[i++]}else{if(i=t.next(),i.done)break;r=i.value}var o=r;a.model[o]=a.file.name}a.modelChange.emit(a.model),a.fileChange.emit(a.file)},C.readAsDataURL(this.file.data));case 77:case'end':return e.stop();}},e,this,[[38,44]])}));return function(){return e.apply(this,arguments)}}(),e}(),bs.imageMimeTypeRegularExpression=/^image\/(?:p?jpe?g|png|svg(?:\+xml)?|vnd\.microsoft\.icon|gif|tiff|webp|vnd\.wap\.wbmp|x-(?:icon|jng|ms-bmp))$/,bs.textMimeTypeRegularExpression=/^(?:application\/xml)|(?:text\/(?:plain|x-ndpb[wy]html|(?:x-)?csv))$/,bs.videoMimeTypeRegularExpression=/^video\/(?:(?:x-)?(?:x-)?webm|3gpp|mp2t|mp4|mpeg|quicktime|(?:x-)?flv|(?:x-)?m4v|(?:x-)mng|x-ms-as|x-ms-wmv|x-msvideo)|(?:application\/(?:x-)?shockwave-flash)$/,xs),$m=r(Vm.prototype,'autoMessages',[gm],{enumerable:!0,initializer:function(){return!0}}),Wm=r(Vm.prototype,'delete',[ym],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Bm=r(Vm.prototype,'deleteButtonText',[fm],{enumerable:!0,initializer:function(){return'delete'}}),Hm=r(Vm.prototype,'downloadButtonText',[hm],{enumerable:!0,initializer:function(){return'download'}}),Km=r(Vm.prototype,'editableName',[bm],{enumerable:!0,initializer:function(){return!0}}),Ym=r(Vm.prototype,'fileChange',[xm],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Jm=r(Vm.prototype,'filter',[vm],{enumerable:!0,initializer:function(){return[]}}),Zm=r(Vm.prototype,'headerText',[_m],{enumerable:!0,initializer:function(){return null}}),Qm=r(Vm.prototype,'input',[Nm],{enumerable:!0,initializer:function(){return this.input}}),Xm=r(Vm.prototype,'resetNameText',[Pm],{enumerable:!0,initializer:function(){return'\xD7'}}),es=r(Vm.prototype,'saveNameText',[Tm],{enumerable:!0,initializer:function(){return'\u2713'}}),ts=r(Vm.prototype,'showDeclarationText',[Sm],{enumerable:!0,initializer:function(){return'\u2139'}}),as=r(Vm.prototype,'mapNameToField',[Im],{enumerable:!0,initializer:function(){return null}}),ns=r(Vm.prototype,'maximumSizeText',[Om],{enumerable:!0,initializer:function(){return'Filesize (${file.length} byte) is more than specified maximum of ${model.maximumSize} byte.'}}),is=r(Vm.prototype,'minimumSizeText',[Cm],{enumerable:!0,initializer:function(){return'Filesize (${file.length} byte) is less than specified minimum of ${model.minimumSize} byte.'}}),rs=r(Vm.prototype,'model',[Em],{enumerable:!0,initializer:function(){return this.model}}),os=r(Vm.prototype,'modelChange',[km],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),ls=r(Vm.prototype,'name',[Dm],{enumerable:!0,initializer:function(){return null}}),ms=r(Vm.prototype,'namePatternText',[wm],{enumerable:!0,initializer:function(){return'Given filename "${file.name}" doesn\'t match specified pattern "${internalName}".'}}),ss=r(Vm.prototype,'newButtonText',[Am],{enumerable:!0,initializer:function(){return'new'}}),ps=r(Vm.prototype,'noFileText',[Rm],{enumerable:!0,initializer:function(){return''}}),ds=r(Vm.prototype,'noPreviewText',[Mm],{enumerable:!0,initializer:function(){return''}}),cs=r(Vm.prototype,'oneDocumentPerFileMode',[zm],{enumerable:!0,initializer:function(){return!0}}),us=r(Vm.prototype,'requiredText',[jm],{enumerable:!0,initializer:function(){return'Please select a file.'}}),gs=r(Vm.prototype,'revision',[Lm],{enumerable:!0,initializer:function(){return null}}),ys=r(Vm.prototype,'showValidationErrorMessages',[Um],{enumerable:!0,initializer:function(){return!1}}),fs=r(Vm.prototype,'synchronizeImmediately',[qm],{enumerable:!0,initializer:function(){return!1}}),hs=r(Vm.prototype,'typePatternText',[Fm],{enumerable:!0,initializer:function(){return'Filetype "${file.content_type}" doesn\'t match specified pattern "${model.contentTypeRegularExpressionPattern}".'}}),Vm))||Gm);Reflect.defineMetadata('design:paramtypes',[$d,Gd,Gs.DomSanitizer,bp,ud,cp,xp,Qp,jd,dp],pc);var dc=t.PaginationComponent=(vs=(0,Ls.Component)({animations:lp,changeDetection:Ls.ChangeDetectionStrategy.OnPush,selector:'generic-pagination',template:'\n        <ul class="hans" @defaultAnimation *ngIf="lastPage > 1">\n            <li @defaultAnimation *ngIf="page > 2">\n                <a href="" (click)="change($event, 1)">--</a>\n            </li>\n            <li @defaultAnimation *ngIf="page > 1">\n                <a href="" (click)="change($event, previousPage)">-</a>\n            </li>\n            <li\n                class="page-{{currentPage}}"\n                @defaultAnimation\n                [ngClass]="{current: currentPage === page, previous: currentPage === previousPage, next: currentPage === nextPage, even: even, \'even-page\': currentPage % 2 === 0, first: currentPage === firstPage, last: currentPage === lastPage}"\n                *ngFor="let currentPage of pagesRange;let even = even"\n            >\n                <a (click)="change($event, currentPage)" href="">\n                    {{currentPage}}\n                </a>\n            </li>\n            <li @defaultAnimation *ngIf="lastPage > page">\n                <a href="" (click)="change($event, nextPage)">+</a>\n            </li>\n            <li @defaultAnimation *ngIf="lastPage > page + 1">\n                <a href="" (click)="change($event, lastPage)">++</a>\n            </li>\n        </ul>\n    '}),_s=(0,Ls.Input)(),Ns=(0,Ls.Input)(),Ps=(0,Ls.Output)(),Ts=(0,Ls.Input)(),Ss=(0,Ls.Input)(),vs(Is=(Os=function(){function e(t,a){s(this,e),i(this,'itemsPerPage',Cs,this),i(this,'page',Es,this),i(this,'pageChange',ks,this),i(this,'pageRangeLimit',Ds,this),i(this,'total',ws,this),this._changeDetectorReference=this._changeDetectorReference,this._makeRange=this._makeRange,this._changeDetectorReference=t,this._makeRange=a.transform.bind(a)}return e.prototype.change=function(e,t){e.preventDefault(),this._changeDetectorReference.markForCheck(),this.page=t,this.pageChange.emit(this.page)},g(e,[{key:'lastPage',get:function(){return c(this.total/this.itemsPerPage)}},{key:'nextPage',get:function(){return d(this.page+1,this.lastPage)}},{key:'pagesRange',get:function(){if(1>this.page-this.pageRangeLimit){var e=1,t=this.pageRangeLimit-(this.page-e),a=d(this.lastPage,this.page+this.pageRangeLimit+t);return this._makeRange([e,a])}var n=d(this.lastPage,this.page+this.pageRangeLimit),i=this.pageRangeLimit-(n-this.page),r=u(1,this.page-this.pageRangeLimit-i);return this._makeRange([r,n])}},{key:'previousPage',get:function(){return u(1,this.page-1)}}]),e}(),Cs=r(Os.prototype,'itemsPerPage',[_s],{enumerable:!0,initializer:function(){return 10}}),Es=r(Os.prototype,'page',[Ns],{enumerable:!0,initializer:function(){return 1}}),ks=r(Os.prototype,'pageChange',[Ps],{enumerable:!0,initializer:function(){return new Ls.EventEmitter}}),Ds=r(Os.prototype,'pageRangeLimit',[Ts],{enumerable:!0,initializer:function(){return 4}}),ws=r(Os.prototype,'total',[Ss],{enumerable:!0,initializer:function(){return 0}}),Os))||Is);Reflect.defineMetadata('design:paramtypes',[Ls.ChangeDetectorRef,Dp],dc);var cc=t.Module=(As=(0,Ls.NgModule)({declarations:[fp,hp,bp,xp,vp,_p,Np,Pp,Tp,Sp,Ip,Op,Cp,Ep,kp,Dp,wp,Ap,Rp,Mp,zp,jp,Lp,Up,qp,Fp,Gp,Vp,$p,Wp,Bp,Hp,Kp,Yp,Jp,Zp,Qp,Xp,ed,td,ad,nd,id,rd,od,ld,md,sd,pd,dd,cd,ud,gd,yd,fd,hd,bd,xd,vd,_d,Nd,Pd,Td,Sd,Id,Od,Cd,Ed,kd,Dd,wd,Ad,Rd,Md,zd,jd,Ld,Yd,Xd,Jd,Zd,ac,qd,ec,tc,nc,lc,mc,ic,sc,pc,dc],entryComponents:[qd],exports:[fp,hp,bp,xp,vp,_p,Np,Pp,Tp,Sp,Ip,Op,Cp,Ep,kp,Dp,wp,Ap,Rp,Mp,zp,jp,Lp,Up,qp,Fp,Gp,Vp,$p,Wp,Bp,Hp,Kp,Yp,Jp,Zp,Qp,Xp,ed,td,ad,nd,id,rd,od,ld,md,sd,pd,dd,cd,ud,gd,yd,fd,hd,bd,xd,vd,_d,Nd,Pd,Td,Sd,Id,Od,Cd,Ed,kd,Dd,wd,Ad,Rd,Md,zd,jd,Ld,Jd,Zd,qd,ec,tc,nc,lc,mc,ic,sc,pc,dc],imports:[Gs.BrowserModule.withServerTransition({appId:'generic-universal'}),qs.FormsModule,Fs.MatButtonModule,Fs.MatCardModule,Fs.MatDialogModule,Fs.MatInputModule,Fs.MatSelectModule,Fs.MatTooltipModule],providers:[dp,cp,Fd,Gd,Vd,Ud,$d,fp,hp,bp,xp,vp,_p,Np,Pp,Tp,Sp,Ip,Op,Cp,Ep,kp,Dp,wp,Ap,Rp,Mp,zp,jp,Lp,Up,qp,Fp,Gp,Vp,$p,Wp,Bp,Hp,Kp,Yp,Jp,Zp,Qp,Xp,ed,td,ad,nd,id,rd,od,ld,md,sd,pd,dd,cd,ud,gd,yd,fd,hd,bd,xd,vd,_d,Nd,Pd,Td,Sd,Id,Od,Cd,Ed,kd,Dd,wd,Ad,Rd,Md,zd,jd,Ld,Us.DatePipe,{deps:[Gd,cp,Ls.Injector],multi:!0,provide:Ls.APP_INITIALIZER,useFactory:p}]}),As(Rs=function e(){s(this,e)})||Rs);t.default=cc}).call(t,a(0)(e))},function(e){e.exports=r},function(e){e.exports=o},function(e){e.exports=l},function(e){e.exports=m},function(e){e.exports=s},function(e){e.exports=p},function(e){e.exports=d},function(e){e.exports=c},function(e){e.exports=u},function(e){e.exports=g}])});