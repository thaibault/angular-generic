'use strict';
(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t(require('clientnode'),require('@angular/animations'),require('@angular/core'),require('@angular/router'),require('rxjs'),require('@angular/common'),require('@angular/forms'),require('@angular/material'),require('@angular/platform-browser'),require('pouchdb/dist/pouchdb.min.js'),require('pouchdb-find'),require('pouchdb-validation'),require('rxjs/Observable'),require('rxjs/Subscription'),require('blob-util/dist/blob-util.min.js')):'function'==typeof define&&define.amd?define('index',['clientnode','@angular/animations','@angular/core','@angular/router','rxjs','@angular/common','@angular/forms','@angular/material','@angular/platform-browser','pouchdb/dist/pouchdb.min.js','pouchdb-find','pouchdb-validation','rxjs/Observable','rxjs/Subscription','blob-util/dist/blob-util.min.js'],t):'object'==typeof exports?exports.index=t(require('clientnode'),require('@angular/animations'),require('@angular/core'),require('@angular/router'),require('rxjs'),require('@angular/common'),require('@angular/forms'),require('@angular/material'),require('@angular/platform-browser'),require('pouchdb/dist/pouchdb.min.js'),require('pouchdb-find'),require('pouchdb-validation'),require('rxjs/Observable'),require('rxjs/Subscription'),require('blob-util/dist/blob-util.min.js')):e.index=t(e.clientnode,e['@angular/animations'],e['@angular/core'],e['@angular/router'],e.rxjs,e['@angular/common'],e['@angular/forms'],e['@angular/material'],e['@angular/platform-browser'],e['pouchdb/dist/pouchdb.min.js'],e['pouchdb-find'],e['pouchdb-validation'],e['rxjs/Observable'],e['rxjs/Subscription'],e['blob-util/dist/blob-util.min.js'])})(this,function(e,t,a,n,i,r,o,l,m,s,p,d,c,u,g){return function(e){function t(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var a={};return t.m=e,t.c=a,t.d=function(e,a,n){t.o(e,a)||Object.defineProperty(e,a,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var a=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(a,'a',a),a},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=7)}([function(e){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],!e.children&&(e.children=[]),Object.defineProperty(e,'loaded',{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,'id',{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t){t.exports=e},function(e){e.exports=t},function(e){e.exports=a},function(e){e.exports=n},function(e){e.exports=i},function(e,t,a){'use strict';(function(e){function n(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};return'string'==typeof e&&(e={name:e}),e=r.default.extendObject(!0,{},l,e),(0,o.trigger)(e.name,[(0,o.transition)(e.enterState,[(0,o.style)(e.style.enter.initial),(0,o.animate)(e.enterDuration||e.duration,(0,o.style)(e.style.enter.final))]),(0,o.transition)(e.leaveState,[(0,o.style)(e.style.leave&&e.style.leave.initial||e.style.enter.final),(0,o.animate)(e.leaveDuration||e.duration,(0,o.style)(e.style.leave&&e.style.leave.final||e.style.enter.initial))])])}t.__esModule=!0,t.defaultAnimation=t.createDefaultAnimation=t.defaultOptions=void 0,t.createFadeAnimation=n;var i=a(1),r=function(e){return e&&e.__esModule?e:{default:e}}(i),o=a(2);try{e.require('source-map-support/register')}catch(e){}var l=t.defaultOptions={duration:'.3s',enterState:':enter',leaveState:':leave',name:'fadeAnimation',style:{enter:{final:{opacity:1},initial:{opacity:0}}}},m=t.createDefaultAnimation=n.bind({},'defaultAnimation'),s=t.defaultAnimation=(0,o.trigger)('defaultAnimation',[(0,o.transition)(l.enterState,[(0,o.style)(l.style.enter.initial),(0,o.animate)(l.enterDuration||l.duration,(0,o.style)(l.style.enter.final))]),(0,o.transition)(l.leaveState,[(0,o.style)(l.style.leave&&l.style.leave.initial||l.style.enter.final),(0,o.animate)(l.leaveDuration||l.duration,(0,o.style)(l.style.leave&&l.style.leave.final||l.style.enter.initial))])]);t.default=s}).call(t,a(0)(e))},function(e,t,a){e.exports=a(8)},function(e,s,i){'use strict';(function(e){function t(t){return t&&t.__esModule?t:{default:t}}function c(i,e,t,a){t&&Object.defineProperty(i,e,{enumerable:t.enumerable,configurable:t.configurable,writable:t.writable,value:t.initializer?t.initializer.call(a):void 0})}function a(o,e,t,a,n){var i={};return Object.keys(a).forEach(function(t){i[t]=a[t]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,('value'in i||i.initializer)&&(i.writable=!0),i=t.slice().reverse().reduce(function(t,a){return a(o,e,t)||t},i),n&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(n):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(o,e,i),i=null),i}function d(a){return function(){var e=a.apply(this,arguments);return new Promise(function(t,i){function a(n,m){try{var r=e[n](m),o=r.value}catch(t){return void i(t)}return r.done?void t(o):Promise.resolve(o).then(function(t){a('next',t)},function(t){a('throw',t)})}return a('next')})}}function m(a,n){if(!a)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return n&&('object'==typeof n||'function'==typeof n)?n:a}function n(a,n){if('function'!=typeof n&&null!==n)throw new TypeError('Super expression must either be null or a function, not '+typeof n);a.prototype=Object.create(n&&n.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(a,n):a.__proto__=n)}function f(a,e){if(!(a instanceof e))throw new TypeError('Cannot call a class as a function')}function r(a,e){return function(){return op.injectors.add(e),a.initialize()}}var o=Math.min,l=Math.ceil,P=Math.max;s.__esModule=!0,s.Module=s.PaginationComponent=s.FileInputComponent=s.TextareaComponent=s.SimpleInputComponent=s.InputComponent=s.TextEditorComponent=s.CodeEditorComponent=s.AbstractEditorComponent=s.IntervalsInputComponent=s.IntervalInputComponent=s.DateTimeValueAccessor=void 0,s.SliderDirective=s.DateDirective=s.AbstractValueAccessor=s.AbstractItemsComponent=s.AbstractLiveDataComponent=s.AbstractNativeInputComponent=s.AbstractInputComponent=s.AbstractResolver=s.DataScopeService=s.DataService=s.AlertService=s.ConfirmComponent=s.CanDeactivateRouteLeaveGuard=s.NumberPercentPipe=s.StringTemplatePipe=s.StringStartsWithPipe=s.StringSliceMatchPipe=s.StringShowIfPatternMatchesPipe=s.StringSafeURLPipe=s.StringSafeStylePipe=s.StringSafeScriptPipe=s.StringSafeResourceURLPipe=s.StringSafeHTMLPipe=s.StringReplacePipe=s.StringMaximumLengthPipe=s.StringMatchPipe=s.StringHasTimeSuffixPipe=s.StringEndsWithPipe=s.ArrayDependentConcatPipe=s.TypePipe=s.ReversePipe=s.ObjectKeysPipe=s.MapPipe=s.LimitToPipe=s.IsDefinedPipe=s.ExtractRawDataPipe=s.ExtractDataPipe=s.AttachmentWithPrefixExistsPipe=s.GetFilenameByPrefixPipe=s.AttachmentsAreEqualPipe=s.NumberRoundPipe=s.NumberIsNotANumberPipe=s.NumberGetUTCTimestampPipe=s.StringNormalizeDomNodeSelectorPipe=s.StringDecodeHTMLEntitiesPipe=s.StringRepresentPhoneNumberPipe=s.StringParseEncodedObjectPipe=s.StringNormalizePhoneNumberPipe=s.StringMD5Pipe=s.StringMarkPipe=s.StringFindNormalizedMatchRangePipe=s.StringLowerCasePipe=s.StringGetRegularExpressionValidatedPipe=s.StringFormatPipe=s.StringDelimitedToCamelCasePipe=s.StringCapitalizePipe=s.StringCamelCaseToDelimitedPipe=s.StringCompressStyleValuePipe=s.StringRepresentURLPipe=s.StringNormalizeURLPipe=s.StringIsInternalURLPipe=s.StringGetURLVariablePipe=s.StringGetProtocolNamePipe=s.StringGetPortNumberPipe=s.StringGetDomainNamePipe=s.StringHasPathPrefixPipe=s.StringAddSeparatorToPathPipe=s.StringEncodeURIComponentPipe=s.StringConvertToValidVariableNamePipe=s.StringEscapeRegularExpressionsPipe=s.ArraySortTopologicalPipe=s.ArrayRemovePipe=s.ArrayAppendAddPipe=s.ArraySumUpPropertyPipe=s.ArrayMakeRangePipe=s.ArrayIntersectPipe=s.ArrayExtractIfPropertyMatchesPipe=s.ArrayExtractIfPropertyExistsPipe=s.ArrayExtractIfMatchesPipe=s.ArrayExtractPipe=s.ArrayDeleteEmptyItemsPipe=s.ArrayAggregatePropertyIfEqualPipe=s.ArrayUniquePipe=s.ArrayMakePipe=s.ArrayMergePipe=s.SortPipe=s.RepresentObjectPipe=s.ExtendObjectPipe=s.EqualsPipe=s.ConvertCircularObjectToJSONPipe=s.AbstractInvertedToolsPipe=s.AbstractToolsPipe=s.determineInjector=s.InitialDataService=s.UtilityService=s.TINYMCE_DEFAULT_OPTIONS=s.CODE_MIRROR_DEFAULT_OPTIONS=s.SYMBOL=s.currentInstanceToSearchInjectorFor=s.LAST_KNOWN_DATA=void 0;var p,u,g,y,h,b,x,v,N,T,S,I,D,O,E,C,w,_,A,R,M,z,j,k,L,U,q,F,G,V,$,W,B,H,K,Y,J,Z,Q,X,ee,te,ae,ne,ie,re,oe,le,me,se,pe,de,ce,ue,ge,ye,fe,he,be,xe,ve,Pe,Ne,Te,Se,Ie,De,Oe,Ee,Ce,we,_e,Ae,Re,Me,ze,je,ke,Le,Ue,qe,Fe,Ge,Ve,$e,We,Be,He,Ke,Ye,Je,Ze,Qe,Xe,et,tt,at,nt,it,rt,ot,lt,mt,st,pt,dt,ct,ut,gt,yt,ft,ht,bt,xt,vt,Pt,Nt,Tt,St,It,Dt,Ot,Et,Ct,wt,_t,At,Rt,Mt,zt,jt,kt,Lt,Ut,qt,Ft,Gt,Vt,$t,Wt,Bt,Ht,Kt,Yt,Jt,Zt,Qt,Xt,ea,ta,aa,na,ia,ra,oa,la,ma,sa,pa,da,ca,ua,ga,ya,fa,ha,ba,xa,va,Pa,Na,Ta,Sa,Ia,Da,Oa,Ea,Ca,wa,_a,Aa,Ra,Ma,za,ja,ka,La,Ua,qa,Fa,Ga,Va,$a,Wa,Ba,Ha,Ka,Ya,Ja,Za,Qa,Xa,en,tn,an,nn,rn,on,ln,mn,sn,pn,dn,cn,un,gn,yn,fn,hn,bn,xn,vn,Pn,Nn,Tn,Sn,In,Dn,On,En,Cn,wn,_n,An,Rn,Mn,zn,jn,kn,Ln,Un,qn,Fn,Gn,Vn,$n,Wn,Bn,Hn,Kn,Yn,Jn,Zn,Qn,Xn,ei,ti,ai,ni,ii,ri,oi,li,mi,si,pi,di,ci,ui,gi,yi,fi,hi,bi,xi,vi,Pi,Ni,Ti,Si,Ii,Di,Oi,Ei,Ci,wi,_i,Ai,Ri,Mi,zi,ji,ki,Li,Ui,qi,Fi,Gi,Vi,$i,Wi,Bi,Hi,Ki,Yi,Ji,Zi,Qi,Xi,er,tr,ar,nr,ir,rr,or,lr,mr,sr,pr,dr,cr,ur,gr,yr,fr,hr,br,xr,vr,Pr,Nr,Tr,Sr,Ir,Dr,Or,Er,Cr,wr,_r,Ar,Rr,Mr,zr,jr,kr,Lr,Ur,qr,Fr,Gr,Vr,$r,Wr,Br,Hr,Kr,Yr,Jr,Zr,Qr,Xr,eo,to,ao,no,io,ro,oo,lo,mo,so,po,co,uo,go,yo,fo,ho,bo,xo,vo,Po,No,To,So,Io,Do,Oo,Eo,Co,wo,_o,Ao,Ro,Mo,zo,jo,ko,Lo,Uo,qo,Fo,Go,Vo,$o,Wo,Bo,Ho,Ko,Yo,Jo,Zo,Qo,Xo,el,tl,al,nl,il,rl,ol,ll,ml,sl,pl,dl,cl,ul,gl,yl,fl,hl,bl,xl,vl,Pl,Nl,Tl,Sl,Il,Dl,Ol,El,Cl,wl,_l,Al,Rl,Ml,zl,jl,kl,Ll,Ul,ql,Fl,Gl,Vl,$l,Wl,Bl,Hl,Kl,Yl,Jl,Zl,Ql,Xl,em,tm,am,nm,im,rm,om,lm,mm,sm,pm,dm,cm,um,gm,ym,fm,hm,bm,xm,vm,Pm,Nm,Tm,Sm,Im,Dm,Om,Em,Cm,wm,_m,Am,Rm,Mm,zm,jm,km,Lm,Um,qm,Fm,Gm,Vm,$m,Wm,Bm,Hm,Km,Ym,Jm,Zm,Qm,Xm,es,ts,as,ns,is,rs,os,ls,ms,ss,ps,ds,cs,us,gs,ys,fs,hs,bs,xs,vs,Ps,Ns,Ts,Ss,Is,Ds,Os,Es,Cs=function(){function i(i,r){for(var t,n=0;n<r.length;n++)t=r[n],t.enumerable=t.enumerable||!1,t.configurable=!0,'value'in t&&(t.writable=!0),Object.defineProperty(i,t.key,t)}return function(e,t,a){return t&&i(e.prototype,t),a&&i(e,a),e}}(),ws='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&'function'==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?'symbol':typeof t};s.dataServiceInitializerFactory=r;var _s=i(1),As=t(_s),Rs=i(2),Ms=i(3),zs=i(9),js=i(10),ks=i(11),Ls=i(12),Us=i(4),qs=i(13),Fs=t(qs),Gs=i(14),Vs=t(Gs),$s=i(15),Ws=t($s),Bs=i(5),Hs=i(16),Ks=i(17),Ys=i(6);try{e.require('source-map-support/register')}catch(t){}if('undefined'==typeof Js)var Js='default';if('undefined'==typeof Zs)var Zs=1;var Qs=s.LAST_KNOWN_DATA={data:{},sequence:'now'},Xs=s.currentInstanceToSearchInjectorFor=null,ep=s.SYMBOL=new Date().getTime()+'/'+Math.random(),tp=[Ys.defaultAnimation],ap=s.CODE_MIRROR_DEFAULT_OPTIONS={path:{cascadingStyleSheet:'lib/codemirror.css',base:'/codemirror/',mode:'mode/{mode}/{mode}.js',script:'lib/codemirror.js'},indentUnit:4,tabSize:4,indentWithTabs:!1,lineWrapping:!1,lineNumbers:!0,scrollbarStyle:'native'},np='/tinymce/',ip=s.TINYMCE_DEFAULT_OPTIONS={baseURL:np,scriptPath:np+'tinymce.min.js',skin_url:np+'skins/lightgray',theme_url:np+'themes/modern/theme.min.js',allow_conditional_comments:!1,allow_script_urls:!1,cache_suffix:'?version='+Zs,convert_fonts_to_spans:!0,document_base_url:'/',element_format:'xhtml',entity_encoding:'raw',fix_list_elements:!0,forced_root_block:null,hidden_input:!1,invalid_elements:'em',invalid_styles:'color font-size line-height',keep_styles:!1,menubar:!1,plugins:'fullscreen link code hr nonbreaking searchreplace visualblocks',relative_urls:!1,remove_script_host:!1,remove_trailing_brs:!0,schema:'html5',toolbar1:'cut copy paste | undo redo removeformat | styleselect formatselect fontselect fontsizeselect | searchreplace visualblocks fullscreen code',toolbar2:'alignleft aligncenter alignright alignjustify outdent indent | link hr nonbreaking bullist numlist bold italic underline strikethrough',trim:!0},rp=s.UtilityService=(p=(0,Ms.Injectable)(),p(u=(y=g=function t(){f(this,t),this.fixed=t,this.tools=new As.default},g.$=_s.$,g.globalContext=_s.globalContext,g.tools=As.default,y))||u),op=s.InitialDataService=(h=(0,Ms.Injectable)(),h(b=(v=x=function(){function n(e){if(f(this,n),this.configuration=this.configuration,this.tools=this.tools,e||(e=new rp),this.tools=e.fixed.tools,this.set(n.defaultScope,'genericInitialData'in e.fixed.globalContext?e.fixed.globalContext.genericInitialData:{}),n.removeFoundData&&delete e.fixed.globalContext.genericInitialData,'document'in e.fixed.globalContext&&'querySelector'in e.fixed.globalContext.document){var t=e.fixed.globalContext.document.querySelector('application');t&&'getAttribute'in t&&t.getAttribute('initialData')&&(this.set(JSON.parse(t.getAttribute('initialData'))),n.removeFoundData&&t.removeAttribute('initialData'))}}return n.prototype.set=function(){for(var i,e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(i=this.tools).extendObject.apply(i,[!0,this].concat(t))},n}(),x.defaultScope={configuration:{database:{connector:{auto_compaction:!0,revs_limit:10},model:{entities:{},property:{defaultSpecification:{minimum:0,minimumLength:0,minimumNumber:0},name:{reserved:[],special:{allowedRole:'_allowedRoles',attachment:'_attachments',conflict:'_conflicts',constraint:{execution:'_constraintExecutions',expression:'_constraintExpressions'},deleted:'_deleted',deletedConflict:'_deleted_conflicts',extend:'_extends',id:'_id',localSequence:'_local_seq',maximumAggregatedSize:'_maximumAggregatedSize',minimumAggregatedSize:'_minimumAggregatedSize',revision:'_rev',revisions:'_revisions',revisionsInformation:'_revs_info',strategy:'_updateStrategy',type:'-type'},validatedDocumentsCache:'_validatedDocuments'}}},plugins:[],url:'generic'}}},x.injectors=new Set,x.removeFoundData=!0,v))||b);Reflect.defineMetadata('design:paramtypes',[rp],op);var lp=s.determineInjector=function(p,e,t){if(p)return p.get.bind(p);if(void 0===Xs)throw ep;s.currentInstanceToSearchInjectorFor=Xs=void 0;for(var a=op.injectors,n=Array.isArray(a),i=0,r=n?a:a[Symbol.iterator]();;){var d;if(n){if(i>=a.length)break;d=a[i++]}else{if(i=a.next(),i.done)break;d=i.value}var o=d;try{if(o.get(t,NaN)===e)return o.get.bind(o)}catch(t){if(s.currentInstanceToSearchInjectorFor=Xs=null,t===ep)return o.get.bind(o);throw t}}if(s.currentInstanceToSearchInjectorFor=Xs=null,1===op.injectors.size){console.warn('Could not determine injector, but using the only registered one. This will fail an multiple application instances.');var l=Array.from(op.injectors)[0];return l.get.bind(l)}throw new Error('No unambiguously injector could be determined automatically.')},mp=s.AbstractToolsPipe=function(){function t(){f(this,t),this.methodName=this.methodName}return t.prototype.transform=function(){var t;return(t=rp.tools)[this.methodName].apply(t,arguments)},t}(),sp=s.AbstractInvertedToolsPipe=function(a){function e(){return f(this,e),m(this,a.apply(this,arguments))}return n(e,a),e.prototype.transform=function(){var t=rp.tools;return t.invertArrayFilter(t[this.methodName]).apply(void 0,arguments)},e}(mp),pp=s.ConvertCircularObjectToJSONPipe=(N=(0,Ms.Pipe)({name:'genericConvertCircularObjectToJSON'}),N(T=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='convertCircularObjectToJSON',t),m(a,n)}return n(e,s),e}(mp))||T),dp=s.EqualsPipe=(S=(0,Ms.Pipe)({name:'genericEquals'}),S(I=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='equals',t),m(a,n)}return n(e,s),e}(mp))||I),cp=s.ExtendObjectPipe=(D=(0,Ms.Pipe)({name:'genericExtendObject'}),D(O=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='extendObject',t),m(a,n)}return n(e,s),e}(mp))||O),up=s.RepresentObjectPipe=(E=(0,Ms.Pipe)({name:'genericRepresentObject'}),E(C=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='representObject',t),m(a,n)}return n(e,s),e}(mp))||C),gp=s.SortPipe=(w=(0,Ms.Pipe)({name:'genericSort'}),w(_=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='sort',t),m(a,n)}return n(e,s),e}(mp))||_),yp=s.ArrayMergePipe=(A=(0,Ms.Pipe)({name:'genericArrayMerge'}),A(R=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayMerge',t),m(a,n)}return n(e,s),e}(mp))||R),fp=s.ArrayMakePipe=(M=(0,Ms.Pipe)({name:'genericArrayMake'}),M(z=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayMake',t),m(a,n)}return n(e,s),e}(mp))||z),hp=s.ArrayUniquePipe=(j=(0,Ms.Pipe)({name:'genericArrayUnique'}),j(k=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayUnique',t),m(a,n)}return n(e,s),e}(mp))||k),bp=s.ArrayAggregatePropertyIfEqualPipe=(L=(0,Ms.Pipe)({name:'genericArrayAggregatePropertyIfEqual'}),L(U=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayAggregatePropertyIfEqual',t),m(a,n)}return n(e,s),e}(mp))||U),xp=s.ArrayDeleteEmptyItemsPipe=(q=(0,Ms.Pipe)({name:'genericArrayDeleteEmptyItems'}),q(F=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayDeleteEmptyItems',t),m(a,n)}return n(e,s),e}(mp))||F),vp=s.ArrayExtractPipe=(G=(0,Ms.Pipe)({name:'genericArrayExtract'}),G(V=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayExtract',t),m(a,n)}return n(e,s),e}(mp))||V),Pp=s.ArrayExtractIfMatchesPipe=($=(0,Ms.Pipe)({name:'genericArrayExtractIfMatches'}),$(W=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayExtractIfMatches',t),m(a,n)}return n(e,s),e}(mp))||W),Np=s.ArrayExtractIfPropertyExistsPipe=(B=(0,Ms.Pipe)({name:'genericArrayExtractIfPropertyExists'}),B(H=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayExtractIfPropertyExists',t),m(a,n)}return n(e,s),e}(mp))||H),Tp=s.ArrayExtractIfPropertyMatchesPipe=(K=(0,Ms.Pipe)({name:'genericArrayExtractIfPropertyMatches'}),K(Y=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayExtractIfPropertyMatches',t),m(a,n)}return n(e,s),e}(mp))||Y),Sp=s.ArrayIntersectPipe=(J=(0,Ms.Pipe)({name:'genericArrayIntersect'}),J(Z=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayIntersect',t),m(a,n)}return n(e,s),e}(mp))||Z),Ip=s.ArrayMakeRangePipe=(Q=(0,Ms.Pipe)({name:'genericArrayMakeRange'}),Q(X=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayMakeRange',t),m(a,n)}return n(e,s),e}(mp))||X),Dp=s.ArraySumUpPropertyPipe=(ee=(0,Ms.Pipe)({name:'genericArraySumUpProperty'}),ee(te=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arraySumUpProperty',t),m(a,n)}return n(e,s),e}(mp))||te),Op=s.ArrayAppendAddPipe=(ae=(0,Ms.Pipe)({name:'genericArrayAppendAdd'}),ae(ne=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayAppendAdd',t),m(a,n)}return n(e,s),e}(mp))||ne),Ep=s.ArrayRemovePipe=(ie=(0,Ms.Pipe)({name:'genericArrayRemove'}),ie(re=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arrayRemove',t),m(a,n)}return n(e,s),e}(mp))||re),Cp=s.ArraySortTopologicalPipe=(oe=(0,Ms.Pipe)({name:'genericArraySortTopological'}),oe(le=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='arraySortTopological',t),m(a,n)}return n(e,s),e}(mp))||le),wp=s.StringEscapeRegularExpressionsPipe=(me=(0,Ms.Pipe)({name:'genericStringEscapeRegularExpressions'}),me(se=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringEscapeRegularExpressions',t),m(a,n)}return n(e,s),e}(mp))||se),_p=s.StringConvertToValidVariableNamePipe=(pe=(0,Ms.Pipe)({name:'genericStringConvertToValidVariableName'}),pe(de=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringConvertToValidVariableName',t),m(a,n)}return n(e,s),e}(mp))||de),Ap=s.StringEncodeURIComponentPipe=(ce=(0,Ms.Pipe)({name:'genericStringEncodeURIComponent'}),ce(ue=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringEncodeURIComponent',t),m(a,n)}return n(e,s),e}(mp))||ue),Rp=s.StringAddSeparatorToPathPipe=(ge=(0,Ms.Pipe)({name:'genericStringAddSeparatorToPath'}),ge(ye=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringAddSeparatorToPath',t),m(a,n)}return n(e,s),e}(mp))||ye),Mp=s.StringHasPathPrefixPipe=(fe=(0,Ms.Pipe)({name:'genericStringHasPathPrefix'}),fe(he=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringHasPathPrefix',t),m(a,n)}return n(e,s),e}(mp))||he),zp=s.StringGetDomainNamePipe=(be=(0,Ms.Pipe)({name:'genericStringGetDomainName'}),be(xe=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringGetDomainName',t),m(a,n)}return n(e,s),e}(mp))||xe),jp=s.StringGetPortNumberPipe=(ve=(0,Ms.Pipe)({name:'genericStringGetPortNumber'}),ve(Pe=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringGetPortNumber',t),m(a,n)}return n(e,s),e}(mp))||Pe),kp=s.StringGetProtocolNamePipe=(Ne=(0,Ms.Pipe)({name:'genericStringGetProtocolName'}),Ne(Te=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringGetProtocolName',t),m(a,n)}return n(e,s),e}(mp))||Te),Lp=s.StringGetURLVariablePipe=(Se=(0,Ms.Pipe)({name:'genericStringGetURLVariable'}),Se(Ie=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringGetURLVariable',t),m(a,n)}return n(e,s),e}(mp))||Ie),Up=s.StringIsInternalURLPipe=(De=(0,Ms.Pipe)({name:'genericStringIsInternalURL'}),De(Oe=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringIsInternalURL',t),m(a,n)}return n(e,s),e}(mp))||Oe),qp=s.StringNormalizeURLPipe=(Ee=(0,Ms.Pipe)({name:'genericStringNormalizeURL'}),Ee(Ce=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringNormalizeURL',t),m(a,n)}return n(e,s),e}(mp))||Ce),Fp=s.StringRepresentURLPipe=(we=(0,Ms.Pipe)({name:'genericStringRepresentURL'}),we(_e=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringRepresentURL',t),m(a,n)}return n(e,s),e}(mp))||_e),Gp=s.StringCompressStyleValuePipe=(Ae=(0,Ms.Pipe)({name:'genericStringCompressStyleValue'}),Ae(Re=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringCompressStyleValue',t),m(a,n)}return n(e,s),e}(mp))||Re),Vp=s.StringCamelCaseToDelimitedPipe=(Me=(0,Ms.Pipe)({name:'genericStringCamelCaseToDelimited'}),Me(ze=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringCamelCaseToDelimited',t),m(a,n)}return n(e,s),e}(mp))||ze),$p=s.StringCapitalizePipe=(je=(0,Ms.Pipe)({name:'genericStringCapitalize'}),je(ke=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringCapitalize',t),m(a,n)}return n(e,s),e}(mp))||ke),Wp=s.StringDelimitedToCamelCasePipe=(Le=(0,Ms.Pipe)({name:'genericStringDelimitedToCamelCase'}),Le(Ue=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringDelimitedToCamelCase',t),m(a,n)}return n(e,s),e}(mp))||Ue),Bp=s.StringFormatPipe=(qe=(0,Ms.Pipe)({name:'genericStringFormat'}),qe(Fe=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringFormat',t),m(a,n)}return n(e,s),e}(mp))||Fe),Hp=s.StringGetRegularExpressionValidatedPipe=(Ge=(0,Ms.Pipe)({name:'genericStringGetRegularExpressionValidated'}),Ge(Ve=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringGetRegularExpressionValidated',t),m(a,n)}return n(e,s),e}(mp))||Ve),Kp=s.StringLowerCasePipe=($e=(0,Ms.Pipe)({name:'genericStringLowerCase'}),$e(We=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringLowerCase',t),m(a,n)}return n(e,s),e}(mp))||We),Yp=s.StringFindNormalizedMatchRangePipe=(Be=(0,Ms.Pipe)({name:'genericStringFindNormalizedMatchRange'}),Be(He=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringFindNormalizedMatchRange',t),m(a,n)}return n(e,s),e}(mp))||He),Jp=s.StringMarkPipe=(Ke=(0,Ms.Pipe)({name:'genericStringMark'}),Ke(Ye=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringMark',t),m(a,n)}return n(e,s),e}(mp))||Ye),Zp=s.StringMD5Pipe=(Je=(0,Ms.Pipe)({name:'genericStringMD5'}),Je(Ze=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringMD5',t),m(a,n)}return n(e,s),e}(mp))||Ze),Qp=s.StringNormalizePhoneNumberPipe=(Qe=(0,Ms.Pipe)({name:'genericStringNormalizePhoneNumber'}),Qe(Xe=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringNormalizePhoneNumber',t),m(a,n)}return n(e,s),e}(mp))||Xe),Xp=s.StringParseEncodedObjectPipe=(et=(0,Ms.Pipe)({name:'genericStringParseEncodedObject'}),et(tt=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringParseEncodedObject',t),m(a,n)}return n(e,s),e}(mp))||tt),ed=s.StringRepresentPhoneNumberPipe=(at=(0,Ms.Pipe)({name:'genericStringRepresentPhoneNumber'}),at(nt=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringRepresentPhoneNumber',t),m(a,n)}return n(e,s),e}(mp))||nt),td=s.StringDecodeHTMLEntitiesPipe=(it=(0,Ms.Pipe)({name:'genericStringDecodeHTMLEntities'}),it(rt=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringDecodeHTMLEntities',t),m(a,n)}return n(e,s),e}(mp))||rt),ad=s.StringNormalizeDomNodeSelectorPipe=(ot=(0,Ms.Pipe)({name:'genericStringNormalizeDomNodeSelector'}),ot(lt=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='stringNormalizeDomNodeSelector',t),m(a,n)}return n(e,s),e}(mp))||lt),nd=s.NumberGetUTCTimestampPipe=(mt=(0,Ms.Pipe)({name:'genericNumberGetUTCTimestamp'}),mt(st=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='numberGetUTCTimestamp',t),m(a,n)}return n(e,s),e}(mp))||st),id=s.NumberIsNotANumberPipe=(pt=(0,Ms.Pipe)({name:'genericNumberIsNotANumber'}),pt(dt=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='numberIsNotANumber',t),m(a,n)}return n(e,s),e}(mp))||dt),rd=s.NumberRoundPipe=(ct=(0,Ms.Pipe)({name:'genericNumberRound'}),ct(ut=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),a.methodName='numberRound',t),m(a,n)}return n(e,s),e}(mp))||ut),od=s.AttachmentsAreEqualPipe=(gt=(0,Ms.Pipe)({name:'genericAttachmentsAreEqual'}),gt(yt=function(){function r(e,t,a,n){f(this,r),this.data=this.data,this.representObject=this.representObject,this.specialNames=this.specialNames,this.stringMD5=this.stringMD5,this.data=t.get(jd),this.representObject=a.transform.bind(a),this.specialNames=e.configuration.database.model.property.name.special,this.stringMD5=n.transform.bind(n)}return r.prototype.transform=function(){var t=d(regeneratorRuntime.mark(function b(x,v){var P,n,i,r,o,l,m,s,p,d,c,u,g,y,f;return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(x!==v){h.next=2;break}return h.abrupt('return',!0);case 2:P={first:{given:x},second:{given:v}},n=['first','second'],i=0;case 5:if(!(i<n.length)){h.next=16;break}if(r=n[i],'object'===ws(P[r].given)&&null!==P[r].given){h.next=9;break}return h.abrupt('return',!1);case 9:P[r].content_type=P[r].given.type||P[r].given.content_type,P[r].data=('data'in P[r].given?P[r].given.data:P[r].given)||NaN,P[r].hash=P[r].given.digest||P[r].given.hash||NaN,P[r].size=P[r].given.size||P[r].given.length;case 13:i++,h.next=5;break;case 16:o=['content_type','size'],l=0;case 18:if(!(l<o.length)){h.next=25;break}if(m=o[l],[P.first[m],P.second[m]].includes(void 0)||P.first[m]===P.second[m]){h.next=22;break}return h.abrupt('return',!1);case 22:l++,h.next=18;break;case 25:if(P.first.data!==P.second.data){h.next=27;break}return h.abrupt('return',!0);case 27:s=['first','second'],p=0;case 29:if(!(p<s.length)){h.next=59;break}if(d=s[p],P[d].hash){h.next=56;break}if(null!==P[d].data&&['object','string'].includes(ws(P[d].data))){h.next=34;break}return h.abrupt('return',!1);case 34:return c='genericTemp',u=new this.data.database(c),h.prev=36,h.next=39,u.put((y={},y[this.specialNames.id]=c,y[this.specialNames.attachment]=(g={},g[c]={data:P[d].data,content_type:'application/octet-stream'},g),y));case 39:return h.next=41,u.get(c);case 41:h.t0=this.specialNames.attachment,h.t1=c,P[d].hash=h.sent[h.t0][h.t1].digest,h.next=52;break;case 46:h.prev=46,h.t2=h['catch'](36),f='unknown';try{f=this.representObject(h.t2)}catch(t){}return console.warn('Given attachments for equality check are not valid: '+f),h.abrupt('return',!1);case 52:return h.prev=52,h.next=55,u.destroy();case 55:return h.finish(52);case 56:p++,h.next=29;break;case 59:return h.abrupt('return',P.first.hash===P.second.hash);case 60:case'end':return h.stop();}},b,this,[[36,46,52,56]])}));return function(){return t.apply(this,arguments)}}(),r}())||yt);Reflect.defineMetadata('design:paramtypes',[op,Ms.Injector,up,Zp],od);var ld=s.GetFilenameByPrefixPipe=(ft=(0,Ms.Pipe)({name:'genericGetFilenameByPrefix'}),ft(ht=function(){function t(){f(this,t)}return t.prototype.transform=function(i,e){if(e){for(var t in i)if(i.hasOwnProperty(t)&&t.startsWith(e))return t;}else{var a=Object.keys(i);if(a.length)return a[0]}return null},t}())||ht),md=s.AttachmentWithPrefixExistsPipe=(bt=(0,Ms.Pipe)({name:'genericAttachmentWithPrefixExists'}),bt(xt=function(){function n(e,t){f(this,n),this.attachmentName=this.attachmentName,this.getFilenameByPrefix=this.getFilenameByPrefix,this.attachmentName=t.configuration.database.model.property.name.special.attachment,this.getFilenameByPrefix=e.transform.bind(e)}return n.prototype.transform=function(n,e){if(n.hasOwnProperty(this.attachmentName)){var t=this.getFilenameByPrefix(n[this.attachmentName],e);if(t)return n[this.attachmentName][t].hasOwnProperty('data')&&![void 0,null].includes(n[this.attachmentName][t].data)}return!1},n}())||xt);Reflect.defineMetadata('design:paramtypes',[ld,op],md);var sd=s.ExtractDataPipe=(vt=(0,Ms.Pipe)({name:'genericExtractData'}),vt(Pt=function(){function a(e){f(this,a),this.modelConfiguration=this.modelConfiguration,this.modelConfiguration=e.configuration.database.model}return a.prototype.transform=function(m){if(Array.isArray(m)){for(var s=[],t=m,a=Array.isArray(t),n=0,i=a?t:t[Symbol.iterator]();;){var p;if(a){if(n>=t.length)break;p=t[n++]}else{if(n=t.next(),n.done)break;p=n.value}var r=p;s.push(this.transform(r))}return s}if('object'===('undefined'==typeof m?'undefined':ws(m))&&null!==m){var o=this.modelConfiguration.property.name.special;return m.hasOwnProperty('value')?'object'===ws(m.value)&&null!==m.value&&o.type in m.value&&this.modelConfiguration.entities.hasOwnProperty(m.value[o.type])?this._extractFromObject(m.value):this.transform(m.value):o.type in m&&this.modelConfiguration.entities.hasOwnProperty(m[o.type])?this._extractFromObject(m):m}return m},a.prototype._extractFromObject=function(r){var e=this.modelConfiguration.property.name.special,t={};for(var a in r)r.hasOwnProperty(a)&&(!r.hasOwnProperty(e.type)||this.modelConfiguration.entities[r[e.type]].hasOwnProperty(a)||this.modelConfiguration.entities[r[e.type]].hasOwnProperty(e.additional))&&!['_metaData',e.additional,e.allowedRole,e.attachment,e.conflict,e.constraint.execution,e.constraint.expression,e.deletedConflict,e.extend,e.localSequence,e.maximumAggregatedSize,e.minimumAggregatedSize,e.revisions,e.revisionsInformation].includes(a)&&(t[a]=this.transform(r[a]));if(r.hasOwnProperty(e.attachment)&&r[e.attachment])for(var n in r[e.attachment])r[e.attachment].hasOwnProperty(n)&&'object'===ws(r[e.attachment][n])&&null!==r[e.attachment][n]&&'hasOwnProperty'in r[e.attachment]&&r[e.attachment][n].hasOwnProperty('value')&&r[e.attachment][n].value&&(t[e.attachment]||(t[e.attachment]={}),t[e.attachment][r[e.attachment][n].value.name]=r[e.attachment][n].value);return t},a}())||Pt);Reflect.defineMetadata('design:paramtypes',[op],sd);var pd=s.ExtractRawDataPipe=(Nt=(0,Ms.Pipe)({name:'genericExtractRawData'}),Nt(Tt=function(){function l(e,t,a,n,i,r){f(this,l),this.attachmentsAreEqual=this.attachmentsAreEqual,this.dataScope=this.dataScope,this.equals=this.equals,this.modelConfiguration=this.modelConfiguration,this.numberGetUTCTimestamp=this.numberGetUTCTimestamp,this.specialNames=this.specialNames,this.tools=this.tools,this.attachmentsAreEqual=e.transform.bind(e),this.dataScope=n.get(kd),this.equals=t.transform.bind(t),this.modelConfiguration=a.configuration.database.model,this.numberGetUTCTimestamp=i.transform.bind(i),this.specialNames=this.modelConfiguration.property.name.special,this.tools=r.fixed.tools}return l.prototype.convertDateToTimestampRecursively=function(s){if('object'===('undefined'==typeof s?'undefined':ws(s))&&null!==s){if(s instanceof Date)return this.numberGetUTCTimestamp(s);if(Array.isArray(s)){for(var p=[],t=s,a=Array.isArray(t),n=0,i=a?t:t[Symbol.iterator]();;){var d;if(a){if(n>=t.length)break;d=t[n++]}else{if(n=t.next(),n.done)break;d=n.value}var r=d;p.push(this.convertDateToTimestampRecursively(r))}return p}if(Object.getPrototypeOf(s)===Object.prototype){var o={};for(var l in s)s.hasOwnProperty(l)&&(o[l]=this.convertDateToTimestampRecursively(s[l]));return o}}return s},l.prototype.getNotAlreadyExistingAttachmentData=function(){var t=d(regeneratorRuntime.mark(function c(u,t,a){var n,g,r,e,o,l,m,s;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(n={},!(a&&a.hasOwnProperty(this.specialNames.attachment))){p.next=38;break}p.t0=regeneratorRuntime.keys(a[this.specialNames.attachment]);case 3:if((p.t1=p.t0()).done){p.next=38;break}if(g=p.t1.value,!a[this.specialNames.attachment].hasOwnProperty(g)){p.next=36;break}if(r={},t.hasOwnProperty(this.specialNames.attachment)&&t[this.specialNames.attachment])for(e in t[this.specialNames.attachment])t[this.specialNames.attachment].hasOwnProperty(e)&&new RegExp(g).test(e)&&(r[e]=t[this.specialNames.attachment][e]);if(!u.hasOwnProperty(this.specialNames.attachment)){p.next=35;break}p.t2=regeneratorRuntime.keys(u[this.specialNames.attachment]);case 10:if((p.t3=p.t2()).done){p.next=35;break}if(o=p.t3.value,!(u[this.specialNames.attachment].hasOwnProperty(o)&&new RegExp(g).test(o))){p.next=33;break}if(!(u[this.specialNames.attachment][o].hasOwnProperty('data')||u[this.specialNames.attachment][o].hasOwnProperty('stub'))){p.next=32;break}if(n[o]=u[this.specialNames.attachment][o],!r.hasOwnProperty(o)){p.next=23;break}return p.next=18,this.attachmentsAreEqual(u[this.specialNames.attachment][o],r[o]);case 18:if(!p.sent){p.next=20;break}delete n[o];case 20:delete r[o],p.next=30;break;case 23:if(!(Object.keys(r).length&&1===a[this.specialNames.attachment][g].maximumNumber)){p.next=30;break}return l=Object.keys(r)[0],p.next=27,this.attachmentsAreEqual(u[this.specialNames.attachment][o],r[l]);case 27:if(!p.sent){p.next=30;break}n[o]=this.tools.copyLimitedRecursively(r[l]),n[o].name=o;case 30:p.next=33;break;case 32:r.hasOwnProperty(o)?delete r[o]:Object.keys(r).length&&1===a[this.specialNames.attachment][g].maximumNumber&&(m=Object.keys(r)[0],n[o]=this.tools.copyLimitedRecursively(r[m]),n[o].name=o,delete r[m]);case 33:p.next=10;break;case 35:for(s in r)r.hasOwnProperty(s)&&(n[s]={data:null});case 36:p.next=3;break;case 38:return p.abrupt('return',{payloadExists:0!==Object.keys(n).length,result:n});case 39:case'end':return p.stop();}},c,this)}));return function(){return t.apply(this,arguments)}}(),l.prototype.removeAlreadyExistingData=function(m,s,p){var a=!1;if(Array.isArray(m))this.equals(m,s)||(a=!0);else if(p&&'object'===('undefined'==typeof m?'undefined':ws(m))&&null!==m&&'object'===('undefined'==typeof s?'undefined':ws(s))&&null!==s){var d=Object.keys(m);for(var i in s)if(s.hasOwnProperty(i)){var r=d.indexOf(i);if(-1!==r&&d.splice(r,1),!this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(i))if(m.hasOwnProperty(i)){var o=this.removeAlreadyExistingData(m[i],s[i],this.dataScope.determineNestedSpecifcation(i,p));o.payloadExists?(a=!0,m[i]=o.newData):p.hasOwnProperty(i)&&delete m[i]}else a=!0,m[i]=null}d.length&&(a=!0)}else this.equals(m,this.convertDateToTimestampRecursively(s))||(a=!0);return{newData:m,payloadExists:a}},l.prototype.removeMetaData=function(y,f){if(y instanceof Date)return this.numberGetUTCTimestamp(y);if(Array.isArray(y)){for(var h=0,a=y,n=Array.isArray(a),i=0,r=n?a:a[Symbol.iterator]();;){var b;if(n){if(i>=a.length)break;b=a[i++]}else{if(i=a.next(),i.done)break;b=i.value}var o=b;y[h]=this.removeMetaData(o,f),h+=1}return y}if('object'===('undefined'==typeof y?'undefined':ws(y))&&null!==y){var p={};for(var d in y)if(y.hasOwnProperty(d)){var c=!!(f&&(f.hasOwnProperty(d)&&f[d]||f.hasOwnProperty(this.specialNames.additional)&&f[this.specialNames.additional])||{}).emptyEqualsToNull;if(![void 0,null].includes(y[d])&&!(c&&(''===y[d]||Array.isArray(y[d])&&0===y[d].length||'object'===ws(y[d])&&!(y[d]instanceof Date)&&0===Object.keys(y[d]).length)))if(this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(d))p[d]=y[d];else if(d!==this.specialNames.attachment)![this.specialNames.additional,this.specialNames.allowedRole,this.specialNames.conflict,this.specialNames.constraint.execution,this.specialNames.constraint.expression,this.specialNames.deletedConflict,this.specialNames.extend,this.specialNames.localSequence,this.specialNames.maximumAggregatedSize,this.specialNames.minimumAggregatedSize,this.specialNames.revisions,this.specialNames.revisionsInformation].includes(d)&&(!f||f.hasOwnProperty(d)||f.hasOwnProperty(this.specialNames.additional))&&(p[d]=this.removeMetaData(y[d],this.dataScope.determineNestedSpecifcation(d,f)));else if('object'===ws(y[d])&&null!==y[d])for(var u in p[d]={},y[d])if(y[d].hasOwnProperty(u)&&(p[d][u]={content_type:y[d][u].content_type||'application/octet-stream'}),y[d][u].hasOwnProperty('data'))p[d][u].data=y[d][u].data;else for(var g,s=['digest','stub'],l=0;l<s.length;l++)g=s[l],y[d][u].hasOwnProperty(g)&&(p[d][u][g]=y[d][u][g])}return p}return y},l.prototype.transform=function(){var t=d(regeneratorRuntime.mark(function m(s,t){var p,n,i,r,o;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(p=null,this.specialNames.type in s&&this.modelConfiguration.entities.hasOwnProperty(s[this.specialNames.type])&&(p=this.modelConfiguration.entities[s[this.specialNames.type]]),n=this.removeMetaData(s,p),i=!1,!t){l.next=10;break}return l.next=7,this.getNotAlreadyExistingAttachmentData(n,t,p);case 7:r=l.sent,r.payloadExists&&(n[this.specialNames.attachment]=r.result,i=r.payloadExists),this.removeAlreadyExistingData(n,this.removeMetaData(t,p),p).payloadExists&&(i=!0);case 10:if(i){l.next=19;break}l.t0=regeneratorRuntime.keys(n);case 12:if((l.t1=l.t0()).done){l.next=19;break}if(o=l.t1.value,!n.hasOwnProperty(o)||this.modelConfiguration.property.name.reserved.concat(this.specialNames.deleted,this.specialNames.id,this.specialNames.revision,this.specialNames.type).includes(o)){l.next=17;break}return i=!0,l.abrupt('break',19);case 17:l.next=12;break;case 19:return l.abrupt('return',i?n:null);case 20:case'end':return l.stop();}},m,this)}));return function(){return t.apply(this,arguments)}}(),l}())||Tt);Reflect.defineMetadata('design:paramtypes',[od,dp,op,Ms.Injector,nd,rp],pd);var dd=s.IsDefinedPipe=(St=(0,Ms.Pipe)({name:'genericIsDefined'}),St(It=function(){function t(){f(this,t)}return t.prototype.transform=function(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return!(void 0===a||e&&null===a)},t}())||It),cd=s.LimitToPipe=(Dt=(0,Ms.Pipe)({name:'genericLimitTo'}),Dt(Ot=function(){function a(){f(this,a)}var i=P;return a.prototype.transform=function(t,r,o){return(r=Math.abs(+r)===Infinity?+r:parseInt(r),isNaN(r))?t:('number'==typeof t?t=t.toString():'object'===('undefined'==typeof t?'undefined':ws(t))&&null!==t&&!Array.isArray(t)&&(t=Object.keys(t).sort()),!(Array.isArray(t)||'string'==typeof t))?t:(o=!o||isNaN(o)?0:parseInt(o),0>o&&(o=i(0,t.length+o)),0<=r)?t.slice(o,o+r):0===o?t.slice(r,t.length):t.slice(i(0,o+r),o)},a}())||Ot),ud=s.MapPipe=(Et=(0,Ms.Pipe)({name:'genericMap'}),Et(Ct=function(){function a(e){f(this,a),this.injector=this.injector,this.injector=e}return a.prototype.transform=function(g,e){for(var t=this.injector.get(e),a=arguments.length,n=Array(2<a?a-2:0),i=2;i<a;i++)n[i-2]=arguments[i];if(Array.isArray(g)){for(var r=[],o=g,l=Array.isArray(o),m=0,s=l?o:o[Symbol.iterator]();;){var y;if(l){if(m>=o.length)break;y=o[m++]}else{if(m=o.next(),m.done)break;y=m.value}var p=y;r.push(t.transform.apply(t,[p].concat(n)))}return r}var c={};for(var d in g)g.hasOwnProperty(d)&&(c[d]=t.transform.apply(t,[g[d],d].concat(n)));return c},a}())||Ct);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],ud);var gd=s.ObjectKeysPipe=(wt=(0,Ms.Pipe)({name:'genericObjectKeys'}),wt(_t=function(){function t(){f(this,t)}return t.prototype.transform=function(r){var o=1<arguments.length&&void 0!==arguments[1]&&arguments[1],t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]&&arguments[3];if('object'===('undefined'==typeof r?'undefined':ws(r))&&null!==r){var n=Object.keys(r);return o?(Array.isArray(o)||(o=a?[function(a,e){return(a=parseInt(a),e=parseInt(e),isNaN(a))?isNaN(e)?0:1:isNaN(e)?-1:a-e}]:[]),n.sort.apply(n,o),t&&n.reverse(),n):n}return[]},t}())||_t),yd=s.ReversePipe=(At=(0,Ms.Pipe)({name:'genericReverse'}),At(Rt=function(){function t(){f(this,t)}return t.prototype.transform=function(a){var e=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return a?e&&(a=a.slice()):a=[],'reverse'in a&&a.reverse(),a},t}())||Rt),fd=s.TypePipe=(Mt=(0,Ms.Pipe)({name:'genericType'}),Mt(zt=function(){function t(){f(this,t)}return t.prototype.transform=function(t){return'undefined'==typeof t?'undefined':ws(t)},t}())||zt),hd=s.ArrayDependentConcatPipe=(jt=(0,Ms.Pipe)({name:'genericArrayDependentConcat'}),jt(kt=function(){function t(){f(this,t)}return t.prototype.transform=function(n,e,t){return e?n.concat(t):n},t}())||kt),bd=s.StringEndsWithPipe=(Lt=(0,Ms.Pipe)({name:'genericStringEndsWith'}),Lt(Ut=function(){function t(){f(this,t)}return t.prototype.transform=function(a,n){return'string'==typeof a&&'string'==typeof n&&a.endsWith(n)},t}())||Ut),xd=s.StringHasTimeSuffixPipe=(qt=(0,Ms.Pipe)({name:'genericStringHasTimeSuffix'}),qt(Ft=function(){function t(){f(this,t)}return t.prototype.transform=function(t){return'string'==typeof t&&(t.endsWith('Date')||t.endsWith('Time')||'timestamp'===t)},t}())||Ft),vd=s.StringMatchPipe=(Gt=(0,Ms.Pipe)({name:'genericStringMatch'}),Gt(Vt=function(){function t(){f(this,t)}return t.prototype.transform=function(n,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'';return new RegExp(n,t).test(e)},t}())||Vt),Pd=s.StringMaximumLengthPipe=($t=(0,Ms.Pipe)({name:'genericStringMaximumLength'}),$t(Wt=function(){function t(){f(this,t)}return t.prototype.transform=function(n){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'...';return n?(n.length>e&&n.length-1>t.length&&(n=n.substring(0,P(1,e-t.length))+t),n):''},t}())||Wt),Nd=s.StringReplacePipe=(Bt=(0,Ms.Pipe)({name:'genericStringReplace'}),Bt(Ht=function(){function t(){f(this,t)}return t.prototype.transform=function(i,e){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'',a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'g';return i.replace('string'==typeof e?new RegExp(e,a):e,r)},t}())||Ht),Td=s.StringSafeHTMLPipe=(Kt=(0,Ms.Pipe)({name:'genericStringSafeHTML'}),Kt(Yt=function a(e){f(this,a),this.transform=this.transform,this.transform=e.bypassSecurityTrustHtml.bind(e)})||Yt);Reflect.defineMetadata('design:paramtypes',[Ls.DomSanitizer],Td);var Sd=s.StringSafeResourceURLPipe=(Jt=(0,Ms.Pipe)({name:'genericStringSafeResourceURL'}),Jt(Zt=function a(e){f(this,a),this.transform=this.transform,this.transform=e.bypassSecurityTrustResourceUrl.bind(e)})||Zt);Reflect.defineMetadata('design:paramtypes',[Ls.DomSanitizer],Sd);var Id=s.StringSafeScriptPipe=(Qt=(0,Ms.Pipe)({name:'genericStringSafeScript'}),Qt(Xt=function a(e){f(this,a),this.transform=this.transform,this.transform=e.bypassSecurityTrustScript.bind(e)})||Xt);Reflect.defineMetadata('design:paramtypes',[Ls.DomSanitizer],Id);var Dd=s.StringSafeStylePipe=(ea=(0,Ms.Pipe)({name:'genericStringSafeStyle'}),ea(ta=function a(e){f(this,a),this.transform=this.transform,this.transform=e.bypassSecurityTrustStyle.bind(e)})||ta);Reflect.defineMetadata('design:paramtypes',[Ls.DomSanitizer],Dd);var Od=s.StringSafeURLPipe=(aa=(0,Ms.Pipe)({name:'genericStringSafeURL'}),aa(na=function a(e){f(this,a),this.transform=this.transform,this.transform=e.bypassSecurityTrustUrl.bind(e)})||na);Reflect.defineMetadata('design:paramtypes',[Ls.DomSanitizer],Od);var Ed=s.StringShowIfPatternMatchesPipe=(ia=(0,Ms.Pipe)({name:'genericStringShowIfPatternMatches'}),ia(ra=function(){function t(){f(this,t)}return t.prototype.transform=function(r,e){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',n=('string'==typeof e?new RegExp(e,a):e).test(r);return o&&(n=!n),n?r:''},t}())||ra),Cd=s.StringSliceMatchPipe=(oa=(0,Ms.Pipe)({name:'genericStringSliceMatch'}),oa(la=function(){function t(){f(this,t)}return t.prototype.transform=function(r,o){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'';if('string'==typeof r){var n=r.match(new RegExp(o,a));if(n&&'string'==typeof n[t])return n[t]}return''},t}())||la),wd=s.StringStartsWithPipe=(ma=(0,Ms.Pipe)({name:'genericStringStartsWith'}),ma(sa=function(){function t(){f(this,t)}return t.prototype.transform=function(a,n){return'string'==typeof a&&'string'==typeof n&&a.startsWith(n)},t}())||sa),_d=s.StringTemplatePipe=(pa=(0,Ms.Pipe)({name:'genericStringTemplate'}),pa(da=function(){function a(e){f(this,a),this.extendObject=this.extendObject,this.extendObject=e.transform.bind(e)}return a.prototype.transform=function(){for(var o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:'',e=arguments.length,t=Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];var n=this.extendObject.apply(this,[!0,{}].concat(t)),i=Object.keys(n).filter(function(t){try{new Function('var '+t)()}catch(t){return!1}return!0});return new(Function.prototype.bind.apply(Function,[null].concat(['scope'],i,['return `'+o+'`'])))().apply(void 0,[n].concat(i.map(function(t){return n[t]})))},a}())||da);Reflect.defineMetadata('design:paramtypes',[cp],_d);var Ad=s.NumberPercentPipe=(ca=(0,Ms.Pipe)({name:'genericNumberPercent'}),ca(ua=function(){function t(){f(this,t)}return t.prototype.transform=function(a,e){return 100*(a/e)},t}())||ua),Rd=s.CanDeactivateRouteLeaveGuard=(ga=(0,Ms.Injectable)(),ga(ya=function(){function t(){f(this,t)}return t.prototype.canDeactivate=function(i){for(var e=arguments.length,t=Array(1<e?e-1:0),a=1;a<e;a++)t[a-1]=arguments[a];return!('canDeactivate'in i)||i.canDeactivate.apply(i,t)},t}())||ya),Md=s.ConfirmComponent=(fa=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy.OnPush,selector:'generic-confirm',template:'\n        <h2 @defaultAnimation mat-dialog-title *ngIf="title">{{title}}</h2>\n        <mat-dialog-content @defaultAnimation *ngIf="message">\n            {{message}}\n        </mat-dialog-content>\n        <mat-dialog-actions>\n            <button (click)="dialogReference.close(true)" mat-raised-button>\n                {{okText}}\n            </button>\n            <button (click)="dialogReference.close(false)" mat-raised-button>\n                {{cancelText}}\n            </button>\n        </mat-dialog-actions>\n    '}),ha=(0,Ms.Input)(),ba=(0,Ms.Input)(),fa(xa=(va=function i(e,r){if(f(this,i),c(this,'cancelText',Pa,this),this.dialogReference=null,c(this,'okText',Na,this),this.title='',this.message='',this.dialogReference=r,'object'===('undefined'==typeof e?'undefined':ws(e))&&null!==e)for(var a in e)e.hasOwnProperty(a)&&(this[a]=e[a])},Pa=a(va.prototype,'cancelText',[ha],{enumerable:!0,initializer:function(){return'Cancel'}}),Na=a(va.prototype,'okText',[ba],{enumerable:!0,initializer:function(){return'OK'}}),va))||xa);(0,Ms.Optional)()(Md,null,0),(0,Ms.Inject)(ks.MAT_DIALOG_DATA)(Md,null,0),(0,Ms.Optional)()(Md,null,1),Reflect.defineMetadata('design:paramtypes',[,ks.MatDialogRef],Md);var zd=s.AlertService=(Ta=(0,Ms.Injectable)(),Ta(Sa=function(){function a(e){f(this,a),this.dialog=this.dialog,this.dialogReference=this.dialogReference,this.dialog=e}return a.prototype.confirm=function(t){return'string'==typeof t?t={data:{message:t}}:('object'!==('undefined'==typeof t?'undefined':ws(t))||null===t||!t.hasOwnProperty('data'))&&(t={data:t}),this.dialogReference=this.dialog.open(Md,t),this.dialogReference.afterClosed().toPromise()},a}())||Sa);Reflect.defineMetadata('design:paramtypes',[ks.MatDialog],zd);var jd=s.DataService=(Ia=(0,Ms.Injectable)(),Ia(Da=(Ea=Oa=function(){function A(e,t,a,n,i,r){f(this,A),this.connection=this.connection,this.configuration=this.configuration,this.database=this.database,this.equals=this.equals,this.extendObject=this.extendObject,this.middlewares={post:{},pre:{}},this.platformID=this.platformID,this.remoteConnection=null,this.runningRequests=[],this.runningRequestsStream=new Bs.Subject,this.stringFormat=this.stringFormat,this.synchronisation=null,this.tools=this.tools,this.configuration=a.configuration,this.configuration.database.hasOwnProperty('publicURL')&&(this.configuration.database.url=this.configuration.database.publicURL),this.database=Fs.default,this.equals=e.transform.bind(e),this.extendObject=t.transform.bind(t),this.platformID=n,this.stringFormat=i.transform.bind(i),this.tools=r.fixed.tools;var D=this.configuration.database.model.property.name.special.id,l=this.configuration.database.model.property.name.special.revision,m=this.database.prototype.bulkDocs,s=this;this.database.plugin({bulkDocs:function(){var t=d(regeneratorRuntime.mark(function p(C){for(var e=arguments.length,a=Array(1<e?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];var i,r,o,w,c,u,g,y,f,h,b,A,v,_,N,P,T,R,I,O;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return!Array.isArray(C)&&'object'===('undefined'==typeof C?'undefined':ws(C))&&null!==C&&C.hasOwnProperty(D)&&(C=[C]),i=[],n.prev=2,n.next=5,m.call.apply(m,[this,C].concat(a));case 5:i=n.sent,n.next=52;break;case 8:if(n.prev=8,n.t0=n['catch'](2),'bad_request'!==n.t0.name){n.next=51;break}r=C,o=Array.isArray(r),w=0,r=o?r:r[Symbol.iterator]();case 12:if(!o){n.next=18;break}if(!(w>=r.length)){n.next=15;break}return n.abrupt('break',40);case 15:c=r[w++],n.next=22;break;case 18:if(w=r.next(),!w.done){n.next=21;break}return n.abrupt('break',40);case 21:c=w.value;case 22:if(u=c,!['latest','upsert'].includes(u[l])){n.next=38;break}return n.prev=24,n.next=27,this.get(u[D]);case 27:n.t1=l,u[l]=n.sent[n.t1],n.next=38;break;case 31:if(n.prev=31,n.t2=n['catch'](24),'not_found'!==n.t2.name){n.next=37;break}delete u[l],n.next=38;break;case 37:throw n.t2;case 38:n.next=12;break;case 40:return n.prev=40,n.next=43,m.call.apply(m,[this,C].concat(a));case 43:i=n.sent,n.next=49;break;case 46:throw n.prev=46,n.t3=n['catch'](40),n.t3;case 49:n.next=52;break;case 51:throw n.t0;case 52:g=[],y=[],f=0,h=i,b=Array.isArray(h),A=0,h=b?h:h[Symbol.iterator]();case 56:if(!b){n.next=62;break}if(!(A>=h.length)){n.next=59;break}return n.abrupt('break',93);case 59:v=h[A++],n.next=66;break;case 62:if(A=h.next(),!A.done){n.next=65;break}return n.abrupt('break',93);case 65:v=A.value;case 66:if(_=v,'object'!==ws(C[f])||null===C){n.next=90;break}if(!(l in C[f]&&'conflict'===_.name&&['latest','upsert'].includes(C[f][l]))){n.next=73;break}y.push(_),g.push(f),n.next=90;break;case 73:if(!(D in C[f]&&s.configuration.database.ignoreNoChangeError&&'name'in _&&'forbidden'===_.name&&'message'in _&&_.message.startsWith('NoChange:'))){n.next=90;break}if(i[f]={id:C[f][D],ok:!0},n.prev=75,!(l in C[f])||['latest','upsert'].includes(C[f][l])){n.next=80;break}n.t4=C[f][l],n.next=84;break;case 80:return n.next=82,this.get(i[f].id);case 82:n.t5=l,n.t4=n.sent[n.t5];case 84:i[f].rev=n.t4,n.next=90;break;case 87:throw n.prev=87,n.t6=n['catch'](75),n.t6;case 90:f+=1;case 91:n.next=56;break;case 93:if(!y.length){n.next=113;break}return C=y,n.next=97,this.bulkDocs.apply(this,[C].concat(a));case 97:N=n.sent,P=N,T=Array.isArray(P),R=0,P=T?P:P[Symbol.iterator]();case 99:if(!T){n.next=105;break}if(!(R>=P.length)){n.next=102;break}return n.abrupt('break',113);case 102:I=P[R++],n.next=109;break;case 105:if(R=P.next(),!R.done){n.next=108;break}return n.abrupt('break',113);case 108:I=R.value;case 109:O=I,i[g.shift()]=O;case 111:n.next=99;break;case 113:return n.abrupt('return',i);case 114:case'end':return n.stop();}},p,this,[[2,8],[24,31],[40,46],[75,87]])}));return function(){return t.apply(this,arguments)}}()}),this.database.plugin(Vs.default).plugin(Ws.default);for(var o=this.configuration.database.plugins,p=Array.isArray(o),c=0,u=p?o:o[Symbol.iterator]();;){var h;if(p){if(c>=o.length)break;h=o[c++]}else{if(c=o.next(),c.done)break;h=c.value}var g=h;this.database.plugin(g)}}return A.determineGenericIndexablePropertyNames=function(i,e){var t=i.property.name.special;return Object.keys(e).filter(function(a){return e[a].index||!(i.property.name.reserved.concat(t.additional,t.allowedRole,t.attachment,t.conflict,t.constraint.execution,t.constraint.expression,t.deleted,t.deleted_conflict,t.extend,t.id,t.maximumAggregatedSize,t.minimumAggregatedSize,t.revision,t.revisions,t.revisionsInformation,t.type).includes(a)||e[a].type&&('string'==typeof e[a].type&&e[a].type.endsWith('[]')||Array.isArray(e[a].type)&&e[a].type.length&&Array.isArray(e[a].type[0])||i.entities.hasOwnProperty(e[a].type)))}).concat(t.id,t.revision)},A.prototype.initialize=function(){var e=d(regeneratorRuntime.mark(function e(){var t,n,R,r,o,i,l,m,s,p,c,u,g,y,M,h,b,x,v,_,z,P,T,S,I,O,E,j,k,D,w=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.tools.timeout();case 2:for(t=this.extendObject(!0,{skip_setup:!0},this.configuration.database.connector||{}),n=this.configuration.name||'generic',(0,zs.isPlatformServer)(this.platformID)||(this.remoteConnection=new this.database(this.stringFormat(this.configuration.database.url,'')+('/'+n),t)),this.connection=this.configuration.database.local||(0,zs.isPlatformServer)(this.platformID)?new this.database(n,t):this.remoteConnection,R=this.configuration,r=this.configuration.database.model.property.name.special.id,o=this.configuration.database.model.property.name.special.revision,i=function(a){var l=w.connection[a].bind(w.connection);w.connection[a]=function(){var t=d(regeneratorRuntime.mark(function t(g,y){var f,i,m,s,h,d,c=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(t.prev=0,f=c.length,i=Array(2<f?f-2:0),m=2;m<f;m++)i[m-2]=c[m];return t.next=4,l.apply(void 0,[g,y].concat(i));case 4:return t.abrupt('return',t.sent);case 7:if(t.prev=7,t.t0=t['catch'](0),s='object'===('undefined'==typeof g?'undefined':ws(g))&&(r in g)?g[r]:g,!(s&&R.database.ignoreNoChangeError&&('name'in t.t0)&&'forbidden'===t.t0.name&&('message'in t.t0)&&t.t0.message.startsWith('NoChange:'))){t.next=29;break}if(h={id:s,ok:!0},d='object'===('undefined'==typeof y?'undefined':ws(y))&&(o in y)?y[o]:y,t.prev=13,!(o in g)||['latest','upsert'].includes(d)){t.next=18;break}t.t1=d,t.next=22;break;case 18:return t.next=20,this.get(h.id);case 20:t.t2=o,t.t1=t.sent[t.t2];case 22:h.rev=t.t1,t.next=28;break;case 25:throw t.prev=25,t.t3=t['catch'](13),t.t3;case 28:return t.abrupt('return',h);case 29:throw t.t0;case 30:case'end':return t.stop();}},t,this,[[0,7],[13,25]])}));return function(){return t.apply(this,arguments)}}()},l=['post','put'],m=0;m<l.length;m++)s=l[m],i(s);for(c in p=function(a){if(A.wrappableMethodNames.includes(a)&&'function'==typeof w.connection[a]){var i=w.connection[a];w.connection[a]=function(){var n=d(regeneratorRuntime.mark(function n(){for(var e=arguments.length,D=Array(e),O=0;O<e;O++)D[O]=arguments[O];var o,l,m,s,p,d,c,E,g,y,f,h,b,x,v,C,N,_,T,S;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o={name:a,parameter:D},w.runningRequests.push(o),w.runningRequestsStream.next(w.runningRequests),l=function(){var t=w.runningRequests.indexOf(o);-1!==t&&w.runningRequests.splice(t,1),w.runningRequestsStream.next(w.runningRequests)},m=[a,'_all'],s=0;case 6:if(!(s<m.length)){n.next=38;break}if(p=m[s],!w.middlewares.pre.hasOwnProperty(p)){n.next=35;break}d=w.middlewares.pre[p],c=Array.isArray(d),E=0,d=c?d:d[Symbol.iterator]();case 10:if(!c){n.next=16;break}if(!(E>=d.length)){n.next=13;break}return n.abrupt('break',35);case 13:g=d[E++],n.next=20;break;case 16:if(E=d.next(),!E.done){n.next=19;break}return n.abrupt('break',35);case 19:g=E.value;case 20:if(y=g,D=y.apply(w.connection,D.concat('_all'===p?a:[])),!('then'in D)){n.next=33;break}return n.prev=23,n.next=26,D;case 26:D=n.sent,n.next=33;break;case 29:throw n.prev=29,n.t0=n['catch'](23),l(),n.t0;case 33:n.next=10;break;case 35:s++,n.next=6;break;case 38:o.wrappedParameter=D,f=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:w.connection,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:D;return i.apply(a,e)},h=f(),b=[a,'_all'],x=0;case 43:if(!(x<b.length)){n.next=75;break}if(v=b[x],!w.middlewares.post.hasOwnProperty(v)){n.next=72;break}C=w.middlewares.post[v],N=Array.isArray(C),_=0,C=N?C:C[Symbol.iterator]();case 47:if(!N){n.next=53;break}if(!(_>=C.length)){n.next=50;break}return n.abrupt('break',72);case 50:T=C[_++],n.next=57;break;case 53:if(_=C.next(),!_.done){n.next=56;break}return n.abrupt('break',72);case 56:T=_.value;case 57:if(S=T,h=S.call.apply(S,[w.connection,h,f].concat(D.concat('_all'===v?a:[]))),!('then'in h)){n.next=70;break}return n.prev=60,n.next=63,h;case 63:h=n.sent,n.next=70;break;case 66:throw n.prev=66,n.t1=n['catch'](60),l(),n.t1;case 70:n.next=47;break;case 72:x++,n.next=43;break;case 75:if(!('then'in h)){n.next=86;break}return n.prev=76,n.next=79,h;case 79:h=n.sent,n.next=86;break;case 82:throw n.prev=82,n.t2=n['catch'](76),l(),n.t2;case 86:return l(),n.abrupt('return',h);case 88:case'end':return n.stop();}},n,w,[[23,29],[60,66],[76,82]])}));return function(){return n.apply(this,arguments)}}()}},this.connection)p(c);if(this.connection.installValidationMethods(),!((0,zs.isPlatformServer)(this.platformID)&&this.configuration.database.createGenericFlatIndex)){e.next=101;break}e.t0=regeneratorRuntime.keys(this.configuration.database.model.entities);case 17:if((e.t1=e.t0()).done){e.next=44;break}if(u=e.t1.value,!(this.configuration.database.model.entities.hasOwnProperty(u)&&new RegExp(this.configuration.database.model.property.name.typeRegularExpressionPattern.public).test(u))){e.next=42;break}g=A.determineGenericIndexablePropertyNames(this.configuration.database.model,this.configuration.database.model.entities[u]),y=Array.isArray(g),M=0,g=y?g:g[Symbol.iterator]();case 21:if(!y){e.next=27;break}if(!(M>=g.length)){e.next=24;break}return e.abrupt('break',42);case 24:h=g[M++],e.next=31;break;case 27:if(M=g.next(),!M.done){e.next=30;break}return e.abrupt('break',42);case 30:h=M.value;case 31:return b=h,e.prev=32,e.next=35,this.connection.createIndex({index:{ddoc:u+'-'+b+'-GenericIndex',fields:[this.configuration.database.model.property.name.special.type,b],name:u+'-'+b+'-GenericIndex'}});case 35:e.next=40;break;case 37:throw e.prev=37,e.t2=e['catch'](32),e.t2;case 40:e.next=21;break;case 42:e.next=17;break;case 44:return x=void 0,e.prev=45,e.next=48,this.connection.getIndexes();case 48:x=e.sent.indexes,e.next=54;break;case 51:throw e.prev=51,e.t3=e['catch'](45),e.t3;case 54:v=x,_=Array.isArray(v),z=0,v=_?v:v[Symbol.iterator]();case 55:if(!_){e.next=61;break}if(!(z>=v.length)){e.next=58;break}return e.abrupt('break',101);case 58:P=v[z++],e.next=65;break;case 61:if(z=v.next(),!z.done){e.next=64;break}return e.abrupt('break',101);case 64:P=z.value;case 65:if(T=P,!T.name.endsWith('-GenericIndex')){e.next=99;break}S=!1,e.t4=regeneratorRuntime.keys(this.configuration.database.model.entities);case 69:if((e.t5=e.t4()).done){e.next=90;break}if(I=e.t5.value,!T.name.startsWith(I+'-')){e.next=88;break}O=A.determineGenericIndexablePropertyNames(this.configuration.database.model,this.configuration.database.model.entities[I]),E=Array.isArray(O),j=0,O=E?O:O[Symbol.iterator]();case 73:if(!E){e.next=79;break}if(!(j>=O.length)){e.next=76;break}return e.abrupt('break',87);case 76:k=O[j++],e.next=83;break;case 79:if(j=O.next(),!j.done){e.next=82;break}return e.abrupt('break',87);case 82:k=j.value;case 83:D=k,T.name===I+'-'+D+'-GenericIndex'&&(S=!0);case 85:e.next=73;break;case 87:return e.abrupt('break',90);case 88:e.next=69;break;case 90:if(S){e.next=99;break}return e.prev=91,e.next=94,this.connection.deleteIndex(T);case 94:e.next=99;break;case 96:throw e.prev=96,e.t6=e['catch'](91),e.t6;case 99:e.next=55;break;case 101:case'end':return e.stop();}},e,this,[[32,37],[45,51],[91,96]])}));return function(){return e.apply(this,arguments)}}(),A.prototype.createIndex=function(){var t;return(t=this.connection).createIndex.apply(t,arguments)},A.prototype.bulkDocs=function(){var t;return(t=this.connection).bulkDocs.apply(t,arguments)},A.prototype.destroy=function(){var a;this.synchronisation&&this.synchronisation.cancel();var e=(a=this.connection).destroy.apply(a,arguments);return this.middlewares={post:{},pre:{}},e},A.prototype.find=function(){var t=d(regeneratorRuntime.mark(function n(i){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this.connection.find(this.extendObject(!0,{selector:i},r));case 2:return a.abrupt('return',a.sent.docs);case 3:case'end':return a.stop();}},n,this)}));return function(){return t.apply(this,arguments)}}(),A.prototype.get=function(){var e=d(regeneratorRuntime.mark(function e(){var l,a,n,i,r=arguments;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.configuration.database.model.property.name.special.id,n=this.configuration.database.model.property.name.special.revision,e.next=4,(l=this.connection).get.apply(l,r);case 4:if(i=e.sent,!(Qs.data.hasOwnProperty(i[a])&&1<r.length&&(this.equals(1>=r.length?void 0:r[1],{rev:'latest'})||this.equals(1>=r.length?void 0:r[1],{latest:!0})||this.equals(1>=r.length?void 0:r[1],{latest:!0,rev:'latest'}))&&parseInt(i[n].match(A.revisionNumberRegularExpression)[1])<parseInt(Qs.data[i[a]][n].match(A.revisionNumberRegularExpression)[1]))){e.next=7;break}return e.abrupt('return',Qs.data[i[a]]);case 7:return e.abrupt('return',i);case 8:case'end':return e.stop();}},e,this)}));return function(){return e.apply(this,arguments)}}(),A.prototype.getAttachment=function(){var t;return(t=this.connection).getAttachment.apply(t,arguments)},A.prototype.put=function(){var t;return(t=this.connection).put.apply(t,arguments)},A.prototype.putAttachment=function(){var t;return(t=this.connection).putAttachment.apply(t,arguments)},A.prototype.register=function(p,e){var t=this,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'post';Array.isArray(p)||(p=[p]);for(var n=p,i=Array.isArray(n),r=0,o=i?n:n[Symbol.iterator]();;){var s;if(i){if(r>=n.length)break;s=n[r++]}else{if(r=n.next(),r.done)break;s=r.value}var l=s;this.middlewares[a].hasOwnProperty(l)||(this.middlewares[a][l]=[]),this.middlewares[a][l].push(e)}return function(){for(var n=p,i=Array.isArray(n),r=0,o=i?n:n[Symbol.iterator]();;){var d;if(i){if(r>=n.length)break;d=n[r++]}else{if(r=n.next(),r.done)break;d=r.value}var l=d,m=t.middlewares[a][l].indexOf(e);-1!==m&&t.middlewares[a][l].splice(m,1),0===t.middlewares[a][l].length&&delete t.middlewares[a][l]}}},A.prototype.remove=function(){var t;return(t=this.connection).remove.apply(t,arguments)},A.prototype.removeAttachment=function(){var t;return(t=this.connection).removeAttachment.apply(t,arguments)},A.prototype.startSynchronisation=function(){var t=d(regeneratorRuntime.mark(function n(){var i,a=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!(this.configuration.database.local&&this.remoteConnection&&null===this.synchronisation)){t.next=5;break}return i=!1,t.next=4,new Promise(function(t,r){a.synchronisation=a.connection.sync(a.remoteConnection,{live:!0,retry:!0}).on('change',function(t){return console.info('change',t)}).on('paused',function(){i||(i=!0,t(a.synchronisation)),console.info('paused')}).on('active',function(){return console.info('active')}).on('denied',function(t){i||(i=!0,r({name:'denied',error:t})),console.warn('denied',t)}).on('complete',function(t){return console.info('complete',t)}).on('error',function(t){i||(i=!0,r({name:'error',error:t})),console.error('error',t)})});case 4:return t.abrupt('return',t.sent);case 5:return t.abrupt('return',null);case 6:case'end':return t.stop();}},n,this)}));return function(){return t.apply(this,arguments)}}(),A.prototype.stopSynchronisation=function(){var t=d(regeneratorRuntime.mark(function n(){var i,r=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!this.synchronisation){t.next=7;break}return i=new Promise(function(t,e){r.synchronisation.on('complete',t),r.synchronisation.on('error',e)}),this.synchronisation.cancel(),t.next=5,i;case 5:return this.synchronisation=null,t.abrupt('return',!0);case 7:return t.abrupt('return',!1);case 8:case'end':return t.stop();}},n,this)}));return function(){return t.apply(this,arguments)}}(),A}(),Oa.revisionNumberRegularExpression=/^([0-9]+)-/,Oa.wrappableMethodNames=['allDocs','bulkDocs','bulkGet','close','compact','compactDocument','createIndex','deleteIndexs','destroy','find','get','getAttachment','getIndexes','info','post','put','putAttachment','query','remove','removeAttachment'],Ea))||Da);(0,Ms.Inject)(Ms.PLATFORM_ID)(jd,null,3),Reflect.defineMetadata('design:paramtypes',[dp,cp,op,String,Bp,rp],jd);var kd=s.DataScopeService=(Ca=(0,Ms.Injectable)(),Ca(wa=function(){function p(e,t,a,n,i,r,o,l,m){f(this,p),this.attachmentWithPrefixExists=this.attachmentWithPrefixExists,this.configuration=this.configuration,this.data=this.data,this.extendObject=this.extendObject,this.extractData=this.extractData,this.getFilenameByPrefix=this.getFilenameByPrefix,this.numberGetUTCTimestamp=this.numberGetUTCTimestamp,this.representObject=this.representObject,this.tools=this.tools,this.attachmentWithPrefixExists=e.transform.bind(e),this.configuration=r.configuration,this.data=t,this.extendObject=a.transform.bind(a),this.extractData=n.transform.bind(n),this.getFilenameByPrefix=i.transform.bind(i),this.numberGetUTCTimestamp=o.transform.bind(o),this.representObject=l.transform.bind(l),this.tools=m.fixed.tools}return p.prototype.determine=function(){var t=d(regeneratorRuntime.mark(function h(b){var t,o,l,m,s,p,d,c,x,g,y,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,v=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'latest',i=4<arguments.length&&void 0!==arguments[4]&&arguments[4];return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(t={},!f){h.next=52;break}return o={},'latest'===n?(o.latest=!0,i&&(o.revs_info=!0)):o.rev=n,h.prev=4,h.next=7,this.data.get(f,o);case 7:t=h.sent,h.next=13;break;case 10:throw h.prev=10,h.t0=h['catch'](4),new Error('Document with given id "'+f+'" and revision "'+(n+'" isn\'t available: ')+('message'in h.t0?h.t0.message:this.representObject(h.t0)));case 13:if(!i){h.next=52;break}if(l=this.configuration.database.model.property.name.special.revisionsInformation,m=void 0,s=null,'latest'===n){h.next=33;break}return delete o.rev,o.revs_info=!0,h.prev=20,h.next=23,this.data.get(f,o);case 23:s=h.sent,h.next=29;break;case 26:throw h.prev=26,h.t1=h['catch'](20),new Error('Document with given id "'+f+'" and revision "'+(n+'" isn\'t available: ')+('message'in h.t1?h.t1.message:this.representObject(h.t1)));case 29:m=s[l],delete s[l],h.next=34;break;case 33:m=t[l];case 34:t[l]={},p=!0,d=m,c=Array.isArray(d),x=0,d=c?d:d[Symbol.iterator]();case 37:if(!c){h.next=43;break}if(!(x>=d.length)){h.next=40;break}return h.abrupt('break',51);case 40:g=d[x++],h.next=47;break;case 43:if(x=d.next(),!x.done){h.next=46;break}return h.abrupt('break',51);case 46:g=x.value;case 47:y=g,'available'===y.status&&(t[l][p?'latest':y.rev]={revision:y.rev},p=!1);case 49:h.next=37;break;case 51:s&&(t[l].latest.scope=this.generate(b,v,s));case 52:return h.abrupt('return',this.generate(b,v,t));case 53:case'end':return h.stop();}},h,this,[[4,10],[20,26]])}));return function(){return t.apply(this,arguments)}}(),p.prototype.determineNestedSpecifcation=function(i,e){var t=this.configuration.database.model.entities,a=this.configuration.database.model.property.name.special.additional;if(e)if(e.hasOwnProperty(i)){if(t.hasOwnProperty(e[i].type))return t[e[i].type];}else if(e.hasOwnProperty(a)&&t.hasOwnProperty(e[a].type))return t[e[a].type];return null},p.prototype.determineSpecificationObject=function(p,e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];e||(e=Object.keys(p));for(var a={},n=e,i=Array.isArray(n),r=0,o=i?n:n[Symbol.iterator]();;){var d;if(i){if(r>=n.length)break;d=n[r++]}else{if(r=n.next(),r.done)break;d=r.value}var l=d;if(p.hasOwnProperty(l)&&!t.includes(l))if(l===this.configuration.database.model.property.name.special.attachment)for(var m in a[l]={},p[l])p[l].hasOwnProperty(m)&&(a[l][m]=this.extendObject(!0,this.tools.copyLimitedRecursively(this.configuration.database.model.property.defaultSpecification),p[l][m]));else a[l]=this.extendObject(!0,this.tools.copyLimitedRecursively(this.configuration.database.model.property.defaultSpecification),p[l]),this.configuration.database.model.entities.hasOwnProperty(a[l].type)&&(a[l].value=this.determineSpecificationObject(this.configuration.database.model.entities[a[l].type]))}return a},p.prototype.generate=function(q,F){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},G=arguments[3],n=this.configuration.database.model.entities,V=n[q],$=this.configuration.database.model.property.name.special;G||(G=q.startsWith('_')?[$.id,$.attachment]:[]);var o=this.configuration.database.model.property.name.reserved.concat($.conflict,$.deleted,$.deletedConflict,$.localSequence,$.revision,$.revisions,$.revisionsInformation,$.type),l=this.determineSpecificationObject(V,F,G.concat(o));F||(F=Object.keys(l).filter(function(t){return'object'===ws(l[t])&&null!==typeof l[t]&&!Array.isArray(l[t])}),F=F.concat(Object.keys(t).filter(function(t){return!F.concat(o).includes(t)})));for(var m={},s=F,p=Array.isArray(s),d=0,c=p?s:s[Symbol.iterator]();;){var W;if(p){if(d>=s.length)break;W=s[d++]}else{if(d=s.next(),d.done)break;W=d.value}var u=W;if(!G.includes(u)){m[u]=l.hasOwnProperty(u)?this.tools.copyLimitedRecursively(l[u]):this.tools.copyLimitedRecursively('additional'in $&&$.additional?l[$.additional]:{});var B=new Date,H=this.numberGetUTCTimestamp(B);if(u===$.attachment){for(var K in l[u])if(l[u].hasOwnProperty(K)){if(m[u][K].name=K,m[u][K].value=null,0===Object.keys(t).length)for(var Y,h={newDocument:t,oldDocument:null,userConteyt:{},securitySettings:{},name:K,models:n,modelConfiguration:this.configuration.database.model,serialize:function(t){return JSON.stringify(t,null,4)},modelName:q,model:V,propertySpecification:m[u][K],now:B,nowUTCTimestamp:H,getFilenameByPrefix:this.getFilenameByPrefix,attachmentWithPrefixExists:this.attachmentWithPrefixExists.bind(t,t)},g=['onCreateExecution','onCreateExpression'],y=0;y<g.length;y++)Y=g[y],m[u][K].hasOwnProperty(Y)&&m[u][K][Y]&&(m[u][K].value=new(Function.prototype.bind.apply(Function,[null].concat(Object.keys(h),[(Y.endsWith('Expression')?'return ':'')+m[u][K][Y]])))().apply(void 0,Object.values(h)),m[u][K].hasOwnProperty('value')&&void 0===m[u][K].value&&delete m[u][K].value);var f=!1;if(t.hasOwnProperty(u)&&![void 0,null].includes(t[u]))for(var z in t[u])if(m[u].hasOwnProperty(K)&&new RegExp(K).test(z)){f=!0,m[u][K].value=t[u][z],m[u][K].value.name=z;break}f||!m[u][K].hasOwnProperty('default')||[void 0,null].includes(m[u][K].default)||(m[u][K].value=this.tools.copyLimitedRecursively({},m[u][K].default))}}else{if(m[u].name=u,m[u].value=null,0===Object.keys(t).length)for(var M,_={newDocument:t,oldDocument:null,userContext:{},securitySettings:{},name:u,models:n,modelConfiguration:this.configuration.database.model,serialize:function(t){return JSON.stringify(t,null,4)},modelName:q,model:V,propertySpecification:m[u],now:B,nowUTCTimestamp:H,getFilenameByPrefix:this.getFilenameByPrefix,attachmentWithPrefixExists:this.attachmentWithPrefixExists.bind(t,t)},b=['onCreateExpression','onCreateExecution'],x=0;x<b.length;x++)M=b[x],m[u].hasOwnProperty(M)&&m[u][M]&&(m[u].value=new(Function.prototype.bind.apply(Function,[null].concat(Object.keys(_),[(M.endsWith('Expression')?'return ':'')+m[u][M]])))().apply(void 0,Object.values(_)),void 0===m[u].value&&(m[u].value=null));if(t.hasOwnProperty(u)&&![void 0,null].includes(t[u])?m[u].value=t[u]:m[u].hasOwnProperty('default')&&![void 0,null].includes(m[u].default)?m[u].value=this.tools.copyLimitedRecursively(m[u].default):m[u].hasOwnProperty('selection')&&Array.isArray(m[u].selection)&&m[u].selection.length&&(m[u].value=m[u].selection[0]),'number'==typeof m[u].value&&m[u].hasOwnProperty('type')&&(m[u].type.endsWith('Date')||m[u].type.endsWith('Time')))m[u].value=new Date(1e3*m[u].value);else if(m[u].hasOwnProperty('type'))if(n.hasOwnProperty(m[u].type))m[u].value=this.generate(m[u].type,null,m[u].value||{},[$.attachment,$.id]);else if(m[u].type.endsWith('[]')){var v=m[u].type.substring(0,m[u].type.length-2);if(Array.isArray(m[u].value)&&n.hasOwnProperty(v))for(var j=0,N=m[u].value,P=Array.isArray(N),T=0,S=P?N:N[Symbol.iterator]();;){var J;if(P){if(T>=N.length)break;J=N[T++]}else{if(T=N.next(),T.done)break;J=T.value}var I=J;m[u].value[j]=this.generate(v,null,I||{},[$.attachment,$.id]),j+=1}}}}}for(var L=o,O=Array.isArray(L),E=0,C=O?L:L[Symbol.iterator]();;){var Z;if(O){if(E>=L.length)break;Z=L[E++]}else{if(E=L.next(),E.done)break;Z=E.value}var k=Z;t.hasOwnProperty(k)?m[k]=t[k]:k===$.type&&(m[k]=q)}return m._metaData={submitted:!1},m},p}())||wa);Reflect.defineMetadata('design:paramtypes',[md,jd,cp,sd,ld,op,nd,up,rp],kd);var Ld=s.AbstractResolver=(_a=(0,Ms.Injectable)(),_a(Aa=function(){function o(e){var t=this;f(this,o),this.cache=!0,this.cacheStore={},this.changesStream=this.changesStream,this.convertCircularObjectToJSON=this.convertCircularObjectToJSON,this.data=this.data,this.databaseBaseURL=this.databaseBaseURL,this.databaseURL=this.databaseURL,this.databaseURLCache={},this.domSanitizer=this.domSanitizer,this.escapeRegularExpressions=this.escapeRegularExpressions,this.extendObject=this.extendObject,this.message=this.message,this.messageConfiguration=new ks.MatSnackBarConfig,this.modelConfiguration=this.modelConfiguration,this.relevantKeys=null,this.relevantSearchKeys=null,this.representObject=this.representObject,this.specialNames=this.specialNames,this.tools=this.tools,this.type='Item',this.useLimit=!1,this.useSkip=!1;var a=lp(e,this,this.constructor);this.convertCircularObjectToJSON=a(pp).transform.bind(a(pp)),this.data=a(jd),this.domSanitizer=a(Ls.DomSanitizer);var n=a(Bp).transform(a(op).configuration.database.url,'')+'/';if(this.databaseBaseURL=n+'_utils/#/database/'+(a(op).configuration.name+'/'),this.databaseURL=n+a(op).configuration.name,this.escapeRegularExpressions=a(wp).transform.bind(a(wp)),this.extendObject=a(cp).transform.bind(a(cp)),this.messageConfiguration.duration=5e3,this.message=function(n){return a(ks.MatSnackBar).open(n,!1,t.messageConfiguration)},this.modelConfiguration=a(op).configuration.database.model,this.representObject=a(up).transform.bind(a(up)),this.specialNames=a(op).configuration.database.model.property.name.special,this.tools=a(rp).fixed.tools,this.cache){var i=function(){t.changesStream=t.data.connection.changes(t.extendObject(!0,{},{since:'now'},Fd.defaultLiveUpdateOptions,{include_docs:!1})),t.changesStream.on('change',function(){t.cacheStore={}}),t.changesStream.on('error',i)};this.tools.timeout(i)}}return o.prototype.getDatabaseURL=function(a){var e=this.databaseBaseURL+('object'===ws(a[this.specialNames.id])?a[this.specialNames.id].value:a[this.specialNames.id]);return this.databaseURLCache.hasOwnProperty(e)||(this.databaseURLCache[e]=this.domSanitizer.bypassSecurityTrustResourceUrl(e)),this.databaseURLCache[e]},o.prototype.list=function(){var t=d(regeneratorRuntime.mark(function N(){var e,i,r,T,s,S,d,c,u,g,y,I,h,b,x,D,O=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[(e={},e[op.defaultScope.configuration.database.model.property.name.special.id]='asc',e)],t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:10,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:'',E=4<arguments.length&&void 0!==arguments[4]?arguments[4]:{};return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(this.relevantSearchKeys||(this.relevantSearchKeys=jd.determineGenericIndexablePropertyNames(this.modelConfiguration,this.modelConfiguration.entities[this.type]),this.relevantSearchKeys.splice(this.relevantSearchKeys.indexOf(this.specialNames.revision),1)),r=(i={},i[this.specialNames.type]=this.type,i),!(n||Object.keys(E).length)){l.next=37;break}O.length&&(r[Object.keys(O[0])[0]]={$gt:null}),r.$or=[],T=this.relevantSearchKeys,s=Array.isArray(T),S=0,T=s?T:T[Symbol.iterator]();case 6:if(!s){l.next=12;break}if(!(S>=T.length)){l.next=9;break}return l.abrupt('break',20);case 9:c=T[S++],l.next=16;break;case 12:if(S=T.next(),!S.done){l.next=15;break}return l.abrupt('break',20);case 15:c=S.value;case 16:u=c,r.$or.push((d={},d[u]={$regex:n},d));case 18:l.next=6;break;case 20:if(!(E.hasOwnProperty('$or')&&E.$or.length)){l.next=37;break}g=r.$or,y=Array.isArray(g),I=0,g=y?g:g[Symbol.iterator]();case 22:if(!y){l.next=28;break}if(!(I>=g.length)){l.next=25;break}return l.abrupt('break',36);case 25:h=g[I++],l.next=32;break;case 28:if(I=g.next(),!I.done){l.next=31;break}return l.abrupt('break',36);case 31:h=I.value;case 32:b=h,b.$or=E.$or;case 34:l.next=22;break;case 36:delete E.$or;case 37:if(x={},this.useLimit&&(x.limit=a),this.useSkip&&(x.skip=P(t-1,0)*a),this.relevantKeys&&(x.fields=this.relevantKeys),0===x.skip&&delete x.skip,O.length&&(x.sort=[this.specialNames.type].concat(O).map(function(t){return'asc'===Object.values(t)[0]?Object.keys(t)[0]:t})),this.extendObject(!0,r,E),!this.cache){l.next=51;break}if(D=this.convertCircularObjectToJSON({selector:r,options:x}),this.cacheStore.hasOwnProperty(D)){l.next=50;break}return l.next=49,this.data.find(r,x);case 49:this.cacheStore[D]=l.sent;case 50:return l.abrupt('return',this.tools.copyLimitedRecursively(this.cacheStore[D]));case 51:return l.next=53,this.data.find(r,x);case 53:return l.abrupt('return',l.sent);case 54:case'end':return l.stop();}},N,this)}));return function(){return t.apply(this,arguments)}}(),o.prototype.remove=function(n){var e,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'';return this.update(n,(e={},e[this.specialNames.deleted]=!0,e),t)},o.prototype.resolve=function(i){var e='';if('searchTerm'in i.params){var t=decodeURIComponent(i.params.searchTerm);if(t.startsWith('exact-'))e=this.escapeRegularExpressions(t.substring(6));else if(t.startsWith('regex-')){e=t.substring(6);try{new RegExp(e)}catch(t){e=''}}}var n=[];return'sort'in i.params&&(n=i.params.sort.split(',').map(function(i){var e,t=i.lastIndexOf('-'),a='asc';return-1!==t&&(a=i.substring(t+1)||a,i=i.substring(0,t)),e={},e[i]=a,e})),this.list(n,parseInt(i.params.page||1),parseInt(i.params.limit||10),e)},o.prototype.update=function(){var t=d(regeneratorRuntime.mark(function o(l,t){var a,n,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:'';return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return n=t?this.extendObject((a={},a[this.specialNames.id]='object'===ws(l[this.specialNames.id])?l[this.specialNames.id].value:l[this.specialNames.id],a[this.specialNames.revision]='latest',a[this.specialNames.type]=l[this.specialNames.type],a),t):l,i.prev=1,i.next=4,this.data.put(n);case 4:l[this.specialNames.revision]=i.sent.rev,i.next=11;break;case 7:return i.prev=7,i.t0=i['catch'](1),this.message('message'in i.t0?i.t0.message:this.representObject(i.t0)),i.abrupt('return',!1);case 11:return r&&this.message(r),i.abrupt('return',!0);case 13:case'end':return i.stop();}},o,this,[[1,7]])}));return function(){return t.apply(this,arguments)}}(),o}())||Aa);(0,Ms.Optional)()(Ld,null,0),Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Ld);var Ud=s.AbstractInputComponent=(Ra=(0,Ms.Input)(),Ma=(0,Ms.Input)(),za=(0,Ms.Input)(),ja=(0,Ms.Input)(),ka=(0,Ms.Input)(),La=(0,Ms.Input)(),Ua=(0,Ms.Input)(),qa=(0,Ms.Input)(),Fa=(0,Ms.Input)(),Ga=(0,Ms.Input)(),Va=(0,Ms.Input)(),$a=(0,Ms.Input)(),Wa=(0,Ms.Output)(),Ba=(0,Ms.Input)(),Ha=(0,Ms.Input)(),Ka=(0,Ms.Input)(),Ya=(0,Ms.Input)(),Ja=(0,Ms.Input)(),Za=(0,Ms.Input)(),Qa=(0,Ms.Input)(),Xa=function t(){f(this,t),c(this,'declaration',en,this),c(this,'description',tn,this),c(this,'disabled',an,this),c(this,'maximum',nn,this),c(this,'maximumLength',rn,this),c(this,'maximumLengthText',on,this),c(this,'maximumText',ln,this),c(this,'minimum',mn,this),c(this,'minimumLength',sn,this),c(this,'minimumLengthText',pn,this),c(this,'minimumText',dn,this),c(this,'model',cn,this),c(this,'modelChange',un,this),c(this,'pattern',gn,this),c(this,'patternText',yn,this),c(this,'required',fn,this),c(this,'requiredText',hn,this),c(this,'showDeclarationText',bn,this),c(this,'showValidationErrorMessages',xn,this),c(this,'type',vn,this)},en=a(Xa.prototype,'declaration',[Ra],{enumerable:!0,initializer:function(){return null}}),tn=a(Xa.prototype,'description',[Ma],{enumerable:!0,initializer:function(){return null}}),an=a(Xa.prototype,'disabled',[za],{enumerable:!0,initializer:function(){return null}}),nn=a(Xa.prototype,'maximum',[ja],{enumerable:!0,initializer:function(){return null}}),rn=a(Xa.prototype,'maximumLength',[ka],{enumerable:!0,initializer:function(){return null}}),on=a(Xa.prototype,'maximumLengthText',[La],{enumerable:!0,initializer:function(){return'Please type less or equal than ${model.maximumLength} symbols.'}}),ln=a(Xa.prototype,'maximumText',[Ua],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),mn=a(Xa.prototype,'minimum',[qa],{enumerable:!0,initializer:function(){return null}}),sn=a(Xa.prototype,'minimumLength',[Fa],{enumerable:!0,initializer:function(){return null}}),pn=a(Xa.prototype,'minimumLengthText',[Ga],{enumerable:!0,initializer:function(){return'Please type at least or equal ${model.minimumLength} symbols.'}}),dn=a(Xa.prototype,'minimumText',[Va],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),cn=a(Xa.prototype,'model',[$a],{enumerable:!0,initializer:function(){return{}}}),un=a(Xa.prototype,'modelChange',[Wa],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),gn=a(Xa.prototype,'pattern',[Ba],{enumerable:!0,initializer:function(){return this.pattern}}),yn=a(Xa.prototype,'patternText',[Ha],{enumerable:!0,initializer:function(){return'Your string have to match the regular expression: "${model.regularExpressionPattern}".'}}),fn=a(Xa.prototype,'required',[Ka],{enumerable:!0,initializer:function(){return null}}),hn=a(Xa.prototype,'requiredText',[Ya],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),bn=a(Xa.prototype,'showDeclarationText',[Ja],{enumerable:!0,initializer:function(){return'\u2139'}}),xn=a(Xa.prototype,'showValidationErrorMessages',[Za],{enumerable:!0,initializer:function(){return!1}}),vn=a(Xa.prototype,'type',[Qa],{enumerable:!0,initializer:function(){return this.type}}),Xa),qd=s.AbstractNativeInputComponent=function(r){function e(t){f(this,e);var a=m(this,r.call(this));a._attachmentWithPrefixExists=a._attachmentWithPrefixExists,a._extendObject=a._extendObject,a._getFilenameByPrefix=a._getFilenameByPrefix,a._modelConfiguration=a._modelConfiguration,a._numberGetUTCTimestamp=a._numberGetUTCTimestamp;var n=lp(t,a,a.constructor);return a._attachmentWithPrefixExists=n(md).transform.bind(n(md)),a._extendObject=n(cp).transform.bind(n(cp)),a._getFilenameByPrefix=n(ld).transform.bind(n(ld)),a._modelConfiguration=n(op).configuration.database.model,a._numberGetUTCTimestamp=n(nd).transform.bind(n(nd)),a}return n(e,r),e.prototype.ngOnInit=function(){this._extendObject(this.model,this._extendObject({disabled:!1,emptyEqualsToNull:!0,maximum:Infinity,minimum:0,maximumLength:Infinity,minimumLength:0,nullable:!0,regularExpressionPattern:'.*',state:{},trim:!0,type:'string'},this.model)),'string'==typeof this.model.value&&this.model.trim&&this.model.value===this.model.value.trim();for(var n,a=['onUpdateExpression','onUpdateExecution'],e=0;e<a.length;e++)n=a[e],this.model.hasOwnProperty(n)&&this.model[n]&&'function'!=typeof this.model[n]&&(this.model[n]=new Function('newDocument','oldDocument','userContext','securitySettings','name','models','modelConfiguration','serialize','modelName','model','propertySpecification','now','nowUTCTimestamp','getFilenameByPrefix','attachmentWithPrefixExists',(n.endsWith('Expression')?'return ':'')+this.model[n]))},e.prototype.onChange=function(p,e){var t;'integer'===this.model.type?p=parseInt(p):'number'===this.model.type?p=parseFloat(p):p&&'string'===this.model.type&&this.model.trim&&(p=p.trim());for(var a,m=new Date,n=this._numberGetUTCTimestamp(m),i=(t={},t[this.model.name]=p,t),r=['onUpdateExpression','onUpdateExecution'],o=0;o<r.length;o++)if(a=r[o],this.model.hasOwnProperty(a)&&this.model[a]&&'function'==typeof this.model[a]){var l;p=this.model[a](i,null,{},{},this.model.name,this._modelConfiguration.entities,this._modelConfiguration,function(t){return JSON.stringify(t,null,4)},'generic',{generic:(l={},l[this.model.name]=this.model,l)},this.model,m,n,this._getFilenameByPrefix,this._attachmentWithPrefixExists.bind(i,i),p),!(p instanceof Date)&&(this.model.type.endsWith('Date')||this.model.type.endsWith('Time'))&&(p*=1e3)}return this.model.state=e,p},e}(Ud);(0,Ms.Optional)()(qd,null,0),Reflect.defineMetadata('design:paramtypes',[Ms.Injector],qd);var Fd=s.AbstractLiveDataComponent=(Nn=Pn=function(){function l(e){f(this,l),this.actions=[],this.autoRestartOnError=!0,this._canceled=!1,this._changeDetectorReference=this._changeDetectorReference,this._changesStream=this._changesStream,this._data=this._data,this._extendObject=this._extendObject,this._liveUpdateOptions={},this._stringCapitalize=this._stringCapitalize,this._tools=this._tools;var t=lp(e,this,this.constructor);this._changeDetectorReference=t(Ms.ChangeDetectorRef),this._data=t(jd),this._extendObject=t(cp).transform.bind(t(cp)),this._stringCapitalize=t($p).transform.bind(t($p)),this._tools=t(rp).fixed.tools}return l.prototype.ngOnInit=function(){var m=this,t=this._tools.debounce(function(){m._changesStream=m._data.connection.changes(m._extendObject(!0,{},{since:Qs.sequence},l.defaultLiveUpdateOptions,m._liveUpdateOptions));for(var e,a=function(a){m._changesStream.on(a,function(){var e=d(regeneratorRuntime.mark(function e(o){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!m._canceled){e.next=2;break}return e.abrupt('return');case 2:if('change'===a&&(('seq'in o)&&'number'==typeof o.seq&&(Qs.sequence=o.seq),Qs.data[o.id]=o.doc),o.name=a,m.actions.unshift(o),i=m['onData'+m._stringCapitalize(a)](o),!(null!==i&&'object'===('undefined'==typeof i?'undefined':ws(i))&&('then'in i))){e.next=10;break}return e.next=9,i;case 9:i=e.sent;case 10:i&&m._changeDetectorReference.detectChanges(),'error'===a&&m.autoRestartOnError&&t();case 12:case'end':return e.stop();}},e,m)}));return function(){return e.apply(this,arguments)}}())},n=['change','complete','error'],i=0;i<n.length;i++)e=n[i],a(e)},3e3);this._tools.timeout(t)},l.prototype.ngOnDestroy=function(){this._canceled=!0,this._changesStream&&this._changesStream.cancel()},l.prototype.onDataChange=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,!0},l.prototype.onDataComplete=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,!1},l.prototype.onDataError=function(){return 0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,!1},l}(),Pn.defaultLiveUpdateOptions={heartbeat:1e4,include_docs:!0,live:!0,since:'now',timeout:!1},Nn);(0,Ms.Optional)()(Fd,null,0),Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Fd);var Gd=s.AbstractItemsComponent=function(c){function e(t){var a;f(this,e);var n=m(this,c.call(this,t));n.allItems=n.allItems,n.allItemsChecked=!1,n.debouncedUpdate=n.debouncedUpdate,n.idName=n.idName,n.items=n.items,n.keyCode=n.keyCode,n.limit=n.limit,n.navigateAway=!1,n.page=n.page,n.preventedDataUpdate=null,n.regularExpression=!1,n.revisionName=n.revisionName,n.searchTerm='',n.searchTermStream=new Bs.Subject,n.selectedItems=new Set,n.sort=(a={},a[op.defaultScope.configuration.database.model.property.name.special.id]='asc',a),n._currentParameter=n._currentParameter,n._itemPath='item',n._itemsPath='items',n._route=n._route,n._router=n._router,n._subscriptions=[],n._toolsInstance=n._toolsInstance;var r=lp(t);return n.idName=r(op).configuration.database.model.property.name.special.id,n.revisionName=r(op).configuration.database.model.property.name.special.revision,n.keyCode=n._tools.keyCode,n._route=r(Us.ActivatedRoute),n._router=r(Us.Router),n._toolsInstance=r(rp).tools,n._subscriptions.push(n._route.params.subscribe(function(a){n._currentParameter=a,n.limit=parseInt(n._currentParameter.limit),n.page=parseInt(n._currentParameter.page);var e=/(regex|exact)-(.*)/.exec(n._currentParameter.searchTerm);e&&(n.regularExpression='regex'===e[1],n.searchTerm=decodeURIComponent(e[2]))})),n._subscriptions.push(n._route.data.subscribe(function(t){n.limit=i(1,n.limit||1),n.allItems=t.items.slice(),t.items.splice(0,(n.page-1)*n.limit),t.items.length>n.limit&&t.items.splice(n.limit,t.items.length-n.limit),n.items=t.items,n.applyPageConstraints()&&n.update()})),n._subscriptions.push(n.searchTermStream.debounceTime(200).distinctUntilChanged().subscribe(function(){return n.page=1,n.update()})),n.debouncedUpdate=n._tools.debounce(n.update.bind(n)),n}var i=P;return n(e,c),e.prototype.applyPageConstraints=function(){var a=this.page,e=this.limit;return this.limit=i(1,this.limit||1),this.page=i(1,o(this.page,l(this.allItems.length/this.limit))),this.page!==a||this.limit!==e},e.prototype.changeItemWrapperFactory=function(l){var e=this;return function(){var t=d(regeneratorRuntime.mark(function t(){var m,s,i,p=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(m=!0,s=e._router.events.subscribe(function(t){t instanceof Us.NavigationEnd&&(m=!1,s.unsubscribe())}),e._subscriptions.push(s),i=l.apply(void 0,p),!('object'===('undefined'==typeof i?'undefined':ws(i))&&null!==i&&'then'in i)){t.next=7;break}return t.next=7,i;case 7:if(!m){t.next=10;break}return t.next=10,e.update(!0);case 10:return t.abrupt('return',i);case 11:case'end':return t.stop();}},t,e)}));return function(){return t.apply(this,arguments)}}()},e.prototype.clearSelectedItems=function(){for(var r=this.items,e=Array.isArray(r),t=0,a=e?r:r[Symbol.iterator]();;){var o;if(e){if(t>=r.length)break;o=r[t++]}else{if(t=r.next(),t.done)break;o=t.value}var n=o;this.selectedItems.delete(n),n.selected=!1}},e.prototype.goToItem=function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'latest';return this.navigateAway=!0,this._router.navigate([this._itemPath,a,e])},e.prototype.ngAfterContentChecked=function(){this.preventedDataUpdate&&this.onDataChange.apply(this,this.preventedDataUpdate)},e.prototype.onDataChange=function(){for(var n=arguments.length,e=Array(n),t=0;t<n;t++)e[t]=arguments[t];return this.selectedItems.size||![0,1].includes(parseInt(this._currentParameter.page))?this.preventedDataUpdate=e:(this.preventedDataUpdate=null,this.debouncedUpdate(!0)),!1},e.prototype.ngOnDestroy=function(){for(var e,t=arguments.length,a=Array(t),n=0;n<t;n++)a[n]=arguments[n];for(var i=(e=c.prototype.ngOnDestroy).call.apply(e,[this].concat(a)),r=this._subscriptions,o=Array.isArray(r),l=0,m=o?r:r[Symbol.iterator]();;){var d;if(o){if(l>=r.length)break;d=r[l++]}else{if(l=r.next(),l.done)break;d=l.value}var s=d;s.unsubscribe()}return i},e.prototype.selectAllItems=function(){for(var r=this.items,e=Array.isArray(r),t=0,a=e?r:r[Symbol.iterator]();;){var o;if(e){if(t>=r.length)break;o=r[t++]}else{if(t=r.next(),t.done)break;o=t.value}var n=o;this.selectedItems.add(n),n.selected=!0}},e.prototype.trackByIDAndRevision=function(t){return t[this.idName]+'/'+t[this.revisionName]},e.prototype.update=function(){var t=d(regeneratorRuntime.mark(function r(){var o,a,e,n=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=!1,t.next=3,this._toolsInstance.acquireLock(this.constructor.name+'Update');case 3:if(this.navigateAway){t.next=12;break}for(e in this.applyPageConstraints(),n&&0!==parseInt(this._currentParameter.page)&&(this.page=0),a='',this.sort)this.sort.hasOwnProperty(e)&&(a+=''+(a?',':'')+e,'asc'!==this.sort[e]&&(a+='-'+this.sort[e]));return t.next=10,this._router.navigate([this._itemsPath,a,this.page,this.limit,(this.regularExpression?'regex':'exact')+'-'+encodeURIComponent(this.searchTerm)],{preserveFragment:!0,replaceUrl:0===parseInt(this._currentParameter.page),skipLocationChange:0===this.page});case 10:o=t.sent,o&&(this.allItemsChecked=!1);case 12:return this._toolsInstance.releaseLock(this.constructor.name+'Update'),t.abrupt('return',o);case 14:case'end':return t.stop();}},r,this)}));return function(){return t.apply(this,arguments)}}(),e.prototype.updateSearch=function(){this.searchTermStream.next(this.searchTerm)},e}(Fd);(0,Ms.Optional)()(Gd,null,0),Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Gd);var Vd=s.AbstractValueAccessor=(Tn=(0,Ms.Input)(),Sn=function(l){function e(t){f(this,e);var a=m(this,l.call(this,t.get(Ms.Renderer2),t.get(Ms.ElementRef),null));return a.onChangeCallback=rp.tools.noop,a.onTouchedCallback=rp.tools.noop,c(_this61,'type',In,a),a}return n(e,l),e.prototype.export=function(t){return t},e.prototype.import=function(t){return t},e.prototype.registerOnChange=function(m){for(var e,t=this,a=arguments.length,n=Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return this.onChangeCallback=function(a){for(var e=arguments.length,n=Array(1<e?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return m.apply(void 0,[t.import(a)].concat(n))},(e=l.prototype.registerOnChange).call.apply(e,[this,this.onChangeCallback].concat(n))},e.prototype.registerOnTouched=function(e){var t;this.onTouchedCallback=e;for(var a=arguments.length,n=Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(t=l.prototype.registerOnTouched).call.apply(t,[this,this.onTouchedCallback].concat(n))},e.prototype.writeValue=function(e){for(var t,a=arguments.length,n=Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(t=l.prototype.writeValue).call.apply(t,[this,this.export.apply(this,[e].concat(n))].concat(n))},e}(js.DefaultValueAccessor),In=a(Sn.prototype,'type',[Tn],{enumerable:!0,initializer:function(){return null}}),Sn);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Vd);var $d=s.DateDirective=(Dn=(0,Ms.Directive)({selector:'[genericDate]'}),On=(0,Ms.Input)('genericDate'),Dn(En=(Cn=function(){function r(e,t,a,n){f(this,r),this.dateFormatter=this.dateFormatter,this.extendObject=this.extendObject,this.options={dateTime:'now',format:'HH:mm:ss',freeze:!1,updateIntervalInMilliseconds:1e3},this.templateReference=this.templateReference,this.timerID=this.timerID,this.viewContainerReference=this.viewContainerReference,this.dateFormatter=e.transform.bind(e),this.extendObject=t.transform.bind(t),this.templateReference=a,this.viewContainerReference=n}return r.prototype.insert=function(){var t=this.options.dateTime;'string'==typeof t&&['now',''].includes(t)||'number'==typeof t&&isNaN(t)||[null,void 0].includes(t)?t=Date.now():'string'==typeof t&&''+parseFloat(t)===t&&(t=1e3*parseFloat(t)),this.viewContainerReference.createEmbeddedView(this.templateReference,{dateTime:this.dateFormatter(t,this.options.format)})},r.prototype.ngOnDestroy=function(){this.timerID&&clearInterval(this.timerID)},r.prototype.ngOnInit=function(){var t=this;this.timerID=setInterval(function(){t.options.freeze||(t.viewContainerReference.remove(),t.insert())},this.options.updateIntervalInMilliseconds),this.insert()},Cs(r,[{key:'insertOptions',set:function(t){(['string','number'].includes('undefined'==typeof t?'undefined':ws(t))||[null,void 0].includes(t)||'object'===('undefined'==typeof t?'undefined':ws(t))&&t instanceof Date)&&(t={dateTime:t}),this.extendObject(!0,this.options,t)}}]),r}(),a(Cn.prototype,'insertOptions',[On],Object.getOwnPropertyDescriptor(Cn.prototype,'insertOptions'),Cn.prototype),Cn))||En);Reflect.defineMetadata('design:paramtypes',[zs.DatePipe,cp,Ms.TemplateRef,Ms.ViewContainerRef],$d);var Wd=s.SliderDirective=(wn=(0,Ms.Directive)({selector:'[genericSlider]'}),_n=(0,Ms.Input)('genericSlider'),wn(An=(Rn=function(){function i(e,t,a){f(this,i),this.extendObject=this.extendObject,this.index=0,this.options={freeze:!1,startIndex:0,step:1,slides:[],updateIntervalInMilliseconds:6e3},this.templateReference=this.templateReference,this.timerID=this.timerID,this.viewContainerReference=this.viewContainerReference,this.extendObject=e.transform.bind(e),this.templateReference=t,this.viewContainerReference=a}return i.prototype.getNextIndex=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:-1;return-1===t&&(t=this.index),(t+this.options.step)%this.options.slides.length},i.prototype.update=function(){this.options.slides.length&&this.viewContainerReference.createEmbeddedView(this.templateReference,{getNextIndex:this.getNextIndex.bind(this),index:this.index,options:this.options,slide:this.options.slides[this.index],slides:this.options.slides})},i.prototype.ngOnDestroy=function(){this.timerID&&clearInterval(this.timerID)},i.prototype.ngOnInit=function(){var a=this;this.timerID=setInterval(function(){var e=(a.index+a.options.step)%a.options.slides.length;!0===a.options.freeze||e===a.index||'number'==typeof a.options.freeze&&a.options.freeze>=a.options.slides.length||(a.viewContainerReference.remove(),a.index=a.getNextIndex(),a.update())},this.options.updateIntervalInMilliseconds),this.index=this.options.startIndex,this.update()},Cs(i,[{key:'insertOptions',set:function(t){Array.isArray(t)&&(t={slides:t}),this.extendObject(!0,this.options,t)}}]),i}(),a(Rn.prototype,'insertOptions',[_n],Object.getOwnPropertyDescriptor(Rn.prototype,'insertOptions'),Rn.prototype),Rn))||An);Reflect.defineMetadata('design:paramtypes',[cp,Ms.TemplateRef,Ms.ViewContainerRef],Wd);var Bd=[{provide:js.NG_VALUE_ACCESSOR,useExisting:(0,Ms.forwardRef)(function(){return Hd}),multi:!0}],Hd=s.DateTimeValueAccessor=(Mn=(0,Ms.Directive)({selector:'\n        input:not([type=checkbox])[formControlName],\n        textarea[formControlName],\n        input:not([type=checkbox])[formControl],\n        textarea[formControl],\n        input:not([type=checkbox])[ngModel],\n        textarea[ngModel],[ngDefaultControl]\'\n    ',host:{"(input)":'_handleInput($event.target.value)',"(blur)":'onTouched()',"(compositionstart)":'_compositionStart()',"(compositionend)":'_compositionEnd($event.target.value)'},providers:Bd}),Mn(zn=function(i){function e(t){return f(this,e),m(this,i.call(this,t))}return n(e,i),e.prototype.export=function(o){if(![void 0,null].includes(o)&&['date','time'].includes(this.type)){var e=new Date(o);if(isNaN(e.getDate()))return;if('time'===this.type){var t=''+e.getHours();1===t.length&&(t='0'+t);var a=''+e.getMinutes();return 1===a.length&&(a='0'+a),t+':'+a}if('date'===this.type){var n=''+(e.getMonth()+1);1===n.length&&(n='0'+n);var i=''+e.getDate();return 1===i.length&&(i='0'+i),e.getFullYear()+'-'+n+'-'+i}}return o},e.prototype.import=function(n){if('string'==typeof n)if('time'===this.type){var i=/^([0-9]{2}):([0-9]{2})$/.exec(n);if(i)return new Date(1970,0,1,parseInt(i[1]),parseInt(i[2]))}else if('date'===this.type){var t=/^([0-9]{4})-([0-9]{2})-([0-9]{2})$/.exec(n);if(t)return new Date(parseInt(t[1]),parseInt(t[2])-1,parseInt(t[3]))}return n},e}(Vd))||zn);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Hd);var Kd=s.IntervalInputComponent=(jn=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],selector:'generic-interval-input',template:'\n        <generic-input\n            [declaration]="startDeclaration"\n            [description]="startDescription"\n            [disabled]="startDisabled"\n            [showDeclarationText]="startShowDeclarationText"\n            [maximum]="startMaximum"\n            [maximumText]="startMaximumText"\n            [minimum]="startMinimum"\n            [required]="startRequired"\n            [requiredText]="startRequiredText"\n            [minimumText]="startMinimumText"\n            [model]="model.start"\n            (model)="change($event, \'start\')"\n            [showValidationErrorMessages]="startShowValidationErrorMessages"\n            type="time"\n        ></generic-input>\n        <ng-content></ng-content>\n        <generic-input\n            [declaration]="endDeclaration"\n            [description]="endDescription"\n            [disabled]="endDisabled"\n            [showDeclarationText]="endShowDeclarationText"\n            [maximum]="endMaximum"\n            [maximumText]="endMaximumText"\n            [minimum]="endMinimum"\n            [required]="endRequired"\n            [requiredText]="endRequiredText"\n            [minimumText]="endMinimumText"\n            [model]="model.end"\n            (model)="change($event, \'end\')"\n            [showValidationErrorMessages]="endShowValidationErrorMessages"\n            type="time"\n        ></generic-input>\n    '}),kn=(0,Ms.Input)(),Ln=(0,Ms.Input)(),Un=(0,Ms.Input)(),qn=(0,Ms.Input)(),Fn=(0,Ms.Input)(),Gn=(0,Ms.Input)(),Vn=(0,Ms.Input)(),$n=(0,Ms.Input)(),Wn=(0,Ms.Input)(),Bn=(0,Ms.Input)(),Hn=(0,Ms.Input)(),Kn=(0,Ms.Input)(),Yn=(0,Ms.Input)(),Jn=(0,Ms.Input)(),Zn=(0,Ms.Input)(),Qn=(0,Ms.Input)(),Xn=(0,Ms.Input)(),ei=(0,Ms.Input)(),ti=(0,Ms.Input)(),ai=(0,Ms.Input)(),ni=(0,Ms.Input)(),ii=(0,Ms.Input)(),ri=(0,Ms.Input)(),oi=(0,Ms.Output)(),jn(li=(mi=function(){function t(){f(this,t),c(this,'endDeclaration',si,this),c(this,'startDeclaration',pi,this),c(this,'endDescription',di,this),c(this,'startDescription',ci,this),c(this,'endDisabled',ui,this),c(this,'startDisabled',gi,this),c(this,'endMaximum',yi,this),c(this,'startMaximum',fi,this),c(this,'endMaximumText',hi,this),c(this,'startMaximumText',bi,this),c(this,'endMinimum',xi,this),c(this,'startMinimum',vi,this),c(this,'endMinimumText',Pi,this),c(this,'startMinimumText',Ni,this),c(this,'endRequired',Ti,this),c(this,'startRequired',Si,this),c(this,'endRequiredText',Ii,this),c(this,'startRequiredText',Di,this),c(this,'endShowDeclarationText',Oi,this),c(this,'startShowDeclarationText',Ei,this),c(this,'endShowValidationErrorMessages',Ci,this),c(this,'startShowValidationErrorMessages',wi,this),c(this,'model',_i,this),c(this,'modelChange',Ai,this)}return t.prototype.change=function(a,n){this.modelChange.emit({value:a,type:n})},t}(),si=a(mi.prototype,'endDeclaration',[kn],{enumerable:!0,initializer:function(){return null}}),pi=a(mi.prototype,'startDeclaration',[Ln],{enumerable:!0,initializer:function(){return null}}),di=a(mi.prototype,'endDescription',[Un],{enumerable:!0,initializer:function(){return null}}),ci=a(mi.prototype,'startDescription',[qn],{enumerable:!0,initializer:function(){return null}}),ui=a(mi.prototype,'endDisabled',[Fn],{enumerable:!0,initializer:function(){return null}}),gi=a(mi.prototype,'startDisabled',[Gn],{enumerable:!0,initializer:function(){return null}}),yi=a(mi.prototype,'endMaximum',[Vn],{enumerable:!0,initializer:function(){return null}}),fi=a(mi.prototype,'startMaximum',[$n],{enumerable:!0,initializer:function(){return null}}),hi=a(mi.prototype,'endMaximumText',[Wn],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),bi=a(mi.prototype,'startMaximumText',[Bn],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),xi=a(mi.prototype,'endMinimum',[Hn],{enumerable:!0,initializer:function(){return null}}),vi=a(mi.prototype,'startMinimum',[Kn],{enumerable:!0,initializer:function(){return null}}),Pi=a(mi.prototype,'endMinimumText',[Yn],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Ni=a(mi.prototype,'startMinimumText',[Jn],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Ti=a(mi.prototype,'endRequired',[Zn],{enumerable:!0,initializer:function(){return null}}),Si=a(mi.prototype,'startRequired',[Qn],{enumerable:!0,initializer:function(){return null}}),Ii=a(mi.prototype,'endRequiredText',[Xn],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Di=a(mi.prototype,'startRequiredText',[ei],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Oi=a(mi.prototype,'endShowDeclarationText',[ti],{enumerable:!0,initializer:function(){return'\u2139'}}),Ei=a(mi.prototype,'startShowDeclarationText',[ai],{enumerable:!0,initializer:function(){return'\u2139'}}),Ci=a(mi.prototype,'endShowValidationErrorMessages',[ni],{enumerable:!0,initializer:function(){return!1}}),wi=a(mi.prototype,'startShowValidationErrorMessages',[ii],{enumerable:!0,initializer:function(){return!1}}),_i=a(mi.prototype,'model',[ri],{enumerable:!0,initializer:function(){return{end:{value:new Date(1970,0,1)},start:{value:new Date(1970,0,1)}}}}),Ai=a(mi.prototype,'modelChange',[oi],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),mi))||li),Yd=s.IntervalsInputComponent=(Ri=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],selector:'generic-intervals-input',template:'\n        <div\n            *ngIf="description !== \'\' && (description || model.description || model.name)"\n        >{{description || model.description || model.name}}</div>\n        <div\n            @defaultAnimation\n            *ngFor="let interval of (model.value || []); let first = first; let index = index"\n        >\n            <generic-interval-input\n                [endDisabled]="endDisabled"\n                [startDisabled]="startDisabled"\n\n                [endShowDeclarationText]="endShowDeclarationText"\n                [startShowDeclarationText]="startShowDeclarationText"\n\n                [endMaximum]="endMaximum"\n                [startMaximum]="startMaximum"\n\n                [endMaximumText]="endMaximumText"\n                [startMaximumText]="startMaximumText"\n\n                [endMinimum]="endMinimum"\n                [startMinimum]="startMinimum"\n\n                [endRequired]="endRequired"\n                [startRequired]="startRequired"\n\n                [endRequiredText]="endRequiredText"\n                [startRequiredText]="startRequiredText"\n\n                [endMinimumText]="endMinimumText"\n                [startMinimumText]="startMinimumText"\n\n                [endDescription]="first ? endDescription : \'\'"\n                [startDescription]="first ? startDescription : \'\'"\n\n                [model]="interval"\n                (model)="change($event, index)"\n\n                [endDeclaration]="endDeclaration"\n                [startDeclaration]="startDeclaration"\n\n                [endShowValidationErrorMessages]="endShowValidationErrorMessages"\n                [startShowValidationErrorMessages]="startShowValidationErrorMessages"\n            >\n                <ng-container *ngIf="contentTemplate; else fallback">\n                    <ng-container\n                        *ngTemplateOutlet="contentTemplate; context: {$implicit:interval}"\n                    ></ng-container>\n                </ng-container>\n            </generic-interval-input>\n            <a\n                class="remove"\n                (click)="$event.preventDefault(); $event.stopPropagation(); remove(interval)"\n                href=""\n                *ngIf="model.minimumNumber === null || model.value.length > model.minimumNumber"\n            >-</a>\n        </div>\n        <a\n            class="add"\n            (click)="$event.preventDefault(); $event.stopPropagation(); add()"\n            href=""\n            *ngIf="model.maximumNumber === null || (model.value?.length || 0) < model.maximumNumber"\n        >+</a>\n        <ng-template #fallback>--</ng-template>\n    '}),Mi=(0,Ms.Input)(),zi=(0,Ms.ContentChild)(Ms.TemplateRef),ji=(0,Ms.Input)(),ki=(0,Ms.Input)(),Li=(0,Ms.Input)(),Ui=(0,Ms.Input)(),qi=(0,Ms.Input)(),Fi=(0,Ms.Input)(),Gi=(0,Ms.Input)(),Vi=(0,Ms.Input)(),$i=(0,Ms.Input)(),Wi=(0,Ms.Input)(),Bi=(0,Ms.Input)(),Hi=(0,Ms.Input)(),Ki=(0,Ms.Input)(),Yi=(0,Ms.Input)(),Ji=(0,Ms.Input)(),Zi=(0,Ms.Input)(),Qi=(0,Ms.Input)(),Xi=(0,Ms.Input)(),er=(0,Ms.Input)(),tr=(0,Ms.Input)(),ar=(0,Ms.Input)(),nr=(0,Ms.Input)(),ir=(0,Ms.Input)(),rr=(0,Ms.Input)(),or=(0,Ms.Output)(),Ri(lr=(mr=function(){function n(e,t){f(this,n),c(this,'additionalObjectData',sr,this),c(this,'contentTemplate',pr,this),c(this,'description',dr,this),c(this,'endDeclaration',cr,this),c(this,'startDeclaration',ur,this),c(this,'endDescription',gr,this),c(this,'startDescription',yr,this),c(this,'endDisabled',fr,this),c(this,'startDisabled',hr,this),c(this,'endMaximum',br,this),c(this,'startMaximum',xr,this),c(this,'endMaximumText',vr,this),c(this,'startMaximumText',Pr,this),c(this,'endMinimum',Nr,this),c(this,'startMinimum',Tr,this),c(this,'endMinimumText',Sr,this),c(this,'startMinimumText',Ir,this),c(this,'endRequired',Dr,this),c(this,'startRequired',Or,this),c(this,'endRequiredText',Er,this),c(this,'startRequiredText',Cr,this),c(this,'endShowDeclarationText',wr,this),c(this,'startShowDeclarationText',_r,this),c(this,'endShowValidationErrorMessages',Ar,this),c(this,'startShowValidationErrorMessages',Rr,this),c(this,'model',Mr,this),c(this,'modelChange',zr,this),this._dataScope=this._dataScope,this._extendObject=this._extendObject,this._dataScope=e,this._extendObject=t.transform.bind(t)}return n.prototype.change=function(a,n){this.modelChange.emit({value:a,index:n})},n.prototype.ngOnInit=function(){this.additionalObjectData||(this.additionalObjectData=this._dataScope.generate('_interval')),this.model.value?this.model.value.sort(function(a,e){return a.start.value-e.start.value}):this.model.value=[]},n.prototype.add=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};this.model.value||(this.model.value=[]);var e=this.model.value.length?new Date(this.model.value[this.model.value.length-1].end.value).getTime():0;this.model.value.push(this._extendObject(!0,{},this.additionalObjectData,{end:{value:new Date(e+3.6e6)},start:{value:new Date(e)}},a)),this.modelChange.emit(this.model)},n.prototype.remove=function(a){var e=this.model.value.indexOf(a);-1!==e&&(this.model.value.splice(e,1),this.modelChange.emit(this.model))},n}(),sr=a(mr.prototype,'additionalObjectData',[Mi],{enumerable:!0,initializer:function(){return this.additionalObjectData}}),pr=a(mr.prototype,'contentTemplate',[zi],{enumerable:!0,initializer:function(){return this.contentTemplate}}),dr=a(mr.prototype,'description',[ji],{enumerable:!0,initializer:function(){return null}}),cr=a(mr.prototype,'endDeclaration',[ki],{enumerable:!0,initializer:function(){return null}}),ur=a(mr.prototype,'startDeclaration',[Li],{enumerable:!0,initializer:function(){return null}}),gr=a(mr.prototype,'endDescription',[Ui],{enumerable:!0,initializer:function(){return null}}),yr=a(mr.prototype,'startDescription',[qi],{enumerable:!0,initializer:function(){return null}}),fr=a(mr.prototype,'endDisabled',[Fi],{enumerable:!0,initializer:function(){return null}}),hr=a(mr.prototype,'startDisabled',[Gi],{enumerable:!0,initializer:function(){return null}}),br=a(mr.prototype,'endMaximum',[Vi],{enumerable:!0,initializer:function(){return null}}),xr=a(mr.prototype,'startMaximum',[$i],{enumerable:!0,initializer:function(){return null}}),vr=a(mr.prototype,'endMaximumText',[Wi],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Pr=a(mr.prototype,'startMaximumText',[Bi],{enumerable:!0,initializer:function(){return'Please give a number less or equal than ${model.maximum}.'}}),Nr=a(mr.prototype,'endMinimum',[Hi],{enumerable:!0,initializer:function(){return null}}),Tr=a(mr.prototype,'startMinimum',[Ki],{enumerable:!0,initializer:function(){return null}}),Sr=a(mr.prototype,'endMinimumText',[Yi],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Ir=a(mr.prototype,'startMinimumText',[Ji],{enumerable:!0,initializer:function(){return'Please given a number at least or equal to {{model.minimum}}.'}}),Dr=a(mr.prototype,'endRequired',[Zi],{enumerable:!0,initializer:function(){return null}}),Or=a(mr.prototype,'startRequired',[Qi],{enumerable:!0,initializer:function(){return null}}),Er=a(mr.prototype,'endRequiredText',[Xi],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),Cr=a(mr.prototype,'startRequiredText',[er],{enumerable:!0,initializer:function(){return'Please fill this field.'}}),wr=a(mr.prototype,'endShowDeclarationText',[tr],{enumerable:!0,initializer:function(){return'\u2139'}}),_r=a(mr.prototype,'startShowDeclarationText',[ar],{enumerable:!0,initializer:function(){return'\u2139'}}),Ar=a(mr.prototype,'endShowValidationErrorMessages',[nr],{enumerable:!0,initializer:function(){return!1}}),Rr=a(mr.prototype,'startShowValidationErrorMessages',[ir],{enumerable:!0,initializer:function(){return!1}}),Mr=a(mr.prototype,'model',[rr],{enumerable:!0,initializer:function(){return{value:[]}}}),zr=a(mr.prototype,'modelChange',[or],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),mr))||lr);Reflect.defineMetadata('design:paramtypes',[kd,cp],Yd);var Jd=s.AbstractEditorComponent=(jr=(0,Ms.Input)(),kr=(0,Ms.Input)(),Lr=(0,Ms.ViewChild)('hostDomNode'),Ur=(0,Ms.Output)(),qr=(0,Ms.Input)(),Fr=(0,Ms.Output)(),Gr=(Jr=Yr=function(o){function r(e){f(this,r);var t=m(this,o.call(this,e));c(_this66,'configuration',Vr,t),t.contentSetterMethodName='setContent',c(_this66,'disabled',$r,t),t.extendObject=t.extendObject,t.factory=t.factory,t.factoryName='',t.fixedUtility=t.fixedUtility,c(_this66,'hostDomNode',Wr,t),t.instance=null,c(_this66,'initialized',Br,t),c(_this66,'model',Hr,t),c(_this66,'modelChange',Kr,t);var a=lp(e,t,t.constructor);return t.extendObject=a(cp).transform.bind(a(cp)),t.fixedUtility=a(rp).fixed,t}return n(r,o),r.prototype.ngAfterViewInit=function(){var t=d(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.factory||(this.fixedUtility.globalContext[this.factoryName]?this.factory=this.fixedUtility.globalContext[this.factoryName]:r.factories[this.factoryName]&&(this.factory=r.factories[this.factoryName])),!this.factory){t.next=7;break}return r.factories[this.factoryName]=this.factory,t.next=5,this.fixedUtility.tools.timeout();case 5:t.next=16;break;case 7:return t.prev=7,t.next=10,r.applicationInterfaceLoad[this.factoryName];case 10:t.next=15;break;case 12:throw t.prev=12,t.t0=t['catch'](7),t.t0;case 15:r.factories[this.factoryName]=this.factory;case 16:case'end':return t.stop();}},t,this,[[7,12]])}));return function(){return t.apply(this,arguments)}}(),r.prototype.export=function(e){var t;this.model=[null,void 0].includes(e)?'':e.toString(),this.instance&&this.instance[this.contentSetterMethodName](this.model);for(var a=arguments.length,n=Array(1<a?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];return(t=o.prototype.export).call.apply(t,[this,e].concat(n))},r.prototype.setDisabledState=function(t){this.disabled=t},r}(Vd),Yr.applicationInterfaceLoad={},Yr.factories={},Jr),Vr=a(Gr.prototype,'configuration',[jr],{enumerable:!0,initializer:function(){return{}}}),$r=a(Gr.prototype,'disabled',[kr],{enumerable:!0,initializer:function(){return null}}),Wr=a(Gr.prototype,'hostDomNode',[Lr],{enumerable:!0,initializer:function(){return this.hostDomNode}}),Br=a(Gr.prototype,'initialized',[Ur],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Hr=a(Gr.prototype,'model',[qr],{enumerable:!0,initializer:function(){return''}}),Kr=a(Gr.prototype,'modelChange',[Fr],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Gr);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Jd);var Zd=s.CodeEditorComponent=(Zr=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],providers:[{multi:!0,provide:js.NG_VALUE_ACCESSOR,useExisting:(0,Ms.forwardRef)(function(){return Zd})}],selector:'code-editor',template:'<textarea #hostDomNode></textarea>'}),Qr=(0,Ms.Output)(),Xr=(0,Ms.Input)(),eo=(0,Ms.Output)(),Zr(to=(ao=(lo=oo=function(i){function r(e){f(this,r);var a=m(this,i.call(this,e));return c(_this67,'blur',no,a),c(_this67,'configuration',io,a),a.contentSetterMethodName='setValue',a.factoryName='CodeMirror',c(_this67,'focus',ro,a),'object'!==ws(r.applicationInterfaceLoad[a.factoryName])&&(r.applicationInterfaceLoad[a.factoryName]=Promise.all([new Promise(function(t){return a.fixedUtility.$('\n                        <link\n                            href="'+ap.path.base+ap.path.cascadingStyleSheet+'" rel="stylesheet"\n                            type="text/css"\n                        />\n                    ').appendTo('head').on('load',t)}),new Promise(function(n,e){return a.fixedUtility.$.ajax({cache:!0,dataType:'script',error:e,success:function(){a.factory=a.fixedUtility.globalContext[a.factoryName],n(a.factory)},url:ap.path.base+ap.path.script})})])),a}return n(r,i),r.prototype.ngAfterViewInit=function(){var o=this;return i.prototype.ngAfterViewInit.call(this).then(d(regeneratorRuntime.mark(function t(){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!o.configuration.mode){t.next=22;break}if(!r.modesLoad.hasOwnProperty(o.configuration.mode)){t.next=13;break}if(!0===r.modesLoad[o.configuration.mode]){t.next=11;break}return t.prev=3,t.next=6,r.modesLoad[o.configuration.mode];case 6:t.next=11;break;case 8:throw t.prev=8,t.t0=t['catch'](3),t.t0;case 11:t.next=22;break;case 13:return r.modesLoad[o.configuration.mode]=new Promise(function(a,n){return o.fixedUtility.$.ajax({cache:!0,dataType:'script',error:n,success:a,url:o.configuration.path.base+o.configuration.path.mode.replace(/{mode}/g,o.configuration.mode)})}),t.prev=14,t.next=17,r.modesLoad[o.configuration.mode];case 17:t.next=22;break;case 19:throw t.prev=19,t.t1=t['catch'](14),t.t1;case 22:a=o.extendObject({},o.configuration,{readOnly:o.disabled}),delete a.path,o.instance=o.factory.fromTextArea(o.hostDomNode.nativeElement,a),o.instance[o.contentSetterMethodName](o.model),o.instance.on('blur',function(a,e){return o.blur.emit(e)}),o.instance.on('change',function(){o.onChangeCallback(o.instance.getValue()),o.modelChange.emit(o.model)}),o.instance.on('focus',function(a,e){return o.focus.emit(e)}),o.initialized.emit(o.instance);case 30:case'end':return t.stop();}},t,o,[[3,8],[14,19]])})))},r.prototype.setDisabledState=function(e){i.prototype.setDisabledState.call(this,e),this.instance&&this.instance.setOption('readOnly',this.disabled)},r}(Jd),oo.modesLoad={},lo),no=a(ao.prototype,'blur',[Qr],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),io=a(ao.prototype,'configuration',[Xr],{enumerable:!0,initializer:function(){return ap}}),ro=a(ao.prototype,'focus',[eo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),ao))||to);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Zd);var Qd=s.TextEditorComponent=(mo=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],providers:[{multi:!0,provide:js.NG_VALUE_ACCESSOR,useExisting:(0,Ms.forwardRef)(function(){return Qd})}],selector:'text-editor',template:'<textarea #hostDomNode></textarea>'}),so=(0,Ms.Input)(),po=(0,Ms.Output)(),co=(0,Ms.Output)(),uo=(0,Ms.Output)(),go=(0,Ms.Output)(),yo=(0,Ms.Output)(),fo=(0,Ms.Output)(),ho=(0,Ms.Output)(),bo=(0,Ms.Output)(),xo=(0,Ms.Output)(),vo=(0,Ms.Output)(),Po=(0,Ms.Output)(),No=(0,Ms.Output)(),To=(0,Ms.Output)(),So=(0,Ms.Output)(),Io=(0,Ms.Output)(),Do=(0,Ms.Output)(),Oo=(0,Ms.Output)(),Eo=(0,Ms.Output)(),Co=(0,Ms.Output)(),wo=(0,Ms.Output)(),_o=(0,Ms.Output)(),Ao=(0,Ms.Output)(),Ro=(0,Ms.Output)(),Mo=(0,Ms.Output)(),zo=(0,Ms.Output)(),jo=(0,Ms.Output)(),ko=(0,Ms.Output)(),Lo=(0,Ms.Output)(),Uo=(0,Ms.Output)(),qo=(0,Ms.Output)(),mo(Fo=(Go=function(i){function e(t){f(this,e);var a=m(this,i.call(this,t));return c(_this69,'configuration',Vo,a),a.factoryName='tinymce',c(_this69,'click',$o,a),c(_this69,'dblclick',Wo,a),c(_this69,'MouseDown',Bo,a),c(_this69,'MouseUp',Ho,a),c(_this69,'MouseMove',Ko,a),c(_this69,'MouseOver',Yo,a),c(_this69,'MouseOut',Jo,a),c(_this69,'MouseEnter',Zo,a),c(_this69,'MouseLeave',Qo,a),c(_this69,'KeyDown',Xo,a),c(_this69,'KeyPress',el,a),c(_this69,'KeyUp',tl,a),c(_this69,'ContextMenu',al,a),c(_this69,'Paste',nl,a),c(_this69,'Focus',il,a),c(_this69,'Blur',rl,a),c(_this69,'BeforeSetContent',ol,a),c(_this69,'SetContent',ll,a),c(_this69,'GetContent',ml,a),c(_this69,'PreProcess',sl,a),c(_this69,'PostProcess',pl,a),c(_this69,'NodeChange',dl,a),c(_this69,'Undo',cl,a),c(_this69,'Redo',ul,a),c(_this69,'Change',gl,a),c(_this69,'Dirty',yl,a),c(_this69,'Remove',fl,a),c(_this69,'ExecCommand',hl,a),c(_this69,'PastePreProcess',bl,a),c(_this69,'PastePostProcess',xl,a),'object'!==ws(e.applicationInterfaceLoad[a.factoryName])&&(e.applicationInterfaceLoad[a.factoryName]=new Promise(function(n,e){return a.fixedUtility.$.ajax({cache:!0,dataType:'script',error:e,success:function(){a.factory=a.fixedUtility.globalContext.tinymce,n(a.factory)},url:ip.scriptPath})})),a}return n(e,i),e.prototype.ngAfterViewInit=function(){var o=this;return i.prototype.ngAfterViewInit.call(this).then(function(){var t=o.extendObject({},o.configuration);o.factory.baseURL=t.baseURL,delete t.baseURL,delete t.scriptPath,t.target=o.hostDomNode.nativeElement;var l=t.init_instance_callback;t.init_instance_callback=function(t){o.instance=t,o.instance[o.contentSetterMethodName](o.model),o.instance.on('Change',function(){o.onChangeCallback(o.instance.getContent()),o.modelChange.emit(o.model)}),l&&l(o.instance);for(var e,a=['click','dblclick','MouseDown','MouseUp','MouseMove','MouseOver','MouseOut','MouseEnter','MouseLeave','KeyDown','KeyPress','ContextMenu','Paste','Focus','Blur','BeforeSetContent','SetContent','GetContent','PreProcess','PostProcess','NodeChange','Undo','Redo','Change','Dirty','Remove','PastePreProcess','PastePostProcess'],n=0;n<a.length;n++)e=a[n],o.instance.on(e,o[e].emit.bind(o[e]));o.instance.on('KeyUp',function(t){o.KeyUp.emit(t),o.onChangeCallback(o.instance.getContent()),o.onTouchedCallback(),o.modelChange.emit(o.model)}),o.instance.on('ExecCommand',function(t){o.ExecCommand.emit(t);var e=o.instance.getContent();'string'==typeof e&&0<e.length&&(o.onChangeCallback(o.instance.getContent()),o.onTouchedCallback(),o.modelChange.emit(o.model))})},t.setup=function(t){return t.on('Init',function(){return o.initialized.emit(t)})},o.factory.init(t)})},e.prototype.ngOnDestroy=function(){this.instance&&this.factory.remove(this.instance)},e.prototype.setDisabledState=function(e){i.prototype.setDisabledState.call(this,e),this.instance&&this.instance.setMode(this.disabled?'readonly':'design')},e}(Jd),Vo=a(Go.prototype,'configuration',[so],{enumerable:!0,initializer:function(){return ip}}),$o=a(Go.prototype,'click',[po],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Wo=a(Go.prototype,'dblclick',[co],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Bo=a(Go.prototype,'MouseDown',[uo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Ho=a(Go.prototype,'MouseUp',[go],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Ko=a(Go.prototype,'MouseMove',[yo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Yo=a(Go.prototype,'MouseOver',[fo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Jo=a(Go.prototype,'MouseOut',[ho],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Zo=a(Go.prototype,'MouseEnter',[bo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Qo=a(Go.prototype,'MouseLeave',[xo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Xo=a(Go.prototype,'KeyDown',[vo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),el=a(Go.prototype,'KeyPress',[Po],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),tl=a(Go.prototype,'KeyUp',[No],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),al=a(Go.prototype,'ContextMenu',[To],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),nl=a(Go.prototype,'Paste',[So],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),il=a(Go.prototype,'Focus',[Io],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),rl=a(Go.prototype,'Blur',[Do],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),ol=a(Go.prototype,'BeforeSetContent',[Oo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),ll=a(Go.prototype,'SetContent',[Eo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),ml=a(Go.prototype,'GetContent',[Co],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),sl=a(Go.prototype,'PreProcess',[wo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),pl=a(Go.prototype,'PostProcess',[_o],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),dl=a(Go.prototype,'NodeChange',[Ao],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),cl=a(Go.prototype,'Undo',[Ro],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),ul=a(Go.prototype,'Redo',[Mo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),gl=a(Go.prototype,'Change',[zo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),yl=a(Go.prototype,'Dirty',[jo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),fl=a(Go.prototype,'Remove',[ko],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),hl=a(Go.prototype,'ExecCommand',[Lo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),bl=a(Go.prototype,'PastePreProcess',[Uo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),xl=a(Go.prototype,'PastePostProcess',[qo],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Go))||Fo);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],Qd);var Xd={editor:'\n        (blur)="focused = false"\n        @defaultAnimation\n        (focus)="focused = true"\n        [ngModel]="model.value"\n        (ngModelChange)="model.value = onChange($event, state); modelChange.emit(model)"\n        [style.visibilty]="initialized ? \'visible\' : \'hidden\'"\n        #state="ngModel"\n    ',nativ:'\n        [name]="model.name"\n        [ngModel]="model.value"\n        (ngModelChange)="model.value = onChange($event, state); modelChange.emit(model)"\n        [placeholder]="description === \'\' ? null : description ? description : (model.description || model.name)"\n        [required]="required === null ? !model.nullable : required"\n        #state="ngModel"\n    ',nativText:'\n        [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"\n        [maxlength]="maximumLength === null ? (model.type === \'string\' ? model.maximumLength : null) : maximumLength"\n        [minlength]="minimumLength === null ? (model.type === \'string\' ? model.minimumLength : null) : minimumLength"\n        [pattern]="pattern === null ? (model.type === \'string\' ? model.regularExpressionPattern : null) : pattern"\n    ',wrapper:'\n        [declaration]="declaration"\n        [description]="description"\n        [disabled]="disabled"\n        [showDeclarationText]="showDeclarationText"\n        [maximum]="maximum"\n        [maximumLength]="maximumLength"\n        [maximumLengthText]="maximumLengthText"\n        [maximumText]="maximumText"\n        [minimum]="minimum"\n        [minimumLength]="minimumLength"\n        [minimumLengthText]="minimumLengthText"\n        [minimumText]="minimumText"\n        [model]="model"\n        [pattern]="pattern"\n        [required]="required"\n        [requiredText]="requiredText"\n        [patternText]="patternText"\n        [showValidationErrorMessages]="showValidationErrorMessages"\n        [type]="type"\n    '},ec='\n    <mat-hint align="start" @defaultAnimation matTooltip="info">\n        <span\n            [class.active]="showDeclaration"\n            (click)="showDeclaration = !showDeclaration"\n            *ngIf="declaration || model.declaration"\n        >\n            <a\n                (click)="$event.preventDefault()"\n                @defaultAnimation\n                href=""\n                *ngIf="showDeclarationText"\n            >{{showDeclarationText}}</a>\n            <span @defaultAnimation *ngIf="showDeclaration">\n                {{declaration || model.declaration}}\n            </span>\n        </span>\n        <span *ngIf="editor && selectableEditor && !model.disabled">\n            <span *ngIf="declaration || model.declaration">|</span>\n            <a\n                [class.active]="activeEditor"\n                (click)="$event.preventDefault(); $event.stopPropagation(); activeEditor = true"\n                href=""\n            >editor</a>\n            <span>|</span>\n            <a\n                [class.active]="!activeEditor"\n                (click)="$event.preventDefault(); $event.stopPropagation(); activeEditor = false"\n                href=""\n            >plain</a>\n        </span>\n    </mat-hint>\n    <span generic-error *ngIf="showValidationErrorMessages">\n        <p @defaultAnimation *ngIf="model.state?.errors?.maxlength">\n            {{maximumLengthText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.max">\n            {{maximumText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.minlength">\n            {{minimumLengthText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.min">\n            {{minimumText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.pattern">\n            {{patternText | genericStringTemplate:model}}\n        </p>\n        <p @defaultAnimation *ngIf="model.state?.errors?.required">\n            {{requiredText | genericStringTemplate:model}}\n        </p>\n    </span>\n    <mat-hint\n        align="end"\n        @defaultAnimation\n        *ngIf="!model.selection && model.type === \'string\' && model.maximumLength !== null && model.maximumLength < 100"\n    >{{model.value?.length}} / {{model.maximumLength}}</mat-hint>\n',tc=s.InputComponent=(vl=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],selector:'generic-input',template:'\n        <generic-textarea\n            '+Xd.wrapper+'\n            [activeEditor]="activeEditor"\n            [editor]="editor"\n            [maximumNumberOfRows]="maximumNumberOfRows"\n            [minimumNumberOfRows]="minimumNumberOfRows"\n            *ngIf="editor || model.editor; else simpleInput"\n            [rows]="rows"\n            [selectableEditor]="selectableEditor"\n        ><ng-content></ng-content></generic-textarea>\n        <ng-template #simpleInput><generic-simple-input\n            '+Xd.wrapper+'\n            [labels]="labels"\n        ><ng-content></ng-content></generic-simple-input></ng-template>\n    '}),Pl=(0,Ms.Input)(),Nl=(0,Ms.Input)(),Tl=(0,Ms.Input)(),Sl=(0,Ms.Input)(),Il=(0,Ms.Input)(),Dl=(0,Ms.Input)(),Ol=(0,Ms.Input)(),El=(0,Ms.Input)(),vl(Cl=(wl=function(s){function e(){var t,a,n;f(this,e);for(var i=arguments.length,r=Array(i),o=0;o<i;o++)r[o]=arguments[o];return n=(t=(a=m(this,s.call.apply(s,[this].concat(r))),a),c(_this71,'activeEditor',_l,a),c(_this71,'editor',Al,a),c(_this71,'labels',Rl,a),c(_this71,'maximumNumberOfRows',Ml,a),c(_this71,'minimumNumberOfRows',zl,a),c(_this71,'rows',jl,a),c(_this71,'selectableEditor',kl,a),c(_this71,'type',Ll,a),t),m(a,n)}return n(e,s),e}(Ud),_l=a(wl.prototype,'activeEditor',[Pl],{enumerable:!0,initializer:function(){return null}}),Al=a(wl.prototype,'editor',[Nl],{enumerable:!0,initializer:function(){return null}}),Rl=a(wl.prototype,'labels',[Tl],{enumerable:!0,initializer:function(){return{}}}),Ml=a(wl.prototype,'maximumNumberOfRows',[Sl],{enumerable:!0,initializer:function(){return this.maximumNumberOfRows}}),zl=a(wl.prototype,'minimumNumberOfRows',[Il],{enumerable:!0,initializer:function(){return this.minimumNumberOfRows}}),jl=a(wl.prototype,'rows',[Dl],{enumerable:!0,initializer:function(){return this.rows}}),kl=a(wl.prototype,'selectableEditor',[Ol],{enumerable:!0,initializer:function(){return null}}),Ll=a(wl.prototype,'type',[El],{enumerable:!0,initializer:function(){return this.type}}),wl))||Cl),ac=s.SimpleInputComponent=(Ul=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],selector:'generic-simple-input',template:'\n        <ng-container\n            @defaultAnimation *ngIf="model.selection; else textInput"\n        >\n            <mat-form-field>\n                <mat-select [(ngModel)]="model.value" '+Xd.nativ+'>\n                    <mat-option\n                        *ngFor="let value of model.selection" [value]="value"\n                    >\n                        {{labels.hasOwnProperty(value) ? labels[value] : value}}\n                    </mat-option>\n                </mat-select>\n                '+ec+'\n                <ng-content></ng-content>\n            </mat-form-field>\n        </ng-container>\n        <ng-template #textInput><mat-form-field>\n            <input\n                '+Xd.nativ+'\n                '+Xd.nativText+'\n                [max]="maximum === null ? (model.type === \'number\' ? model.maximum : null) : maximum"\n                matInput\n                [min]="minimum === null ? (model.type === \'number\' ? model.minimum : null) : minimum"\n                [type]="type ? type : model.name.startsWith(\'password\') ? \'password\' : model.type === \'string\' ? \'text\' : \'number\'"\n            />\n            '+ec+'\n            <ng-content></ng-content>\n        </mat-form-field></ng-template>\n    '}),ql=(0,Ms.Input)(),Fl=(0,Ms.Input)(),Ul(Gl=(Vl=function(i){function e(t){f(this,e);var a=m(this,i.call(this,t));return c(_this72,'labels',$l,a),c(_this72,'type',Wl,a),a}return n(e,i),e}(qd),$l=a(Vl.prototype,'labels',[ql],{enumerable:!0,initializer:function(){return{}}}),Wl=a(Vl.prototype,'type',[Fl],{enumerable:!0,initializer:function(){return this.type}}),Vl))||Gl);Reflect.defineMetadata('design:paramtypes',[Ms.Injector],ac);var nc=s.TextareaComponent=(Bl=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],selector:'generic-textarea',template:'\n        <ng-container *ngIf="activeEditor; else plain">\n            <span [class.focused]="focused" class="editor-label">\n                {{\n                    description === \'\' ? null : description ? description : (\n                        model.description || model.name\n                    )\n                }}\n            </span>\n            <code-editor\n                '+Xd.editor+'\n                [configuration]="editor"\n                [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"\n                (initialized)="initialized = true"\n                *ngIf="editorType === \'code\' || editor.indentUnit; else tinymce"\n            ></code-editor>\n            <ng-template #tinymce><text-editor\n                '+Xd.editor+'\n                [configuration]="editor"\n                [disabled]="disabled === null ? (model.disabled || model.mutable === false || model.writable === false) : disabled"\n                (initialized)="initialized = true"\n            ></text-editor></ng-template>\n            '+ec+'\n            <ng-content></ng-content>\n        </ng-container>\n        <ng-template #plain><mat-form-field @defaultAnimation>\n            <textarea\n                '+Xd.nativ+'\n                '+Xd.nativText+'\n                [matAutosizeMaxRows]="maximumNumberOfRows"\n                [matAutosizeMinRows]="minimumNumberOfRows"\n                matInput\n                matTextareaAutosize\n                [rows]="rows"\n            ></textarea>\n            '+ec+'\n            <ng-content></ng-content>\n        </mat-form-field></ng-template>\n    '}),Hl=(0,Ms.Input)(),Kl=(0,Ms.Input)(),Yl=(0,Ms.Input)(),Jl=(0,Ms.Input)(),Zl=(0,Ms.Input)(),Ql=(0,Ms.Input)(),Bl(Xl=(em=(mm=lm=function(o){function e(t,a){f(this,e);var n=m(this,o.call(this,a));return c(_this73,'activeEditor',tm,n),c(_this73,'editor',am,n),n.editorType='custom',c(_this73,'maximumNumberOfRows',nm,n),c(_this73,'minimumNumberOfRows',im,n),c(_this73,'rows',rm,n),c(_this73,'selectableEditor',om,n),t.configuration.hasOwnProperty('defaultEditorOptions')&&'object'===ws(t.configuration.defaultEditorOptions)&&null!==t.configuration.defaultEditorOptions&&(e.defaultEditorOptions=t.configuration.defaultEditorOptions),n}return n(e,o),e.prototype.ngOnInit=function(){for(var t,a=arguments.length,n=Array(a),i=0;i<a;i++)n[i]=arguments[i];(t=o.prototype.ngOnInit).call.apply(t,[this].concat(n)),null===this.editor&&this.model.editor&&(this.editor=this.model.editor),'string'==typeof this.editor?(this.editor.startsWith('!')&&(this.editor=this.editor.substring(1),null===this.selectableEditor&&(this.selectableEditor=!1)),this.editor.startsWith('(')&&this.editor.endsWith(')')?this.editor=this.editor.substring(1,this.editor.length-1):null===this.activeEditor&&(this.activeEditor=!0),this.editorType=this.editor,this.editor=this.editor.startsWith('code')?this.editor.startsWith('code:')?{mode:this.editor.substring(5)}:{}:'raw'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | code | fullscreen',toolbar2:!1}:'simple'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | bold italic underline strikethrough subscript superscript | fullscreen',toolbar2:!1}:'normal'===this.editor?{toolbar1:'cut copy paste | undo redo removeformat | styleselect formatselect | searchreplace visualblocks fullscreen code'}:{}):null===this.editor&&this.activeEditor&&(this.editor={}),null===this.activeEditor&&(this.activeEditor=!1),null===this.selectableEditor&&('boolean'==typeof this.model.selectableEditor?this.selectableEditor=this.model.selectableEditor:this.selectableEditor=!0),'object'===ws(this.editor)&&null!==this.editor?this.editorType.startsWith('code')||this.editor.indentUnit?this.editor=this._extendObject(!0,{},ap,e.defaultEditorOptions.code,this.editor):this.editor=this._extendObject(!0,{},ip,e.defaultEditorOptions.markup,this.editor):this.selectableEditor=!1},e}(qd),lm.defaultEditorOptions={code:{},markup:{}},mm),tm=a(em.prototype,'activeEditor',[Hl],{enumerable:!0,initializer:function(){return null}}),am=a(em.prototype,'editor',[Kl],{enumerable:!0,initializer:function(){return null}}),nm=a(em.prototype,'maximumNumberOfRows',[Yl],{enumerable:!0,initializer:function(){return this.maximumNumberOfRows}}),im=a(em.prototype,'minimumNumberOfRows',[Jl],{enumerable:!0,initializer:function(){return this.minimumNumberOfRows}}),rm=a(em.prototype,'rows',[Zl],{enumerable:!0,initializer:function(){return this.rows}}),om=a(em.prototype,'selectableEditor',[Ql],{enumerable:!0,initializer:function(){return null}}),em))||Xl);Reflect.defineMetadata('design:paramtypes',[op,Ms.Injector],nc);var ic=s.FileInputComponent=(sm=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy[Js],selector:'generic-file-input',template:'\n        <mat-card>\n            <mat-card-header\n                @defaultAnimation\n                *ngIf="headerText !== \'\' && (headerText || file?.name || model[attachmentTypeName][internalName]?.declaration || headerText || file?.name || name || model[attachmentTypeName][internalName]?.description || name)"\n            >\n                <mat-card-title>\n                    <span\n                        @defaultAnimation\n                        *ngIf="!editableName || revision || headerText || !file?.name; else editable"\n                    >\n                        {{\n                            headerText ||\n                            file?.name ||\n                            model[attachmentTypeName][\n                                internalName\n                            ]?.description ||\n                            name\n                        }}\n                    </span>\n                    <ng-template #editable>\n                        <ng-container *ngIf="synchronizeImmediately; else parent">\n                            <mat-form-field\n                                [class.dirty]="editedName && editedName !== file.name"\n                                matTooltip="Focus to edit."\n                            >\n                                <input\n                                    matInput\n                                    [ngModel]="editedName || file.name"\n                                    (ngModelChange)="editedName = $event"\n                                />\n                                <mat-hint\n                                    [class.active]="showDeclaration"\n                                    (click)="showDeclaration = !showDeclaration"\n                                    @defaultAnimation\n                                    matTooltip="info"\n                                    *ngIf="model[attachmentTypeName][internalName]?.declaration"\n                                >\n                                    <a\n                                        (click)="$event.preventDefault()"\n                                        @defaultAnimation\n                                        href=""\n                                        *ngIf="showDeclarationText"\n                                    >{{showDeclarationText}}</a>\n                                    <span\n                                        @defaultAnimation\n                                        *ngIf="showDeclaration"\n                                    >\n                                        {{\n                                            model[attachmentTypeName][\n                                                internalName\n                                            ].declaration\n                                        }}\n                                    </span>\n                                </mat-hint>\n                            </mat-form-field>\n                            <ng-container\n                                *ngIf="editedName && editedName !== file.name"\n                            >\n                                <a\n                                    (click)="$event.preventDefault();rename(editedName)"\n                                    @defaultAnimation\n                                    href=""\n                                >{{saveNameText}}</a>\n                                <a\n                                    (click)="$event.preventDefault();editedName = file.name"\n                                    @defaultAnimation\n                                    href=""\n                                >{{resetNameText}}</a>\n                            </ng-container>\n                        </ng-container>\n                        <ng-template #parent><mat-form-field\n                            [class.dirty]="file.initialName !== file.name"\n                            @defaultAnimation\n                            matTooltip="Focus to edit."\n                            *ngIf="!synchronizeImmediately"\n                        >\n                            <input\n                                matInput [ngModel]="file.name"\n                                (ngModelChange)="file.name = $event;modelChange.emit(this.model); fileChange.emit(file)"\n                            />\n                            <mat-hint\n                                [class.active]="showDeclaration"\n                                (click)="showDeclaration = !showDeclaration"\n                                @defaultAnimation\n                                matTooltip="info"\n                                *ngIf="model[attachmentTypeName][internalName]?.declaration"\n                            >\n                                <a\n                                    (click)="$event.preventDefault()"\n                                    @defaultAnimation\n                                    href=""\n                                    *ngIf="showDeclarationText"\n                                >{{showDeclarationText}}</a>\n                                <span\n                                    @defaultAnimation\n                                    *ngIf="showDeclaration"\n                                >\n                                    {{\n                                        model[attachmentTypeName][\n                                            internalName\n                                        ].declaration\n                                    }}\n                                </span>\n                            </mat-hint>\n                        </mat-form-field></ng-template>\n                    </ng-template>\n                </mat-card-title>\n            </mat-card-header>\n            <img mat-card-image\n                [attr.alt]="name"\n                [attr.src]="file.source"\n                @defaultAnimation\n                *ngIf="file?.type === \'image\' && file?.source"\n            >\n            <video\n                autoplay\n                @defaultAnimation\n                mat-card-image\n                muted\n                *ngIf="file?.type === \'video\' && file?.source"\n                loop\n            >\n                <source [attr.src]="file.source" [type]="file.content_type">\n                No preview possible.\n            </video>\n            <iframe\n                @defaultAnimation\n                *ngIf="file?.type === \'text\' && file?.source"\n                [src]="file.source"\n                style="border: none; width: 100%; max-height: 150px"\n            ></iframe>\n            <div\n                @defaultAnimation\n                mat-card-image\n                *ngIf="(!file?.type && (file?.source || (file?.source | genericType) === \'string\') ? noPreviewText : noFileText) as text"\n            ><p>{{text}}</p></div>\n            <mat-card-content>\n                <ng-content></ng-content>\n                <div\n                    @defaultAnimation\n                    generic-error\n                    *ngIf="showValidationErrorMessages && model[attachmentTypeName][internalName]?.state?.errors"\n                >\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.contentType"\n                    >\n                        {{\n                            typePatternText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.database"\n                    >\n                        {{\n                            model[attachmentTypeName][\n                                internalName\n                            ].state.errors.database\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.maximumSize"\n                    >\n                        {{\n                            maximumSizeText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.minimumSize"\n                    >\n                        {{\n                            minimumSizeText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.name"\n                    >\n                        {{\n                            namePatternText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                    <p\n                        @defaultAnimation\n                        *ngIf="model[attachmentTypeName][internalName].state.errors.required"\n                    >\n                        {{\n                            requiredText | genericStringTemplate:{\n                                attachmentTypeName: attachmentTypeName,\n                                file: file,\n                                internalName: internalName,\n                                model: model[attachmentTypeName][internalName]\n                            }\n                        }}\n                    </p>\n                </div>\n            </mat-card-content>\n            <mat-card-actions>\n                <input #input style="display: none" type="file" />\n                <button\n                    @defaultAnimation\n                    (click)="input.click()"\n                    mat-raised-button\n                    *ngIf="newButtonText"\n                >{{newButtonText}}</button>\n                <button\n                    (click)="remove()"\n                    @defaultAnimation\n                    mat-raised-button\n                    *ngIf="deleteButtonText && file"\n                >{{deleteButtonText}}</button>\n                <button mat-raised-button\n                    @defaultAnimation\n                    *ngIf="downloadButtonText && file"\n                ><a [download]="file.name" [href]="file.source">\n                    {{downloadButtonText}}\n                </a></button>\n            </mat-card-actions>\n        </mat-card>\n    '}),pm=(0,Ms.Input)(),dm=(0,Ms.Output)(),cm=(0,Ms.Input)(),um=(0,Ms.Input)(),gm=(0,Ms.Input)(),ym=(0,Ms.Output)(),fm=(0,Ms.Input)(),hm=(0,Ms.ViewChild)('input'),bm=(0,Ms.Input)(),xm=(0,Ms.Input)(),vm=(0,Ms.Input)(),Pm=(0,Ms.Input)(),Nm=(0,Ms.Input)(),Tm=(0,Ms.Input)(),Sm=(0,Ms.Input)(),Im=(0,Ms.Output)(),Dm=(0,Ms.Input)(),Om=(0,Ms.Input)(),Em=(0,Ms.Input)(),Cm=(0,Ms.Input)(),wm=(0,Ms.Input)(),_m=(0,Ms.Input)(),Am=(0,Ms.Input)(),Rm=(0,Ms.Input)(),Mm=(0,Ms.Input)(),zm=(0,Ms.Input)(),jm=(0,Ms.Input)(),sm(km=(Lm=(us=cs=function(){function u(e,t,a,n,i,r,o,l,m,s){var p;f(this,u),this.abstractResolver=this.abstractResolver,this.attachmentTypeName=this.attachmentTypeName,c(this,'autoMessages',Um,this),this.configuration=this.configuration,c(this,'delete',qm,this),c(this,'deleteButtonText',Fm,this),this.deletedName=this.deletedName,c(this,'downloadButtonText',Gm,this),c(this,'editableName',Vm,this),this.file=null,c(this,'fileChange',$m,this),c(this,'headerText',Wm,this),this.idName=this.idName,c(this,'input',Bm,this),c(this,'resetNameText',Hm,this),c(this,'saveNameText',Km,this),c(this,'showDeclarationText',Ym,this),this.typeName=this.typeName,this.internalName=this.internalName,this.keyCode=this.keyCode,c(this,'mapNameToField',Jm,this),c(this,'maximumSizeText',Zm,this),c(this,'minimumSizeText',Qm,this),c(this,'model',Xm,this),c(this,'modelChange',es,this),c(this,'name',ts,this),c(this,'namePatternText',as,this),c(this,'newButtonText',ns,this),c(this,'noFileText',is,this),c(this,'noPreviewText',rs,this),c(this,'oneDocumentPerFileMode',os,this),c(this,'requiredText',ls,this),c(this,'revision',ms,this),this.revisionName=this.revisionName,c(this,'showValidationErrorMessages',ss,this),c(this,'synchronizeImmediately',ps,this),this.template=this.template,c(this,'typePatternText',ds,this),this._data=this._data,this._domSanitizer=this._domSanitizer,this._extendObject=this._extendObject,this._getFilenameByPrefix=this._getFilenameByPrefix,this._idIsObject=!1,this._representObject=this._representObject,this._stringFormat=this._stringFormat,this._prefixMatch=!1,this.abstractResolver=e,this.configuration=r.configuration,this.attachmentTypeName=this.configuration.database.model.property.name.special.attachment,this.keyCode=s.fixed.tools.keyCode,this.deletedName=this.configuration.database.model.property.name.special.deleted,this.idName=this.configuration.database.model.property.name.special.id,this.model=(p={},p[this.attachmentTypeName]={},p.id=null,p),this.revisionName=this.configuration.database.model.property.name.special.revision,this.template=m.transform.bind(m),this.typeName=this.configuration.database.model.property.name.special.type,this._data=t,this._domSanitizer=a,this._extendObject=n.transform.bind(n),this._getFilenameByPrefix=i.transform.bind(i),this._representObject=o.transform.bind(o),this._stringFormat=l.transform.bind(l)}return u.prototype.determinePresentationType=function(){this.file&&this.file.content_type&&(u.textMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='text':u.imageMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='image':u.videoMimeTypeRegularExpression.test(this.file.content_type)?this.file.type='video':this.file.type='binary')},u.prototype.ngOnChanges=function(){var t=d(regeneratorRuntime.mark(function n(i){var t;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if('object'===ws(this.model[this.idName])&&(this._idIsObject=!0),i.hasOwnProperty('mapNameToField')&&this.mapNameToField&&!Array.isArray(this.mapNameToField)&&(this.mapNameToField=[this.mapNameToField]),(i.hasOwnProperty('model')||i.hasOwnProperty('name'))&&(this.internalName=this._getFilenameByPrefix(this.model[this.attachmentTypeName],this.name),this.name&&this.internalName&&this.internalName!==this.name&&(this._prefixMatch=!0),this.model[this.attachmentTypeName][this.internalName].state={},this.file=this.model[this.attachmentTypeName][this.internalName].value,this.file?this.file.initialName=this.file.name:!this.model[this.attachmentTypeName][this.internalName].nullable&&(this.model[this.attachmentTypeName][this.internalName].state.errors={required:!0})),!(i.hasOwnProperty('model')||i.hasOwnProperty('name')||i.hasOwnProperty('revision'))){a.next=24;break}if(!this.file){a.next=21;break}if(this.file.query='?version='+this.file.digest,this.file.source){a.next=21;break}if(t=this._idIsObject?this.model[this.idName].value:this.model[this.idName],!(this.revision&&i.revision.currentValue!==i.revision.previousValue)){a.next=20;break}return a.prev=9,a.next=12,this.retrieveAttachment(t,{rev:this.revision});case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a['catch'](9),this.model[this.attachmentTypeName][this.internalName].state.errors.database='message'in a.t0?a.t0.message:this._representObject(a.t0),a.abrupt('return');case 18:a.next=21;break;case 20:this.file.source=this._domSanitizer.bypassSecurityTrustResourceUrl(this._stringFormat(this.configuration.database.url,'')+'/'+(this.configuration.name||'generic')+('/'+t+'/'+this.file.name)+this.file.query);case 21:this.determinePresentationType(),this.modelChange.emit(this.model),this.fileChange.emit(this.file);case 24:case'end':return a.stop();}},n,this,[[9,14]])}));return function(){return t.apply(this,arguments)}}(),u.prototype.ngAfterViewInit=function(){var t=this;this.input.nativeElement.addEventListener('change',function(){0<t.input.nativeElement.files.length&&(t.file={content_type:t.input.nativeElement.files[0].type||'text/plain',data:t.input.nativeElement.files[0],initialName:t.input.nativeElement.files[0].name,length:t.input.nativeElement.files[0].size,name:t.input.nativeElement.files[0].name},t.update(t.file?t.file.name:null))})},u.prototype.remove=function(){var t=d(regeneratorRuntime.mark(function r(){var o,t,a,n;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!(this.synchronizeImmediately&&this.file)){i.next=15;break}return a=void 0,n=(o={},o[this.typeName]=this.model[this.typeName],o[this.idName]=this._idIsObject?this.model[this.idName].value:this.model[this.idName],o[this.revisionName]=this.model[this.revisionName],o),this.oneDocumentPerFileMode?n[this.deletedName]=!0:n[this.attachmentTypeName]=(t={},t[this.file.name]={content_type:'text/plain',data:null},t),i.prev=4,i.next=7,this._data.put(n);case 7:a=i.sent,i.next=14;break;case 10:return i.prev=10,i.t0=i['catch'](4),this.model[this.attachmentTypeName][this.internalName].state.errors={database:'message'in i.t0?i.t0.message:this._representObject(i.t0)},i.abrupt('return');case 14:this.mapNameToField&&this.mapNameToField.includes(this.idName)?this.delete.emit(a):this.model[this.revisionName]=a.rev;case 15:this.model[this.attachmentTypeName][this.internalName].state.errors=this.model[this.attachmentTypeName][this.internalName].value=this.file=null,this.model[this.attachmentTypeName][this.internalName].nullable||(this.model[this.attachmentTypeName][this.internalName].state.errors={required:!0}),this.modelChange.emit(this.model),this.fileChange.emit(this.file);case 19:case'end':return i.stop();}},r,this,[[4,10]])}));return function(){return t.apply(this,arguments)}}(),u.prototype.rename=function(){var t=d(regeneratorRuntime.mark(function i(r){var t,a;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(t=this._idIsObject?this.model[this.idName].value:this.model[this.idName],a=this.file.name,!(this.file.stub&&this.mapNameToField&&t&&this.mapNameToField.includes(this.idName))){n.next=12;break}return n.prev=3,n.next=6,this.retrieveAttachment(t);case 6:n.next=12;break;case 8:return n.prev=8,n.t0=n['catch'](3),this.model[this.attachmentTypeName][this.internalName].state.errors={database:'message'in n.t0?n.t0.message:this._representObject(n.t0)},n.abrupt('return');case 12:return this.file.name=r,n.abrupt('return',this.update(a));case 14:case'end':return n.stop();}},i,this,[[3,8]])}));return function(){return t.apply(this,arguments)}}(),u.prototype.retrieveAttachment=function(){var t=d(regeneratorRuntime.mark(function r(o){var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._data.getAttachment(o,this.file.name,n);case 2:if(t=a.sent,a.t0=t.type||'text/plain','undefined'!=typeof Blob){a.next=8;break}a.t1=t.toString('base64'),a.next=11;break;case 8:return a.next=10,i(18).blobToBase64String(t);case 10:a.t1=a.sent;case 11:a.t2=a.t1,a.t3=t.size,a.t4=this.file.name,this.file={content_type:a.t0,data:a.t2,length:a.t3,name:a.t4},this.file.source=this._domSanitizer.bypassSecurityTrustResourceUrl('data:'+this.file.content_type+';base64,'+this.file.data);case 16:case'end':return a.stop();}},r,this)}));return function(){return t.apply(this,arguments)}}(),u.prototype.update=function(){var t=d(regeneratorRuntime.mark(function D(E){var t,e,n,i,r,o,l,m,s,p,d,c,u,g,y,h,b,x,v,C,N,w,T,S,I,O=this;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this.model[this.attachmentTypeName][this.internalName].state={},this._prefixMatch&&(t=this.file.name.lastIndexOf('.'),this.file.name=[0,-1].includes(t)?this.name:this.name+this.file.name.substring(t)),this.model[this.attachmentTypeName][this.internalName].value=this.file,this.model[this.attachmentTypeName][this.internalName].state.errors||(this.model[this.attachmentTypeName][this.internalName].state.errors={}),new RegExp(this.internalName).test(this.file.name)||(this.model[this.attachmentTypeName][this.internalName].state.errors={name:!0}),[void 0,null].includes(this.model[this.attachmentTypeName][this.internalName].contentTypeRegularExpressionPattern)||new RegExp(this.model[this.attachmentTypeName][this.internalName].contentTypeRegularExpressionPattern).test(this.file.content_type)||(this.model[this.attachmentTypeName][this.internalName].state.errors.contentType=!0),[void 0,null].includes(this.model[this.attachmentTypeName][this.internalName].minimumSize)||this.model[this.attachmentTypeName][this.internalName].minimumSize<=this.file.length||(this.model[this.attachmentTypeName][this.internalName].state.errors.minimuSize=!0),[void 0,null].includes(this.model[this.attachmentTypeName][this.internalName].maximumSize)||this.model[this.attachmentTypeName][this.internalName].maximumSize>=this.file.length||(this.model[this.attachmentTypeName][this.internalName].state.errors.maximumSize=!0),0===Object.keys(this.model[this.attachmentTypeName][this.internalName].state.errors).length)delete this.model[this.attachmentTypeName][this.internalName].state.errors;else{for(n in e='There was encountered an error during uploading file "'+(this.file.name+'": '),this.model[this.attachmentTypeName][this.internalName].state.errors)this.model[this.attachmentTypeName][this.internalName].state.errors.hasOwnProperty(n)&&(e+='\n'+n+' - '+this.template(this[{contentType:'typePatternText',maximumSize:'maximumSizeText',minimumSize:'minimumSizeText',name:'namePatternText',required:'requiredText'}[n]],{attachmentTypeName:this.attachmentTypeName,file:this.file,internalName:this.internalName,model:this.model[this.attachmentTypeName][this.internalName]}));this.abstractResolver.message(e)}if(!this.synchronizeImmediately||this.model[this.attachmentTypeName][this.internalName].state.errors){a.next=76;break}if(l=(i={},i[this.typeName]=this.model[this.typeName],i[this.idName]=this._idIsObject?this.model[this.idName].value:this.model[this.idName],i),null!==this.synchronizeImmediately&&'object'===ws(this.synchronizeImmediately)){for(s in m={},this.synchronizeImmediately)this.synchronizeImmediately.hasOwnProperty(s)&&(m[s]=this.template(this.synchronizeImmediately[s],this.file));this._extendObject(!0,l,m)}if(p=this._idIsObject?this.model[this.idName].value:this.model[this.idName],E&&E!==this.file.name&&!(this.mapNameToField&&p&&this.mapNameToField.includes(this.idName))&&(l[this.attachmentTypeName]=(r={},r[E]={data:null},r)),[void 0,null].includes(this.model[this.revisionName])||(l[this.revisionName]=this.model[this.revisionName]),d=[],!this.mapNameToField){a.next=34;break}p&&p!==this.file.name&&this.mapNameToField.includes(this.idName)&&(l[this.deletedName]=!0,d.unshift(l),l=this._extendObject(!0,{},l,(c={},c[this.deletedName]=!1,c))),u=this.mapNameToField,g=Array.isArray(u),y=0,u=g?u:u[Symbol.iterator]();case 19:if(!g){a.next=25;break}if(!(y>=u.length)){a.next=22;break}return a.abrupt('break',34);case 22:h=u[y++],a.next=29;break;case 25:if(y=u.next(),!y.done){a.next=28;break}return a.abrupt('break',34);case 28:h=y.value;case 29:b=h,l[b]=this.file.name,b===this.idName&&this._idIsObject?this.model[b].value=this.file.name:this.model[b]=this.file.name;case 32:a.next=19;break;case 34:return l[this.revisionName]='upsert',l[this.attachmentTypeName]=(o={},o[this.file.name]={content_type:this.file.content_type,data:this.file.data},o),d.unshift(l),x=void 0,a.prev=38,a.next=41,this._data.bulkDocs(d);case 41:x=a.sent,a.next=49;break;case 44:return a.prev=44,a.t0=a['catch'](38),this.model[this.attachmentTypeName][this.internalName].state.errors={database:'message'in a.t0?a.t0.message:this._representObject(a.t0)},this.autoMessages&&this.abstractResolver.message('Database has encountered an error during uploading file "'+this.file.name+'": '+this.model[this.attachmentTypeName][this.internalName].state.errors.database),a.abrupt('return');case 49:p=l[this.idName],v=void 0,C=x,N=Array.isArray(C),w=0,C=N?C:C[Symbol.iterator]();case 52:if(!N){a.next=58;break}if(!(w>=C.length)){a.next=55;break}return a.abrupt('break',70);case 55:T=C[w++],a.next=62;break;case 58:if(w=C.next(),!w.done){a.next=61;break}return a.abrupt('break',70);case 61:T=w.value;case 62:if(S=T,!S.error){a.next=67;break}return this.model[this.attachmentTypeName][this.internalName].state.errors={database:S.message},this.autoMessages&&this.abstractResolver.message('Database has encountered an error during uploading file "'+this.file.name+'": '+S.message),a.abrupt('return');case 67:S.id===p&&(v=S.rev);case 68:a.next=52;break;case 70:this.file&&(this.file.revision=this.model[this.revisionName]=v,this.file.query='?rev='+v,this.file.source=this._domSanitizer.bypassSecurityTrustResourceUrl(this._stringFormat(this.configuration.database.url,'')+('/'+this.configuration.name+'/'+p+'/')+(''+this.file.name+this.file.query)),this.determinePresentationType()),this.autoMessages&&this.abstractResolver.message('Uploading file '+this.file.name+' was succesful.'),this.modelChange.emit(this.model),this.fileChange.emit(this.file),a.next=77;break;case 76:this.file.data&&(this.determinePresentationType(),I=new FileReader,I.onload=function(a){if(O.file.digest=new Date().getTime(),O.file.source=O._domSanitizer.bypassSecurityTrustResourceUrl(a.target.result),O.mapNameToField)for(var e=O.mapNameToField,t=Array.isArray(e),n=0,i=t?e:e[Symbol.iterator]();;){var l;if(t){if(n>=e.length)break;l=e[n++]}else{if(n=e.next(),n.done)break;l=n.value}var r=l;O.model[r]=O.file.name}O.modelChange.emit(O.model),O.fileChange.emit(O.file)},I.readAsDataURL(this.file.data));case 77:case'end':return a.stop();}},D,this,[[38,44]])}));return function(){return t.apply(this,arguments)}}(),u}(),cs.imageMimeTypeRegularExpression=/^image\/(?:p?jpe?g|png|svg(?:\+xml)?|vnd\.microsoft\.icon|gif|tiff|webp|vnd\.wap\.wbmp|x-(?:icon|jng|ms-bmp))$/,cs.textMimeTypeRegularExpression=/^(?:application\/xml)|(?:text\/(?:plain|x-ndpb[wy]html|(?:x-)?csv))$/,cs.videoMimeTypeRegularExpression=/^video\/(?:(?:x-)?(?:x-)?webm|3gpp|mp2t|mp4|mpeg|quicktime|(?:x-)?flv|(?:x-)?m4v|(?:x-)mng|x-ms-as|x-ms-wmv|x-msvideo)|(?:application\/(?:x-)?shockwave-flash)$/,us),Um=a(Lm.prototype,'autoMessages',[pm],{enumerable:!0,initializer:function(){return!0}}),qm=a(Lm.prototype,'delete',[dm],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Fm=a(Lm.prototype,'deleteButtonText',[cm],{enumerable:!0,initializer:function(){return'delete'}}),Gm=a(Lm.prototype,'downloadButtonText',[um],{enumerable:!0,initializer:function(){return'download'}}),Vm=a(Lm.prototype,'editableName',[gm],{enumerable:!0,initializer:function(){return!0}}),$m=a(Lm.prototype,'fileChange',[ym],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Wm=a(Lm.prototype,'headerText',[fm],{enumerable:!0,initializer:function(){return null}}),Bm=a(Lm.prototype,'input',[hm],{enumerable:!0,initializer:function(){return this.input}}),Hm=a(Lm.prototype,'resetNameText',[bm],{enumerable:!0,initializer:function(){return'\xD7'}}),Km=a(Lm.prototype,'saveNameText',[xm],{enumerable:!0,initializer:function(){return'\u2713'}}),Ym=a(Lm.prototype,'showDeclarationText',[vm],{enumerable:!0,initializer:function(){return'\u2139'}}),Jm=a(Lm.prototype,'mapNameToField',[Pm],{enumerable:!0,initializer:function(){return null}}),Zm=a(Lm.prototype,'maximumSizeText',[Nm],{enumerable:!0,initializer:function(){return'Filesize (${file.length} byte) is more than specified maximum of ${model.maximumSize} byte.'}}),Qm=a(Lm.prototype,'minimumSizeText',[Tm],{enumerable:!0,initializer:function(){return'Filesize (${file.length} byte) is less than specified minimum of ${model.minimumSize} byte.'}}),Xm=a(Lm.prototype,'model',[Sm],{enumerable:!0,initializer:function(){return this.model}}),es=a(Lm.prototype,'modelChange',[Im],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),ts=a(Lm.prototype,'name',[Dm],{enumerable:!0,initializer:function(){return null}}),as=a(Lm.prototype,'namePatternText',[Om],{enumerable:!0,initializer:function(){return'Given filename "${file.name}" doesn\'t match specified pattern "${internalName}".'}}),ns=a(Lm.prototype,'newButtonText',[Em],{enumerable:!0,initializer:function(){return'new'}}),is=a(Lm.prototype,'noFileText',[Cm],{enumerable:!0,initializer:function(){return''}}),rs=a(Lm.prototype,'noPreviewText',[wm],{enumerable:!0,initializer:function(){return''}}),os=a(Lm.prototype,'oneDocumentPerFileMode',[_m],{enumerable:!0,initializer:function(){return!0}}),ls=a(Lm.prototype,'requiredText',[Am],{enumerable:!0,initializer:function(){return'Please select a file.'}}),ms=a(Lm.prototype,'revision',[Rm],{enumerable:!0,initializer:function(){return null}}),ss=a(Lm.prototype,'showValidationErrorMessages',[Mm],{enumerable:!0,initializer:function(){return!1}}),ps=a(Lm.prototype,'synchronizeImmediately',[zm],{enumerable:!0,initializer:function(){return!1}}),ds=a(Lm.prototype,'typePatternText',[jm],{enumerable:!0,initializer:function(){return'Filetype "${file.content_type}" doesn\'t match specified pattern "${model.contentTypeRegularExpressionPattern}".'}}),Lm))||km);Reflect.defineMetadata('design:paramtypes',[Ld,jd,Ls.DomSanitizer,cp,ld,op,up,Bp,_d,rp],ic);var rc=s.PaginationComponent=(gs=(0,Ms.Component)({animations:tp,changeDetection:Ms.ChangeDetectionStrategy.OnPush,selector:'generic-pagination',template:'\n        <ul class="hans" @defaultAnimation *ngIf="lastPage > 1">\n            <li @defaultAnimation *ngIf="page > 2">\n                <a href="" (click)="change($event, 1)">--</a>\n            </li>\n            <li @defaultAnimation *ngIf="page > 1">\n                <a href="" (click)="change($event, previousPage)">-</a>\n            </li>\n            <li\n                class="page-{{currentPage}}"\n                @defaultAnimation\n                [ngClass]="{current: currentPage === page, previous: currentPage === previousPage, next: currentPage === nextPage, even: even, \'even-page\': currentPage % 2 === 0, first: currentPage === firstPage, last: currentPage === lastPage}"\n                *ngFor="let currentPage of pagesRange;let even = even"\n            >\n                <a (click)="change($event, currentPage)" href="">\n                    {{currentPage}}\n                </a>\n            </li>\n            <li @defaultAnimation *ngIf="lastPage > page">\n                <a href="" (click)="change($event, nextPage)">+</a>\n            </li>\n            <li @defaultAnimation *ngIf="lastPage > page + 1">\n                <a href="" (click)="change($event, lastPage)">++</a>\n            </li>\n        </ul>\n    '}),ys=(0,Ms.Input)(),fs=(0,Ms.Input)(),hs=(0,Ms.Output)(),bs=(0,Ms.Input)(),xs=(0,Ms.Input)(),gs(vs=(Ps=function(){function n(e,t){f(this,n),c(this,'itemsPerPage',Ns,this),c(this,'page',Ts,this),c(this,'pageChange',Ss,this),c(this,'pageRangeLimit',Is,this),c(this,'total',Ds,this),this._changeDetectorReference=this._changeDetectorReference,this._makeRange=this._makeRange,this._changeDetectorReference=e,this._makeRange=t.transform.bind(t)}var m=o,t=P;return n.prototype.change=function(a,e){a.preventDefault(),this._changeDetectorReference.markForCheck(),this.page=e,this.pageChange.emit(this.page)},Cs(n,[{key:'lastPage',get:function(){return l(this.total/this.itemsPerPage)}},{key:'nextPage',get:function(){return m(this.page+1,this.lastPage)}},{key:'pagesRange',get:function(){if(1>this.page-this.pageRangeLimit){var a=1,r=this.pageRangeLimit-(this.page-a),o=m(this.lastPage,this.page+this.pageRangeLimit+r);return this._makeRange([a,o])}var l=m(this.lastPage,this.page+this.pageRangeLimit),e=this.pageRangeLimit-(l-this.page),n=t(1,this.page-this.pageRangeLimit-e);return this._makeRange([n,l])}},{key:'previousPage',get:function(){return t(1,this.page-1)}}]),n}(),Ns=a(Ps.prototype,'itemsPerPage',[ys],{enumerable:!0,initializer:function(){return 10}}),Ts=a(Ps.prototype,'page',[fs],{enumerable:!0,initializer:function(){return 1}}),Ss=a(Ps.prototype,'pageChange',[hs],{enumerable:!0,initializer:function(){return new Ms.EventEmitter}}),Is=a(Ps.prototype,'pageRangeLimit',[bs],{enumerable:!0,initializer:function(){return 4}}),Ds=a(Ps.prototype,'total',[xs],{enumerable:!0,initializer:function(){return 0}}),Ps))||vs);Reflect.defineMetadata('design:paramtypes',[Ms.ChangeDetectorRef,Ip],rc);var oc=s.Module=(Os=(0,Ms.NgModule)({declarations:[pp,dp,cp,up,gp,yp,fp,hp,bp,xp,vp,Pp,Np,Tp,Sp,Ip,Dp,Op,Ep,Cp,wp,_p,Ap,Rp,Mp,zp,jp,kp,Lp,Up,qp,Fp,Gp,Vp,$p,Wp,Bp,Hp,Kp,Yp,Jp,Zp,Qp,Xp,ed,td,ad,nd,id,rd,od,ld,md,sd,pd,dd,cd,ud,gd,yd,fd,hd,bd,xd,vd,Pd,Nd,Td,Sd,Id,Dd,Od,Ed,Cd,wd,_d,Ad,Vd,Hd,$d,Wd,Jd,Md,Kd,Yd,Zd,tc,ac,Qd,nc,ic,rc],entryComponents:[Md],exports:[pp,dp,cp,up,gp,yp,fp,hp,bp,xp,vp,Pp,Np,Tp,Sp,Ip,Dp,Op,Ep,Cp,wp,_p,Ap,Rp,Mp,zp,jp,kp,Lp,Up,qp,Fp,Gp,Vp,$p,Wp,Bp,Hp,Kp,Yp,Jp,Zp,Qp,Xp,ed,td,ad,nd,id,rd,od,ld,md,sd,pd,dd,cd,ud,gd,yd,fd,hd,bd,xd,vd,Pd,Nd,Td,Sd,Id,Dd,Od,Ed,Cd,wd,_d,Ad,$d,Wd,Md,Kd,Yd,Zd,tc,ac,Qd,nc,ic,rc],imports:[Ls.BrowserModule.withServerTransition({appId:'generic-universal'}),js.FormsModule,ks.MatButtonModule,ks.MatCardModule,ks.MatDialogModule,ks.MatInputModule,ks.MatSelectModule,ks.MatTooltipModule],providers:[rp,op,zd,jd,kd,Rd,Ld,pp,dp,cp,up,gp,yp,fp,hp,bp,xp,vp,Pp,Np,Tp,Sp,Ip,Dp,Op,Ep,Cp,wp,_p,Ap,Rp,Mp,zp,jp,kp,Lp,Up,qp,Fp,Gp,Vp,$p,Wp,Bp,Hp,Kp,Yp,Jp,Zp,Qp,Xp,ed,td,ad,nd,id,rd,od,ld,md,sd,pd,dd,cd,ud,gd,yd,fd,hd,bd,xd,vd,Pd,Nd,Td,Sd,Id,Dd,Od,Ed,Cd,wd,_d,Ad,zs.DatePipe,{deps:[jd,Ms.Injector],multi:!0,provide:Ms.APP_INITIALIZER,useFactory:r}]}),Os(Es=function t(){f(this,t)})||Es);s.default=oc}).call(s,i(0)(e))},function(e){e.exports=r},function(e){e.exports=o},function(e){e.exports=l},function(e){e.exports=m},function(e){e.exports=s},function(e){e.exports=p},function(e){e.exports=d},function(e){e.exports=c},function(e){e.exports=u},function(e){e.exports=g}])});